const a0_0x5edfad=a0_0x1302;(function(_0x6bb0fa,_0x10e3f8){const _0x1b43e4=a0_0x1302,_0x867e91=_0x6bb0fa();while(!![]){try{const _0x3a096c=parseInt(_0x1b43e4(0x1eb))/0x1+-parseInt(_0x1b43e4(0x162))/0x2*(parseInt(_0x1b43e4(0x2c2))/0x3)+-parseInt(_0x1b43e4(0x1fd))/0x4+-parseInt(_0x1b43e4(0x25f))/0x5*(parseInt(_0x1b43e4(0x25d))/0x6)+parseInt(_0x1b43e4(0x15b))/0x7*(-parseInt(_0x1b43e4(0x13a))/0x8)+parseInt(_0x1b43e4(0x1af))/0x9+-parseInt(_0x1b43e4(0x1e8))/0xa*(-parseInt(_0x1b43e4(0x1fc))/0xb);if(_0x3a096c===_0x10e3f8)break;else _0x867e91['push'](_0x867e91['shift']());}catch(_0x50404e){_0x867e91['push'](_0x867e91['shift']());}}}(a0_0x99af,0xccfc8));function a0_0x1302(_0x43ea19,_0x1cbb57){const _0x99afe6=a0_0x99af();return a0_0x1302=function(_0x13026c,_0x4ed5f0){_0x13026c=_0x13026c-0x136;let _0x2078b8=_0x99afe6[_0x13026c];return _0x2078b8;},a0_0x1302(_0x43ea19,_0x1cbb57);}function a0_0x99af(){const _0x42d57b=['body','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','\x20|\x20Action\x20:\x20','aws-auth-cm.yaml','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','forEach','loadBalancer','jMdOc','match','createAuthConfigMap','JQEQC','IeSKl','createMountTargetAndWait','ckpdb','GjDBN','pxlNI','\x20:\x20','rEspj',',\x20EFS_FileSystem\x20=>\x20','setupHubHa','RNIFk','[ats]\x0aaws_access_key_id\x20=\x20','VZNin','wvhde','Adding\x20EFS\x20CSI\x20Driver','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','cloudProviderSecretKey','isCliToolInstalled','vXBkT','LifeCycleState','OutputKey','setupNewCluster','kkUOo','xkhCU','all','toUpperCase','RxzzC','kfvkK','buhOO','638586bdxiMN','CaiYy','data','PQveg','message','Added\x20EFS\x20CSI\x20Driver','split','gzCuN','ZYEyf','vpc-id','vjZXI','grtCQ','GUPQe','JgXpG','.\x20Error:\x20','qYMde','reportToGalactusAndSendToEDS','EFS','cluster','XwkKe','Skipping\x20Autoscaler\x20due\x20to:\x20','gciOd','replace','HgmxF','oFrSs','getNodeGroupInfo','./CloudProvider','rhcKZ','EJvbn','load','toNDb','pgHZG','accessKey','describeCluster','ZmYzn','cfMey','../utils/createClusterStack','EFSControllerRoleArn','4|1|3|2|0','geuNC','ZVbIu','uIFwB','apiVersion','ieEzC','YFwgE','ingress','KaYOs','warn','describeVpcs','kQkGn','tZsGW','../utils/gridComponents',',\x20ClusterRole\x20=>\x20','Autoscaler\x20Role\x20created.ARN:\x20','<ARN>','hostname','BAsCx','30YhdKXL','bEDdc','value','1066806WFnZel','VpcIds','cvxkG','startsWith','iTMJV','hubharesources','RfSFm','vYNcE','hePxX','\x0a\x09Service:\x20',':role/','hub-ha-aws-setup-failed','Added\x20storage\x20class.','IzbEm','rHjYC','wCFfT','Adding\x20storage\x20class...','10926476QfsqdT','3743956KquhOo','getPrincipalArn','secret','.\x20Please\x20Check\x20and\x20try\x20again',',\x20SecurityGroups\x20=>\x20','pdQby','isSubnetsValid','namespace','allowed','config','Creating\x20Autoscaler\x20Role','PwCkO','iZKgn','region','DLqUs','Values','SecurityGroups\x20=>\x20','../utils/hstUtils','2017-11-01','bYJsN','Svllp','templates','describeSubnets','Subnets','bhaJr','stack','kNeQA','parameters','VXsPQ','cloudProviderAccessKey','\x20in\x20region\x20','QjWsW','RqyFv','XsNFh','clusters','ohLXl','EXiIJ','error','wTAwE','xjIdi','cnolt','2016-11-15','fileSystemId',',\x20MountTargetId:\x20','ClusterRole\x20=>\x20','TEjTk','EvaluationResults','LOG','setCachedCredsInRegistry','getGridHostname','path','js-yaml','cYafb','DbybA','hbPsx','catch','nwxRd','certificateAuthority','aIWNy','HLCpM','BgBGx','setupAutoscaler','readFileAsync','YzDLe','utf-8','HjWur','uEPbl','Mount\x20target\x20','YCiWu','cloudProviderName','KyQmG','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','nodegroupName','getCallerIdentity','xJPMG','oUrNP','bzVGq','NIYIy','tTgqr','isBrowserstackCluster','zvQHe','EC2','dvtsv','nngyo','uIyXX','Name','eYzvF','AWSCloudProvider','TmyQq','../utils/createHubHaStack','writeFileSync','yYRoQ','Following\x20resources\x20are\x20created:','XbbQs','SZHuY','listClusters','4210938zmjCvm','cgdui','5SDhhAo','CXjNx','aQVGc','createMountTargets','error\x20:\x20','optGD','pSPQB','../config/constants','LevcQ','Stacks','endpoint','kjojI','KkHEv','info','EvalDecision','sendResourceDataToHST','YbaEC','clusterName','minNodes','\x20failed\x20to\x20reach\x20the\x20available\x20state.','VBOxm','hBhoi','stringify','IcOSw','VpZxQ','deleteCluster','describeMountTargets','zcaDa','VXITy','bBCcz','includes','clusterRegion','../utils/utilityMethods','EFS\x20FileSystem\x20=>\x20','EFSFileSystemId','KubeConfigTemplate.yaml','createStorageClass','wzIjE','fdENE','aDTIb','update','cMpAC','STS','HeGRB','pfHFe','UrFYC','ZTCVC','Cannot\x20find\x20VPC\x20','getAvailabilityZone','eiMmi','cloudProvider','XlTCE','add','cmUDS','vdOPL','OnXIM','exit','ZlSWv','VzJKZ','VbUED','push','NodeRole\x20=>\x20','aws-iam-authenticator\x20help','jpvhc','RXtgD','maxNodes','ktUEe','lpWkV','KLXRc','ZuznR','Subnets\x20=>\x20','suFgL','sendEventToBackend','efs-csi-driver-aws.yaml','wcgID','aws-iam-authenticator\x20tool\x20is\x20installed','YyKgx','palrJ','MountTargetId','PKtff','foOTM','aws_credentials','Cluster\x20=>\x20','NOhYn','Intercepted','then','autoscaler-creation-failed','has','-NodeGroup','snTZD','.\x20Deleting\x20all\x20the\x20stacks','nvdvj','Cyrul','InsOG','../config/logger','webSocketUtils','CLmbv','eStdx','ogvBO','1699347DgwHsT',',\x20NodeRole\x20=>\x20','FtPtF','qXegs',',\x20EFS_SecurityGroup\x20=>\x20','BdGEc','toLowerCase','jZDan','EKS','MountTargets','EXtLC','bWxbV','Authmap\x20already\x20exists.\x20Not\x20updating','simulatePrincipalPolicy','qADeE','name','getKubeConfigData','every','clusterAutoUpgrade','promise','loadAll','EFS\x20Controller\x20Role\x20=>\x20','cZKwB','nodegroup','getClusterInfo','XAsds','579856MIObFI','IUyGI','waitForMountTarget','XsSQm','debug','\x20ACCESS\x20KEY:\x20','browserstack',':user/','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','VeLcs',',\x20Subnets\x20=>\x20','xTUfu','PuyeG','EvalActionName','create-grid-called','ZeuIO','yZUBy','LLuGX','SubnetId','describeNodegroup','EFSSecurityGroup','wGbFB','rws','zvBPf','browserstack:managedBy','IBxMt','qoUDg','label','WARNING','FSrbt','toString','vWsjh','ZuQhM','49wfeicI','Ttcdb','tMFgK','SWikH','bKrUz','CXBZL','aSTFX','4VHVaNq','type','arn:aws:iam::','lINSV','FPfqk','tags','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','SubnetIds','kgnWF','init','PTrHC','kcnpx','RrdnC','VWAWf','exports','mapRoles','wNmEl','checkClusterCreated','OutputValue','ZZUhr','\x20because\x20its\x20Availability\x20Zone\x20','join','xIVuj','Skipping\x20subnet\x20','lgpIb','ViJIt','status','Outputs','ZPbAd','ERROR','HGGvn','available','qvFyY','RVczJ','createMountTarget'];a0_0x99af=function(){return _0x42d57b;};return a0_0x99af();}const fs=require('fs'),path=require(a0_0x5edfad(0x22f)),yaml=require(a0_0x5edfad(0x230)),awsSDK=require('aws-sdk'),{logger}=require(a0_0x5edfad(0x2bd)),{CloudProvider}=require(a0_0x5edfad(0x1c9)),{sendAWSInfoToHST}=require(a0_0x5edfad(0x20e)),{createClusterStack}=require(a0_0x5edfad(0x1d3)),{createHubHaStack}=require(a0_0x5edfad(0x256)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x5edfad(0x1e2)),{createAutoscalerStack}=require('../utils/createAutoscalerStack'),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x5edfad(0x27f)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x5edfad(0x266)),PERMISSIONS=require('../permissions/AWS.json');class AWSCloudProvider extends CloudProvider{constructor(_0x125d3d,_0x37284c,_0x5d88a4,_0x443c08){super(AWS,_0x125d3d,_0x37284c,_0x5d88a4,_0x443c08);}async[a0_0x5edfad(0x16c)](){const _0x3563c9=a0_0x5edfad;await super['init']();const _0x483dbe={};return _0x483dbe['region']=global_registry['clusterRegion'],_0x483dbe['accessKeyId']=global_registry[_0x3563c9(0x21a)],_0x483dbe['secretAccessKey']=global_registry[_0x3563c9(0x1a2)],awsSDK[_0x3563c9(0x206)][_0x3563c9(0x287)](_0x483dbe),this;}async[a0_0x5edfad(0x26e)](){const _0xe6654a=a0_0x5edfad,_0x4a8fb8={'CLmbv':function(_0x3a3e3e,_0x11dbc4){return _0x3a3e3e(_0x11dbc4);}};_0x4a8fb8[_0xe6654a(0x2bf)](sendAWSInfoToHST,this[_0xe6654a(0x150)]);}async[a0_0x5edfad(0x22d)](_0x5c371b){const _0x10b8d1=a0_0x5edfad;global_registry[_0x10b8d1(0x21a)]=_0x5c371b[this['cloudProviderName']][_0x10b8d1(0x1cf)],global_registry[_0x10b8d1(0x1a2)]=_0x5c371b[this['cloudProviderName']]['secret'];}[a0_0x5edfad(0x22e)](_0x59f0ef){const _0x7eef16=a0_0x5edfad;return _0x59f0ef[_0x7eef16(0x17d)][_0x7eef16(0x18c)][_0x7eef16(0x1dc)][0x0][_0x7eef16(0x1e6)];}async[a0_0x5edfad(0x24c)](){const _0x32bc3e=a0_0x5edfad,_0x57fdb5={'ktUEe':function(_0x3d84bb,_0x2d0d54){return _0x3d84bb(_0x2d0d54);},'BdGEc':function(_0x50165a,_0x22099f){return _0x50165a===_0x22099f;},'DbybA':_0x32bc3e(0x152),'suFgL':_0x32bc3e(0x140),'KLXRc':function(_0x2b18dd,_0x107e88){return _0x2b18dd===_0x107e88;},'snTZD':'aPlVF','IeSKl':_0x32bc3e(0x1e9),'nwxRd':function(_0x263444,_0x431a4e){return _0x263444===_0x431a4e;},'iWdsD':function(_0x592057,_0x2b346b){return _0x592057===_0x2b346b;},'bKrUz':_0x32bc3e(0x2c0)};try{if(_0x57fdb5[_0x32bc3e(0x2a3)](_0x57fdb5[_0x32bc3e(0x2b8)],_0x57fdb5[_0x32bc3e(0x2b8)])){const _0x59870b=await this[_0x32bc3e(0x138)]();if(_0x59870b[_0x32bc3e(0x1c1)]){if(_0x57fdb5[_0x32bc3e(0x2c7)](_0x57fdb5['IeSKl'],_0x57fdb5[_0x32bc3e(0x191)])){const _0x3c3220=_0x59870b[_0x32bc3e(0x1c1)][_0x32bc3e(0x167)];return _0x3c3220&&_0x57fdb5[_0x32bc3e(0x235)](_0x3c3220[_0x57fdb5[_0x32bc3e(0x232)]][_0x32bc3e(0x2c8)](),_0x57fdb5[_0x32bc3e(0x2a6)]);}else return!![];}}else{const _0x573e8d=[],_0x590700=[];_0x48de90[_0x32bc3e(0x214)]['forEach'](_0x5575f2=>{const _0x1810be=_0x32bc3e;_0x573e8d['push'](_0x5575f2[_0x1810be(0x14c)]);});const _0x3ce96b=_0x2ed3fe[_0x32bc3e(0x2d3)](_0x4a6e05=>{const _0x3b9c53=_0x32bc3e;if(_0x573e8d[_0x3b9c53(0x27d)](_0x4a6e05[_0x3b9c53(0x1ea)]))return!![];return _0x590700[_0x3b9c53(0x29b)](_0x4a6e05),![];});_0x57fdb5[_0x32bc3e(0x2a1)](_0x31c7ae,[_0x3ce96b,_0x590700]);}}catch(_0xa876ed){if(_0x57fdb5['iWdsD'](_0x57fdb5[_0x32bc3e(0x15f)],_0x57fdb5['bKrUz']))return![];else{const _0x1f88d3=_0xb6cdb[_0x32bc3e(0x1c1)]['tags'];return _0x1f88d3&&_0x57fdb5[_0x32bc3e(0x2c7)](_0x1f88d3[_0x57fdb5['DbybA']][_0x32bc3e(0x2c8)](),_0x57fdb5[_0x32bc3e(0x2a6)]);}}return![];}async['isClusterPresent'](){return this['checkClusterCreated']();}async[a0_0x5edfad(0x138)](){const _0x24a355=a0_0x5edfad,_0xcbbd75={};_0xcbbd75[_0x24a355(0x23f)]=_0x24a355(0x20f);const _0x517dd5=_0xcbbd75,_0x495491={};_0x495491[_0x24a355(0x1d9)]=_0x517dd5[_0x24a355(0x23f)];const _0x27d833=new awsSDK[(_0x24a355(0x2ca))](_0x495491),_0x2fd947={};return _0x2fd947['name']=this[_0x24a355(0x270)],_0x27d833['describeCluster'](_0x2fd947)[_0x24a355(0x2d5)]();}async['createAuthConfigMap'](_0x13e6a3){const _0x31050f=a0_0x5edfad,_0x384f6d={};_0x384f6d[_0x31050f(0x285)]=_0x31050f(0x212),_0x384f6d[_0x31050f(0x258)]=_0x31050f(0x189),_0x384f6d[_0x31050f(0x29a)]=_0x31050f(0x23d),_0x384f6d[_0x31050f(0x2ac)]=_0x31050f(0x1e5);const _0x1a4a2a=_0x384f6d,_0x1d1498=await fs[_0x31050f(0x23b)](path[_0x31050f(0x178)](__dirname,'..',_0x1a4a2a[_0x31050f(0x285)],_0x1a4a2a[_0x31050f(0x258)]),_0x1a4a2a[_0x31050f(0x29a)]),_0x143d3e=yaml[_0x31050f(0x1cc)](_0x1d1498);return _0x143d3e[_0x31050f(0x1b1)][_0x31050f(0x172)]=_0x143d3e[_0x31050f(0x1b1)][_0x31050f(0x172)][_0x31050f(0x1c5)](_0x1a4a2a[_0x31050f(0x2ac)],_0x13e6a3),_0x143d3e;}async[a0_0x5edfad(0x1c8)](_0x815572){const _0x5d7afd=a0_0x5edfad,_0x55c3c4={};_0x55c3c4[_0x5d7afd(0x231)]=_0x5d7afd(0x20f);const _0x29fdac=_0x55c3c4,_0x5a734e={};_0x5a734e[_0x5d7afd(0x1d9)]=_0x29fdac[_0x5d7afd(0x231)];const _0x2ee1ae=new awsSDK['EKS'](_0x5a734e),_0x51cca6={};return _0x51cca6[_0x5d7afd(0x270)]=this['clusterName'],_0x51cca6[_0x5d7afd(0x245)]=_0x815572,_0x2ee1ae['describeNodegroup'](_0x51cca6)[_0x5d7afd(0x2d5)]();}async[a0_0x5edfad(0x174)](){const _0x1dc101=a0_0x5edfad,_0x548cee={'TEjTk':function(_0x31a461,_0xaaa427){return _0x31a461!==_0xaaa427;},'yvFUq':_0x1dc101(0x261),'jpvhc':_0x1dc101(0x28c),'VWAWf':function(_0x3bfaee,_0x34eeca){return _0x3bfaee===_0x34eeca;},'bYJsN':_0x1dc101(0x2b2),'cvxkG':_0x1dc101(0x16b),'jMdOc':function(_0x336cca,_0x446dce){return _0x336cca(_0x446dce);},'oFrSs':function(_0x521e4c,_0x2ca12c){return _0x521e4c(_0x2ca12c);},'HNBhm':_0x1dc101(0x226),'rhcKZ':_0x1dc101(0x274),'XQZTg':function(_0x38ef21,_0x64282b){return _0x38ef21===_0x64282b;},'bWxbV':'Plazy','qoUDg':_0x1dc101(0x20f)};return new Promise((_0x5014c4,_0x590eec)=>{const _0x2ab0b9=_0x1dc101,_0x522dba={'ZYEyf':function(_0x5cc8a1,_0x581b55){const _0x28eb0a=a0_0x1302;return _0x548cee[_0x28eb0a(0x1c7)](_0x5cc8a1,_0x581b55);},'uIyXX':_0x548cee['HNBhm'],'pWkiv':function(_0x333dd9,_0x4fe2e1){const _0x1c3962=a0_0x1302;return _0x548cee[_0x1c3962(0x170)](_0x333dd9,_0x4fe2e1);},'wzIjE':_0x548cee[_0x2ab0b9(0x1ca)]};if(_0x548cee['XQZTg'](_0x548cee[_0x2ab0b9(0x2cd)],_0x548cee[_0x2ab0b9(0x2cd)])){const _0x47a4f7={};_0x47a4f7[_0x2ab0b9(0x1d9)]=_0x548cee[_0x2ab0b9(0x154)];const _0xd69df4=new awsSDK[(_0x2ab0b9(0x2ca))](_0x47a4f7);_0xd69df4[_0x2ab0b9(0x25c)]()[_0x2ab0b9(0x2d5)]()[_0x2ab0b9(0x2b4)](_0x110c55=>{const _0x3da20d=_0x2ab0b9;_0x548cee[_0x3da20d(0x22a)](_0x548cee['yvFUq'],_0x548cee[_0x3da20d(0x29e)])?(_0x110c55[_0x3da20d(0x21f)]['includes'](this[_0x3da20d(0x270)])&&(_0x548cee['VWAWf'](_0x548cee[_0x3da20d(0x210)],_0x548cee[_0x3da20d(0x1ed)])?_0x594062[_0x3da20d(0x17d)]=![]:_0x548cee[_0x3da20d(0x18d)](_0x5014c4,!![])),_0x548cee['jMdOc'](_0x5014c4,![])):(_0x4519af[_0x3da20d(0x222)](_0x3da20d(0x263)+_0x44ee40+_0x3da20d(0x196)+_0x31beae[_0x3da20d(0x216)]),_0x4b2a16[_0x3da20d(0x1b1)]=_0x3da20d(0x19f)+_0xd43e5,_0x16da34[_0x3da20d(0x222)]=_0x5f0138);})[_0x2ab0b9(0x234)](_0x4b2a26=>{const _0x1cfd79=_0x2ab0b9,_0x342b47={'jZDan':function(_0x59dd76,_0x48b9ac){const _0x31c166=a0_0x1302;return _0x522dba[_0x31c166(0x1b7)](_0x59dd76,_0x48b9ac);},'aIWNy':_0x522dba[_0x1cfd79(0x251)]};if(_0x522dba['pWkiv'](_0x522dba[_0x1cfd79(0x284)],_0x522dba[_0x1cfd79(0x284)]))logger[_0x1cfd79(0x222)](_0x4b2a26),_0x522dba[_0x1cfd79(0x1b7)](_0x590eec,_0x4b2a26);else{const _0x3f4b32={};_0x3f4b32['apiVersion']=_0x342b47[_0x1cfd79(0x237)],_0x3f4b32[_0x1cfd79(0x20a)]=_0x5af094[_0x1cfd79(0x27e)];const _0x57e7dc=new _0x4ee3a9[(_0x1cfd79(0x24e))](_0x3f4b32);_0x57e7dc[_0x1cfd79(0x1df)](_0x4d7065)[_0x1cfd79(0x2d5)]()['then'](_0x2e81d7=>{const _0xe5e442=_0x1cfd79;_0x342b47[_0xe5e442(0x2c9)](_0x29926c,!![]);})[_0x1cfd79(0x234)](_0x123d3e=>{const _0x3fffc8=_0x1cfd79;_0x2f23ad[_0x3fffc8(0x222)](_0x3fffc8(0x28e)+_0x3002f4+_0x3fffc8(0x21b)+_0x316f8a[_0x3fffc8(0x27e)]+_0x3fffc8(0x200)),_0x342b47[_0x3fffc8(0x2c9)](_0x472a2c,![]);});}});}else throw new _0x1d18a2(_0x2ab0b9(0x240)+_0x5e19e8+_0x2ab0b9(0x272));});}async['getUserInput'](_0x49ae02,_0x3dd380){const _0xe2529f=a0_0x5edfad,_0xe1588e={'xJPMG':function(_0x403bee,_0x1f7059){return _0x403bee(_0x1f7059);}},_0x2400fa=this[_0xe2529f(0x242)][_0xe2529f(0x1ab)](),_0x4dd959=await _0xe1588e['xJPMG'](_0x49ae02,_0x2400fa+_0xe2529f(0x13f)),_0x11564e=await _0xe1588e[_0xe2529f(0x247)](_0x49ae02,_0x2400fa+'\x20SECRET\x20KEY:\x20');global_registry['cloudProviderAccessKey']=_0x4dd959,global_registry[_0xe2529f(0x1a2)]=_0x11564e;const _0x5c0ba7={};return _0x5c0ba7['accessKey']=_0x4dd959,_0x5c0ba7['secret']=_0x11564e,_0x3dd380[_0xe2529f(0x291)][AWS]=_0x5c0ba7,_0x3dd380;}async[a0_0x5edfad(0x2d2)](){const _0x2aa4c9=a0_0x5edfad,_0x2f6002={'VzJKZ':function(_0x49af4a){return _0x49af4a();},'iZKgn':_0x2aa4c9(0x2b0),'wNmEl':_0x2aa4c9(0x212),'gciOd':_0x2aa4c9(0x282)},_0x271217=_0x2f6002[_0x2aa4c9(0x299)](getDirForConfig),_0x22c4a5=await this[_0x2aa4c9(0x138)](),_0x46ef1a=path['join'](_0x271217,_0x2f6002[_0x2aa4c9(0x209)]),_0x301598=_0x2aa4c9(0x19b)+global_registry[_0x2aa4c9(0x21a)]+'\x0aaws_secret_access_key\x20=\x20'+global_registry['cloudProviderSecretKey'];fs[_0x2aa4c9(0x257)](_0x46ef1a,_0x301598);let _0xa0d8e3=await fs[_0x2aa4c9(0x23b)](path['join'](__dirname,'..',_0x2f6002[_0x2aa4c9(0x173)],_0x2f6002[_0x2aa4c9(0x1c4)]));return _0xa0d8e3=_0xa0d8e3[_0x2aa4c9(0x158)](),_0xa0d8e3=_0xa0d8e3['replace'](/<CLUSTER_NAME>/g,this['clusterName']),_0xa0d8e3=_0xa0d8e3['replace'](/<CLUSTER_URL>/g,_0x22c4a5[_0x2aa4c9(0x1c1)][_0x2aa4c9(0x269)]),_0xa0d8e3=_0xa0d8e3['replace'](/<CERTIFICATE_DATA>/g,_0x22c4a5['cluster'][_0x2aa4c9(0x236)]['data']),_0xa0d8e3=_0xa0d8e3['replace'](/<CLUSTER_REGION>/g,global_registry[_0x2aa4c9(0x27e)]),_0xa0d8e3=_0xa0d8e3[_0x2aa4c9(0x1c5)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0xa0d8e3=_0xa0d8e3[_0x2aa4c9(0x1c5)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry['cloudProviderAccessKey']),_0xa0d8e3=_0xa0d8e3[_0x2aa4c9(0x1c5)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x2aa4c9(0x1a2)]),_0xa0d8e3=_0xa0d8e3[_0x2aa4c9(0x1c5)](/<AWS_CONFIG_FILE_PATH>/g,_0x46ef1a),_0xa0d8e3;}async[a0_0x5edfad(0x1a7)](_0x28907c=null,_0x25b105=null){const _0x203885=a0_0x5edfad,_0xfcffb={'VcUww':function(_0x5a4924,_0x3dbaa6){return _0x5a4924(_0x3dbaa6);},'cgdui':'Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','IzbEm':_0x203885(0x1a1),'YyKgx':function(_0x52719a,_0x5e4117,_0x43edb9,_0x33a78d,_0x3ba764,_0x4fffcf,_0x462445){return _0x52719a(_0x5e4117,_0x43edb9,_0x33a78d,_0x3ba764,_0x4fffcf,_0x462445);},'YFwgE':_0x203885(0x259),'VXITy':function(_0x427d94,_0x3075a3){return _0x427d94===_0x3075a3;},'vjZXI':function(_0x1ab211,_0x226faa){return _0x1ab211!==_0x226faa;},'pJzNC':_0x203885(0x2bc),'EJvbn':function(_0x5caf78,_0x4bec8d){return _0x5caf78===_0x4bec8d;},'VaDrm':'nFuWz','Svllp':'dwqhq'},_0x32ecfd={};_0x32ecfd['type']=WS_EVENTS[_0x203885(0x22c)],_0x32ecfd[_0x203885(0x1b3)]=_0xfcffb[_0x203885(0x25e)],this[_0x203885(0x2be)]['sendEventToBackend'](this[_0x203885(0x150)],_0x32ecfd),logger[_0x203885(0x26c)](_0xfcffb[_0x203885(0x1f8)]);const _0x292782=global_registry[_0x203885(0x271)],_0x56b6d2=global_registry[_0x203885(0x2a0)],_0x27b93e=global_registry[_0x203885(0x2d4)],_0x3c6fdf=await _0xfcffb[_0x203885(0x2ab)](createClusterStack,this[_0x203885(0x270)],_0x292782,_0x56b6d2,_0x28907c,_0x25b105,_0x27b93e),_0x4160c8=_0x3c6fdf[_0x203885(0x268)][0x0][_0x203885(0x17e)][0x0][_0x203885(0x175)][_0x203885(0x1b5)](','),_0x23a315=_0x3c6fdf[_0x203885(0x268)][0x0]['Outputs'][0x1][_0x203885(0x175)],_0x6ec9e8=_0x3c6fdf[_0x203885(0x268)][0x0][_0x203885(0x17e)][0x3][_0x203885(0x175)],_0x1f0bb5=_0x3c6fdf[_0x203885(0x268)][0x0][_0x203885(0x17e)][0x4][_0x203885(0x175)];logger[_0x203885(0x26c)](_0xfcffb[_0x203885(0x1db)]),logger[_0x203885(0x26c)](_0x203885(0x2b1)+_0x6ec9e8+'\x20'),logger[_0x203885(0x26c)](_0x203885(0x229)+_0x23a315+'\x20'),logger[_0x203885(0x26c)](_0x203885(0x20d)+_0x4160c8+'\x20'),logger[_0x203885(0x26c)](_0x203885(0x29c)+_0x1f0bb5+'\x20');let _0x48a3c0='Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20'+_0x6ec9e8+_0x203885(0x1e3)+_0x23a315+_0x203885(0x201)+_0x4160c8+_0x203885(0x2c3)+_0x1f0bb5;if(_0xfcffb[_0x203885(0x27b)](_0x28907c,null)&&_0xfcffb[_0x203885(0x27b)](_0x25b105,null)){if(_0xfcffb[_0x203885(0x1b9)](_0xfcffb['pJzNC'],_0xfcffb['pJzNC']))_0x413a0a[_0x203885(0x222)](_0x34436a),_0xfcffb['VcUww'](_0x446ebb,_0x6cce69);else{const _0x1c5410=_0x3c6fdf[_0x203885(0x268)][0x0][_0x203885(0x17e)][0x2][_0x203885(0x175)],_0x3731d8=_0x3c6fdf[_0x203885(0x268)][0x0][_0x203885(0x17e)][0x5]['OutputValue'][_0x203885(0x1b5)](',');_0x28907c=_0x1c5410;const _0x1bea52=[];for(const _0x4265ca of _0x3731d8){if(_0xfcffb[_0x203885(0x1cb)](_0xfcffb['VaDrm'],_0xfcffb[_0x203885(0x211)]))_0x3bd113[_0x203885(0x21a)]=_0x47b266[this[_0x203885(0x242)]][_0x203885(0x1cf)],_0x49319b[_0x203885(0x1a2)]=_0x1a9e7e[this[_0x203885(0x242)]][_0x203885(0x1ff)];else{const _0x3fe8b5={};_0x3fe8b5['label']=_0x4265ca,_0x3fe8b5['value']=_0x4265ca,_0x1bea52[_0x203885(0x29b)](_0x3fe8b5);}}_0x25b105=_0x1bea52,logger[_0x203885(0x26c)]('VPC\x20=>\x20'+_0x1c5410+'\x20'),logger['info']('Subnets\x20=>\x20'+_0x3731d8+'\x20'),_0x48a3c0+=',VPC\x20=>\x20'+_0x1c5410+_0x203885(0x144)+_0x3731d8+',\x20';}}const _0x1ea3a4={};return _0x1ea3a4[_0x203885(0x163)]=WS_EVENTS[_0x203885(0x22c)],_0x1ea3a4[_0x203885(0x1b3)]=_0x48a3c0,this[_0x203885(0x2be)][_0x203885(0x2a7)](this[_0x203885(0x150)],_0x1ea3a4),[_0x28907c,_0x25b105];}async[a0_0x5edfad(0x278)](_0x2aa680,_0x4a3995){const _0x5854a6=a0_0x5edfad,_0x16a14a={'XsSQm':function(_0x148b51,_0xbe1f00){return _0x148b51(_0xbe1f00);},'PuyeG':function(_0x2a45a1,_0x5aaefc,_0x6f8c20){return _0x2a45a1(_0x5aaefc,_0x6f8c20);}};await _0x16a14a[_0x5854a6(0x13d)](deleteAgent,_0x2aa680),await _0x16a14a[_0x5854a6(0x13d)](deleteRoutingDeps,_0x2aa680),await _0x16a14a[_0x5854a6(0x146)](deleteClusterAndDependencies,_0x4a3995,this[_0x5854a6(0x270)]);}async[a0_0x5edfad(0x23a)](_0x2b4aab,_0x48bc4f){const _0x53e4bc=a0_0x5edfad,_0xadc224={'yZUBy':function(_0x56d947,_0x102631){return _0x56d947(_0x102631);},'wTAwE':function(_0x10e453,_0x105a44){return _0x10e453(_0x105a44);},'XeLIS':function(_0x3a759f,_0x3abe7d){return _0x3a759f!==_0x3abe7d;},'FPfqk':'YHinA','IUyGI':_0x53e4bc(0x290),'XsNFh':_0x53e4bc(0x2ce),'IBxMt':_0x53e4bc(0x207),'JgXpG':function(_0x1cadf6,_0xf778d2){return _0x1cadf6===_0xf778d2;},'dvtsv':_0x53e4bc(0x294),'xIVuj':function(_0x252f5e,_0x2b5dc3){return _0x252f5e(_0x2b5dc3);},'aSTFX':_0x53e4bc(0x28a),'LevcQ':function(_0x1b9886,_0x9b7a4e){return _0x1b9886!==_0x9b7a4e;},'XlTCE':_0x53e4bc(0x19a),'XwkKe':function(_0x55bbcb,_0x1955ad,_0x87ec12,_0x1ddc36,_0x32fff6,_0x2dd43a,_0x5301eb,_0x29052a){return _0x55bbcb(_0x1955ad,_0x87ec12,_0x1ddc36,_0x32fff6,_0x2dd43a,_0x5301eb,_0x29052a);},'ieEzC':'create-grid-called','wgZDQ':_0x53e4bc(0x1bf),'PwCkO':'warning','xkhCU':function(_0x5a5e39,_0x1d8778){return _0x5a5e39!==_0x1d8778;},'kfvkK':'iuAsc','EXiIJ':_0x53e4bc(0x1d5),'vXBkT':_0x53e4bc(0x2b5),'cZKwB':'error','RgwpR':function(_0x57f741,_0x2e7c71,_0x3372df){return _0x57f741(_0x2e7c71,_0x3372df);},'NIYIy':'kube-system'};let _0x50697d,_0x36a6f2;const _0x1006ec={};_0x1006ec[_0x53e4bc(0x163)]=WS_EVENTS[_0x53e4bc(0x22c)],_0x1006ec[_0x53e4bc(0x1b3)]=_0xadc224[_0x53e4bc(0x153)],this[_0x53e4bc(0x2be)]['sendEventToBackend'](this[_0x53e4bc(0x150)],_0x1006ec),logger[_0x53e4bc(0x26c)](_0xadc224['IBxMt']);try{if(_0xadc224['JgXpG'](_0xadc224[_0x53e4bc(0x24f)],_0xadc224[_0x53e4bc(0x24f)])){const _0x1b815f=await _0xadc224[_0x53e4bc(0x179)](createAutoscalerStack,this[_0x53e4bc(0x270)]);_0x36a6f2=_0x1b815f[_0x53e4bc(0x268)][0x0][_0x53e4bc(0x17e)][0x2][_0x53e4bc(0x175)];const _0x139205={};_0x139205['type']=WS_EVENTS[_0x53e4bc(0x22c)],_0x139205['message']=_0x53e4bc(0x1e4)+_0x36a6f2+'\x20',this[_0x53e4bc(0x2be)][_0x53e4bc(0x2a7)](this[_0x53e4bc(0x150)],_0x139205),logger[_0x53e4bc(0x26c)]('Autoscaler\x20Role\x20created.ARN:\x20'+_0x36a6f2+'\x20');}else{const _0x18a676={};_0x18a676['label']=_0x4123ca,_0x18a676[_0x53e4bc(0x1ea)]=_0xb85eb6,_0x4d5016[_0x53e4bc(0x29b)](_0x18a676);}}catch(_0x587b65){if(_0xadc224[_0x53e4bc(0x1bc)](_0xadc224[_0x53e4bc(0x161)],_0xadc224[_0x53e4bc(0x161)])){if(_0x587b65?.['message']&&_0x587b65['message'][_0x53e4bc(0x18e)](/already exists/))_0xadc224[_0x53e4bc(0x267)](_0xadc224[_0x53e4bc(0x292)],_0xadc224['XlTCE'])?_0x1ff52f[_0x53e4bc(0x29b)](_0x5cb22d['SubnetId']):(_0x50697d=_0x53e4bc(0x1c3)+_0x587b65[_0x53e4bc(0x1b3)],await _0xadc224[_0x53e4bc(0x1c2)](reportToGalactusAndSendToEDS,_0x48bc4f,this[_0x53e4bc(0x150)],_0x50697d,messageTypes[_0x53e4bc(0x156)],_0xadc224['ieEzC'],_0xadc224['wgZDQ'],_0xadc224[_0x53e4bc(0x208)]),logger['warn'](_0x50697d));else{if(_0xadc224[_0x53e4bc(0x1a9)](_0xadc224[_0x53e4bc(0x1ad)],_0xadc224[_0x53e4bc(0x1ad)]))return this[_0x53e4bc(0x174)]();else{const _0x58d2ff=_0xadc224[_0x53e4bc(0x221)][_0x53e4bc(0x1b5)]('|');let _0x5771da=0x0;while(!![]){switch(_0x58d2ff[_0x5771da++]){case'0':process[_0x53e4bc(0x297)](0x1);continue;case'1':await _0xadc224[_0x53e4bc(0x1c2)](reportToGalactusAndSendToEDS,_0x48bc4f,this[_0x53e4bc(0x150)],_0x50697d,messageTypes[_0x53e4bc(0x180)],_0xadc224[_0x53e4bc(0x1da)],_0xadc224[_0x53e4bc(0x1a4)],_0xadc224[_0x53e4bc(0x136)]);continue;case'2':await _0xadc224['RgwpR'](deleteClusterAndDependencies,global_registry[_0x53e4bc(0x27e)],this[_0x53e4bc(0x270)]);continue;case'3':logger[_0x53e4bc(0x222)](_0x50697d);continue;case'4':_0x50697d=_0x53e4bc(0x244)+_0x587b65?.[_0x53e4bc(0x1b3)]+_0x53e4bc(0x2b9);continue;}break;}}}}else _0x47ee71[_0x53e4bc(0x21f)][_0x53e4bc(0x27d)](this[_0x53e4bc(0x270)])&&_0xadc224[_0x53e4bc(0x14a)](_0x7ef5d5,!![]),_0xadc224[_0x53e4bc(0x223)](_0x2ea452,![]);}const _0x35c351=await this[_0x53e4bc(0x1c8)](this[_0x53e4bc(0x270)]+_0x53e4bc(0x2b7)),_0x5067f0=_0x35c351[_0x53e4bc(0x137)]['nodeRole'],_0x188a8c=await this[_0x53e4bc(0x18f)](_0x5067f0),_0x322d38={};return _0x322d38[_0x53e4bc(0x204)]=_0xadc224[_0x53e4bc(0x24a)],_0x322d38[_0x53e4bc(0x186)]=_0x188a8c,await _0x2b4aab['createNamespacedConfigMap'](_0x322d38)['catch'](_0x3f35b2=>{const _0x28363b=_0x53e4bc;if(_0xadc224['XeLIS'](_0xadc224[_0x28363b(0x166)],_0xadc224[_0x28363b(0x13b)]))logger[_0x28363b(0x26c)](_0xadc224[_0x28363b(0x21e)]);else return _0x185721[_0x28363b(0x17d)][_0x28363b(0x18c)]['ingress'][0x0][_0x28363b(0x1e6)];}),_0x36a6f2;}async[a0_0x5edfad(0x199)](_0xc21846,_0x3d4370,_0x132b84,_0x2cfb26,_0x9b892a){const _0x4ce575=a0_0x5edfad,_0x2cd4c0={'rEspj':function(_0x257d7d,_0x1e9efd){return _0x257d7d!==_0x1e9efd;},'oGEeE':'allowed','CXBZL':function(_0x50e511,_0x5cf783){return _0x50e511!==_0x5cf783;},'zvBPf':_0x4ce575(0x27a),'fFAfu':'Setting\x20up\x20Hub\x20HA','RXtgD':_0x4ce575(0x25a),'ZVbIu':'OYKkA','wvhde':'Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','ZZUhr':_0x4ce575(0x187),'KkHEv':function(_0x164c51,_0x279e77,_0x2ea8d2){return _0x164c51(_0x279e77,_0x2ea8d2);},'pfHFe':_0x4ce575(0x1d4),'Ttcdb':_0x4ce575(0x281),'KaYOs':_0x4ce575(0x14e),'dQohZ':_0x4ce575(0x259),'QjWsW':'Mounting\x20Target\x20for\x20EFS','vdOPL':_0x4ce575(0x18a),'pSPQB':_0x4ce575(0x19e),'FSrbt':_0x4ce575(0x212),'geuNC':_0x4ce575(0x1f0),'ktUzy':_0x4ce575(0x2a8),'HjWur':'utf-8','tAyqk':_0x4ce575(0x1b4),'EXtLC':_0x4ce575(0x1fb),'SrcoJ':'storage-class.yaml','cfMey':_0x4ce575(0x227),'agnPU':_0x4ce575(0x1f7),'xjIdi':_0x4ce575(0x169),'pdQby':function(_0xbb233d,_0x55611e){return _0xbb233d===_0x55611e;},'VpZxQ':_0x4ce575(0x233),'gzCuN':_0x4ce575(0x184),'RfSFm':'3|2|0|1|4','toNDb':function(_0x577f8c,_0x13a74b,_0x3f82ed,_0x198e7b,_0x28a661,_0x37192f,_0x58a9d5,_0x439494){return _0x577f8c(_0x13a74b,_0x3f82ed,_0x198e7b,_0x28a661,_0x37192f,_0x58a9d5,_0x439494);},'kjojI':_0x4ce575(0x148),'CaiYy':_0x4ce575(0x1f6),'SWikH':_0x4ce575(0x222)};logger['info'](_0x2cd4c0['fFAfu']);let _0x1bcb25;try{if(_0x2cd4c0['rEspj'](_0x2cd4c0[_0x4ce575(0x29f)],_0x2cd4c0[_0x4ce575(0x1d7)])){const _0x2673b7={};_0x2673b7[_0x4ce575(0x163)]=WS_EVENTS[_0x4ce575(0x22c)],_0x2673b7[_0x4ce575(0x1b3)]=_0x2cd4c0[_0x4ce575(0x19d)],this['webSocketUtils'][_0x4ce575(0x2a7)](this[_0x4ce575(0x150)],_0x2673b7),logger[_0x4ce575(0x26c)](_0x2cd4c0[_0x4ce575(0x176)]);const _0x5aeef3=await _0x2cd4c0[_0x4ce575(0x26b)](createHubHaStack,this[_0x4ce575(0x270)],_0x2cfb26),_0x2b8166=_0x5aeef3[_0x4ce575(0x268)][0x0]['Outputs']['reduce']((_0x37ed41,_0x1f5575)=>{const _0x58b46c=_0x4ce575;if(_0x2cd4c0[_0x58b46c(0x160)](_0x2cd4c0['zvBPf'],_0x2cd4c0[_0x58b46c(0x151)])){const _0x420473=_0x26e050[_0x58b46c(0x147)][_0x58b46c(0x1b5)](':')[0x0];_0x1cd64c+='\x0a\x09Service:\x20'+_0x420473['toUpperCase']()+_0x58b46c(0x188)+_0x42c9db[_0x1d7760[_0x58b46c(0x147)]]+':\x20'+_0x519401[_0x58b46c(0x26d)],_0x2cd4c0[_0x58b46c(0x197)](_0x46573e[_0x58b46c(0x26d)],_0x2cd4c0['oGEeE'])&&(_0x26dc02[_0x58b46c(0x17d)]=![]);}else return _0x37ed41[_0x1f5575[_0x58b46c(0x1a6)]]=_0x1f5575[_0x58b46c(0x175)],_0x37ed41;},{}),_0x50f6dd=_0x2b8166[_0x2cd4c0[_0x4ce575(0x28b)]],_0x1aaa96=_0x2b8166[_0x2cd4c0[_0x4ce575(0x15c)]],_0x18890f=_0x2b8166[_0x2cd4c0[_0x4ce575(0x1dd)]];logger[_0x4ce575(0x26c)](_0x2cd4c0['dQohZ']),logger[_0x4ce575(0x26c)](_0x4ce575(0x2d7)+_0x50f6dd),logger[_0x4ce575(0x26c)]('EFS\x20SecurityGroup\x20=>\x20'+_0x18890f),logger[_0x4ce575(0x26c)](_0x4ce575(0x280)+_0x1aaa96),_0x1bcb25=_0x4ce575(0x168)+_0x50f6dd+_0x4ce575(0x2c6)+_0x18890f+_0x4ce575(0x198)+_0x1aaa96,logger['info'](_0x2cd4c0[_0x4ce575(0x21c)]),await this[_0x4ce575(0x262)](_0x9b892a,_0x18890f,_0x1aaa96);const _0x5cf808={};_0x5cf808[_0x4ce575(0x163)]=WS_EVENTS[_0x4ce575(0x22c)],_0x5cf808[_0x4ce575(0x1b3)]=_0x1bcb25,this[_0x4ce575(0x2be)][_0x4ce575(0x2a7)](this[_0x4ce575(0x150)],_0x5cf808);const _0x2957b9={};_0x2957b9['type']=WS_EVENTS['LOG'],_0x2957b9[_0x4ce575(0x1b3)]=_0x2cd4c0[_0x4ce575(0x295)],this[_0x4ce575(0x2be)][_0x4ce575(0x2a7)](this['rws'],_0x2957b9),logger['info'](_0x2cd4c0[_0x4ce575(0x265)]);let _0x527ea5=await fs[_0x4ce575(0x23b)](path['join'](__dirname,'..',_0x2cd4c0[_0x4ce575(0x157)],_0x2cd4c0[_0x4ce575(0x1d6)],_0x2cd4c0['ktUzy']),_0x2cd4c0[_0x4ce575(0x23e)]);_0x527ea5=_0x527ea5[_0x4ce575(0x1c5)](/<EfsCSIControllerARN>/g,_0x50f6dd);const _0x3a8e83=yaml[_0x4ce575(0x2d6)](_0x527ea5);await _0x2cd4c0['KkHEv'](kubeApply,_0x3a8e83,_0x3d4370),logger[_0x4ce575(0x26c)](_0x2cd4c0['tAyqk']),logger[_0x4ce575(0x26c)](_0x2cd4c0[_0x4ce575(0x2cc)]);const _0x23fec3=await fs['readFileAsync'](path[_0x4ce575(0x178)](__dirname,'..',_0x2cd4c0[_0x4ce575(0x157)],_0x2cd4c0[_0x4ce575(0x1d6)],_0x2cd4c0['SrcoJ']),_0x2cd4c0[_0x4ce575(0x23e)]),_0x2b2473=yaml[_0x4ce575(0x1cc)](_0x23fec3);_0x2b2473[_0x4ce575(0x218)][_0x2cd4c0[_0x4ce575(0x1d2)]]=_0x1aaa96;const _0x584789={};_0x584789[_0x4ce575(0x186)]=_0x2b2473;const _0x19b449=await _0xc21846[_0x4ce575(0x283)](_0x584789);logger[_0x4ce575(0x26c)](_0x2cd4c0['agnPU']);const _0x2d07fd={};_0x2d07fd['type']=WS_EVENTS[_0x4ce575(0x22c)],_0x2d07fd[_0x4ce575(0x1b3)]=_0x2cd4c0[_0x4ce575(0x224)],this[_0x4ce575(0x2be)][_0x4ce575(0x2a7)](this[_0x4ce575(0x150)],_0x2d07fd);}else{if(_0xd195cb[_0x4ce575(0x27d)](_0x50afab[_0x4ce575(0x1ea)]))return!![];return _0x29ecfb[_0x4ce575(0x29b)](_0x4aee5b),![];}}catch(_0x5c77aa){if(_0x2cd4c0[_0x4ce575(0x202)](_0x2cd4c0[_0x4ce575(0x277)],_0x2cd4c0[_0x4ce575(0x1b6)]))_0x4d0498[_0x4ce575(0x222)](_0x4ce575(0x142)+_0xdef1f2[_0x4ce575(0x1ea)]+':',_0x20f0ff);else{const _0x5c1979=_0x2cd4c0[_0x4ce575(0x1f1)]['split']('|');let _0x43f373=0x0;while(!![]){switch(_0x5c1979[_0x43f373++]){case'0':logger[_0x4ce575(0x222)](_0x1bcb25);continue;case'1':await _0x2cd4c0['KkHEv'](deleteClusterAndDependencies,global_registry[_0x4ce575(0x27e)],this['clusterName']);continue;case'2':await _0x2cd4c0[_0x4ce575(0x1cd)](reportToGalactusAndSendToEDS,_0x132b84,this[_0x4ce575(0x150)],_0x1bcb25,messageTypes['ERROR'],_0x2cd4c0[_0x4ce575(0x26a)],_0x2cd4c0[_0x4ce575(0x1b0)],_0x2cd4c0[_0x4ce575(0x15e)]);continue;case'3':_0x1bcb25=_0x4ce575(0x1a0)+_0x5c77aa['message'];continue;case'4':process['exit'](0x1);continue;}break;}}}}async[a0_0x5edfad(0x262)](_0x212b47,_0x24da7d,_0x169a83){const _0x53ca97=a0_0x5edfad,_0xb29590={'TmyQq':function(_0x161731,_0x413021){return _0x161731(_0x413021);},'ZuQhM':function(_0x1aff26,_0x2b3658){return _0x1aff26!==_0x2b3658;},'tTgqr':_0x53ca97(0x17c),'zvQHe':function(_0x2a7602,_0x3cfc21){return _0x2a7602===_0x3cfc21;},'vDSZt':_0x53ca97(0x194),'VZNin':'SYnpU'},_0x7ae4ab={};_0x7ae4ab[_0x53ca97(0x20a)]=global_registry[_0x53ca97(0x27e)];const _0x42b885=new awsSDK[(_0x53ca97(0x1c0))](_0x7ae4ab),_0x2b5bbb={};_0x2b5bbb['region']=global_registry['clusterRegion'];const _0x13660c=new awsSDK[(_0x53ca97(0x24e))](_0x2b5bbb),_0x24a3d4=new Set(),_0x4e8e22=[];for(const _0x357dc1 of _0x212b47){if(_0xb29590[_0x53ca97(0x15a)](_0xb29590[_0x53ca97(0x24b)],_0xb29590[_0x53ca97(0x24b)]))_0xb29590[_0x53ca97(0x255)](_0x1efa34,this[_0x53ca97(0x150)]);else{const _0x2ea620=await this[_0x53ca97(0x28f)](_0x13660c,_0x357dc1['value']);if(_0x24a3d4[_0x53ca97(0x2b6)](_0x2ea620)){if(_0xb29590[_0x53ca97(0x24d)](_0xb29590['vDSZt'],_0xb29590[_0x53ca97(0x19c)]))_0xb29590[_0x53ca97(0x255)](_0x5427d0,!![]);else{logger['info'](_0x53ca97(0x17a)+_0x357dc1[_0x53ca97(0x1ea)]+_0x53ca97(0x177)+_0x2ea620+'\x20has\x20already\x20been\x20used.');continue;}}_0x24a3d4[_0x53ca97(0x293)](_0x2ea620),_0x4e8e22[_0x53ca97(0x29b)](this[_0x53ca97(0x192)](_0x42b885,_0x357dc1,_0x24da7d,_0x169a83));}}await Promise[_0x53ca97(0x1aa)](_0x4e8e22);}async['createMountTargetAndWait'](_0x437555,_0x5c465e,_0x555282,_0x2023f0){const _0x3c483d=a0_0x5edfad,_0x42eae5={'Odbot':function(_0x5ff189,_0x5bd758){return _0x5ff189(_0x5bd758);},'LLuGX':function(_0x54ca26,_0x492ca6){return _0x54ca26!==_0x492ca6;},'HgmxF':_0x3c483d(0x1be),'aDqss':'HurcO'};try{if(_0x42eae5['LLuGX'](_0x42eae5[_0x3c483d(0x1c6)],_0x42eae5[_0x3c483d(0x1c6)]))_0x73fd9e[_0x3c483d(0x222)]('Cannot\x20find\x20subnets\x20'+_0x457887+_0x3c483d(0x21b)+_0x3a945f[_0x3c483d(0x27e)]+_0x3c483d(0x1bd)+_0x11d2cb),_0x42eae5['Odbot'](_0xeac670,[![],[]]);else{const _0x1be07d={};_0x1be07d['FileSystemId']=_0x2023f0,_0x1be07d['SubnetId']=_0x5c465e[_0x3c483d(0x1ea)],_0x1be07d['SecurityGroups']=[_0x555282];const _0x121b06=await _0x437555[_0x3c483d(0x185)](_0x1be07d)[_0x3c483d(0x2d5)](),_0x5ef2e2=_0x121b06[_0x3c483d(0x2ad)];await this[_0x3c483d(0x13c)](_0x437555,_0x5c465e['value'],_0x5ef2e2);}}catch(_0x15f098){_0x42eae5[_0x3c483d(0x14b)](_0x42eae5['aDqss'],_0x42eae5['aDqss'])?_0x2da85e[_0x3c483d(0x222)]=_0x596268:logger['error'](_0x3c483d(0x142)+_0x5c465e[_0x3c483d(0x1ea)]+':',_0x15f098);}}async['waitForMountTarget'](_0x2bc0fc,_0x3f1f4e,_0x2a4e1d){const _0x12fc6b=a0_0x5edfad,_0x5b7d54={'AFrBA':_0x12fc6b(0x2ce),'kQkGn':function(_0x1f2dd4,_0x59bd0c){return _0x1f2dd4(_0x59bd0c);},'tMFgK':function(_0x5621ce,_0x62016){return _0x5621ce(_0x62016);},'xDTHZ':'2016-11-15','YCiWu':function(_0x334f5e,_0x1b1083){return _0x334f5e!==_0x1b1083;},'KyQmG':_0x12fc6b(0x182),'ZPbAd':_0x12fc6b(0x1fa),'Cyrul':function(_0x400c79,_0x4562b6){return _0x400c79===_0x4562b6;},'VeLcs':_0x12fc6b(0x2a2),'cMpAC':function(_0x48ec1c,_0x85a50){return _0x48ec1c===_0x85a50;},'uIFwB':'failed','PKtff':_0x12fc6b(0x23c)};let _0x440b4c='';while(_0x5b7d54[_0x12fc6b(0x241)](_0x440b4c,_0x5b7d54['KyQmG'])){if(_0x5b7d54['YCiWu'](_0x5b7d54[_0x12fc6b(0x17f)],_0x5b7d54[_0x12fc6b(0x17f)]))return![];else{const _0x3387b0={};_0x3387b0[_0x12fc6b(0x2ad)]=_0x2a4e1d;const _0x3f7d15=await _0x2bc0fc[_0x12fc6b(0x279)](_0x3387b0)[_0x12fc6b(0x2d5)]();_0x440b4c=_0x3f7d15[_0x12fc6b(0x2cb)][0x0][_0x12fc6b(0x1a5)];if(_0x5b7d54[_0x12fc6b(0x2bb)](_0x440b4c,_0x5b7d54[_0x12fc6b(0x243)])){if(_0x5b7d54['Cyrul'](_0x5b7d54[_0x12fc6b(0x143)],_0x5b7d54[_0x12fc6b(0x143)])){logger[_0x12fc6b(0x26c)]('Mount\x20target\x20created\x20for\x20subnet:\x20'+_0x3f1f4e+_0x12fc6b(0x228)+_0x2a4e1d+'.');break;}else _0x5af40f['info'](_0x5b7d54['AFrBA']);}if(_0x5b7d54[_0x12fc6b(0x288)](_0x440b4c,_0x5b7d54[_0x12fc6b(0x1d8)])){if(_0x5b7d54[_0x12fc6b(0x241)](_0x5b7d54[_0x12fc6b(0x2ae)],_0x5b7d54[_0x12fc6b(0x2ae)])){const _0x39a952={'pxlNI':function(_0x1bd54b,_0x2f350f){const _0x2fed93=_0x12fc6b;return _0x5b7d54[_0x2fed93(0x1e0)](_0x1bd54b,_0x2f350f);},'bhaJr':function(_0x1fe10c,_0x1ad42d){const _0x585931=_0x12fc6b;return _0x5b7d54[_0x585931(0x15d)](_0x1fe10c,_0x1ad42d);},'CXjNx':_0x5b7d54['xDTHZ']},_0x387ba3={};_0x387ba3[_0x12fc6b(0x1ec)]=[_0x121943];const _0x20b6ec=_0x387ba3;return new _0xc6d131((_0x1f6af6,_0x20e189)=>{const _0x1dbe44=_0x12fc6b,_0x3171cc={'BAsCx':function(_0x118c52,_0x373327){const _0xd26f97=a0_0x1302;return _0x39a952[_0xd26f97(0x215)](_0x118c52,_0x373327);}},_0x105dd8={};_0x105dd8[_0x1dbe44(0x1d9)]=_0x39a952[_0x1dbe44(0x260)],_0x105dd8[_0x1dbe44(0x20a)]=_0x42bb3c[_0x1dbe44(0x27e)];const _0x2f552e=new _0x5ed934['EC2'](_0x105dd8);_0x2f552e[_0x1dbe44(0x1df)](_0x20b6ec)[_0x1dbe44(0x2d5)]()[_0x1dbe44(0x2b4)](_0xad7a7f=>{const _0x11006a=_0x1dbe44;_0x39a952[_0x11006a(0x195)](_0x1f6af6,!![]);})[_0x1dbe44(0x234)](_0x31bcff=>{const _0x3d64d0=_0x1dbe44;_0x2190d8['error'](_0x3d64d0(0x28e)+_0x1d6852+_0x3d64d0(0x21b)+_0x21589d[_0x3d64d0(0x27e)]+_0x3d64d0(0x200)),_0x3171cc[_0x3d64d0(0x1e7)](_0x1f6af6,![]);});});}else throw new Error(_0x12fc6b(0x240)+_0x2a4e1d+_0x12fc6b(0x272));}await new Promise(_0x550ee0=>setTimeout(_0x550ee0,0x1388));}}}async[a0_0x5edfad(0x28f)](_0x474fa3,_0x4ba91d){const _0x435dcb=a0_0x5edfad,_0x35ecdd={};_0x35ecdd[_0x435dcb(0x16a)]=[_0x4ba91d];const _0x3bedbd=await _0x474fa3[_0x435dcb(0x213)](_0x35ecdd)[_0x435dcb(0x2d5)]();return _0x3bedbd[_0x435dcb(0x214)][0x0]['AvailabilityZone'];}['isVPCPresent'](_0x550e2c){const _0x398678=a0_0x5edfad,_0x1c9923={'VBOxm':function(_0x1cf193,_0x3f786d){return _0x1cf193(_0x3f786d);},'FtPtF':_0x398678(0x20f),'vWsjh':function(_0x32f233,_0x49c247){return _0x32f233!==_0x49c247;},'XAsds':_0x398678(0x296),'YbaEC':function(_0x8b9f8,_0x4d442e){return _0x8b9f8===_0x4d442e;},'ftiYk':_0x398678(0x286),'RxzzC':'RjkAU','RrdnC':'IDKXA','DLqUs':_0x398678(0x27c),'PTrHC':'2016-11-15'},_0x3183ac={};_0x3183ac[_0x398678(0x1ec)]=[_0x550e2c];const _0xe7df5e=_0x3183ac;return new Promise((_0x34d5e6,_0x3d5a90)=>{const _0x11f29d=_0x398678,_0x593e5f={'nvdvj':function(_0x305a4c,_0x491c5d){const _0x8e08a2=a0_0x1302;return _0x1c9923[_0x8e08a2(0x273)](_0x305a4c,_0x491c5d);},'ogvBO':_0x1c9923[_0x11f29d(0x2c4)],'nngyo':function(_0x4e6e45,_0x16db58){const _0x58a048=_0x11f29d;return _0x1c9923[_0x58a048(0x159)](_0x4e6e45,_0x16db58);},'olORa':_0x1c9923[_0x11f29d(0x139)],'wcgID':function(_0x266330,_0x595f92){const _0x3f27de=_0x11f29d;return _0x1c9923[_0x3f27de(0x26f)](_0x266330,_0x595f92);},'BgBGx':_0x1c9923['ftiYk'],'eyFQp':_0x1c9923[_0x11f29d(0x1ac)]};if(_0x1c9923[_0x11f29d(0x26f)](_0x1c9923[_0x11f29d(0x16f)],_0x1c9923[_0x11f29d(0x20b)]))_0x3af081['warn'](_0x3044dc);else{const _0x360362={};_0x360362[_0x11f29d(0x1d9)]=_0x1c9923[_0x11f29d(0x16d)],_0x360362[_0x11f29d(0x20a)]=global_registry[_0x11f29d(0x27e)];const _0x4d13e8=new awsSDK[(_0x11f29d(0x24e))](_0x360362);_0x4d13e8[_0x11f29d(0x1df)](_0xe7df5e)['promise']()[_0x11f29d(0x2b4)](_0x5609b2=>{const _0x19fa7b=_0x11f29d,_0x300e0c={'ZeuIO':function(_0x10de66,_0x470219){return _0x593e5f['nvdvj'](_0x10de66,_0x470219);},'INeLg':function(_0x48d5fe,_0x4d1873){return _0x593e5f['nvdvj'](_0x48d5fe,_0x4d1873);},'HGGvn':_0x593e5f[_0x19fa7b(0x2c1)]};if(_0x593e5f[_0x19fa7b(0x250)](_0x593e5f['olORa'],_0x593e5f['olORa'])){const _0x640118={'IcOSw':function(_0x24a41f,_0x5675a2){const _0x4e3bb7=_0x19fa7b;return _0x300e0c[_0x4e3bb7(0x149)](_0x24a41f,_0x5675a2);},'RqyFv':function(_0x2d247a,_0xaf1d0f){return _0x300e0c['INeLg'](_0x2d247a,_0xaf1d0f);}},_0x2d1231={};_0x2d1231[_0x19fa7b(0x1d9)]=_0x300e0c[_0x19fa7b(0x181)];const _0x444aff=new _0x3a2c37[(_0x19fa7b(0x2ca))](_0x2d1231);_0x444aff['listClusters']()[_0x19fa7b(0x2d5)]()['then'](_0x42e22b=>{const _0x53c39e=_0x19fa7b;_0x42e22b['clusters'][_0x53c39e(0x27d)](this[_0x53c39e(0x270)])&&_0x640118[_0x53c39e(0x276)](_0x21bdd4,!![]),_0x640118[_0x53c39e(0x276)](_0xab6c30,![]);})[_0x19fa7b(0x234)](_0x3055d2=>{const _0x2ce234=_0x19fa7b;_0x3ec963[_0x2ce234(0x222)](_0x3055d2),_0x640118[_0x2ce234(0x21d)](_0xed8e25,_0x3055d2);});}else _0x593e5f[_0x19fa7b(0x2ba)](_0x34d5e6,!![]);})['catch'](_0x31e27f=>{const _0xe16330=_0x11f29d,_0x17e75b={};_0x17e75b[_0xe16330(0x253)]=_0x593e5f[_0xe16330(0x2c1)];const _0x4bc9ba=_0x17e75b;if(_0x593e5f[_0xe16330(0x2a9)](_0x593e5f[_0xe16330(0x239)],_0x593e5f['eyFQp'])){const _0x5d77a2={};_0x5d77a2['apiVersion']=_0x4bc9ba['eYzvF'];const _0x2bd273=new _0x3f700a[(_0xe16330(0x2ca))](_0x5d77a2),_0x153080={};return _0x153080[_0xe16330(0x270)]=this['clusterName'],_0x153080[_0xe16330(0x245)]=_0x1d58c4,_0x2bd273[_0xe16330(0x14d)](_0x153080)['promise']();}else logger[_0xe16330(0x222)]('Cannot\x20find\x20VPC\x20'+_0x550e2c+_0xe16330(0x21b)+global_registry[_0xe16330(0x27e)]+_0xe16330(0x200)),_0x593e5f[_0xe16330(0x2ba)](_0x34d5e6,![]);});}});}[a0_0x5edfad(0x203)](_0x4ef350,_0x3084ba){const _0x2d8705=a0_0x5edfad,_0x55929f={'foOTM':function(_0x54084d,_0x5ceea8){return _0x54084d(_0x5ceea8);},'optGD':function(_0xc5149e,_0xd77c82){return _0xc5149e!==_0xd77c82;},'bzVGq':_0x2d8705(0x1a8),'kNeQA':_0x2d8705(0x1ef),'kcnpx':function(_0x22f9d1,_0x319fc9){return _0x22f9d1===_0x319fc9;},'ckpdb':_0x2d8705(0x238),'ZlSWv':_0x2d8705(0x1bb),'GpmRH':_0x2d8705(0x25b),'vYNcE':_0x2d8705(0x183),'ZuznR':function(_0x32d9c4,_0x1ed286){return _0x32d9c4!==_0x1ed286;},'hmRZQ':'ZoWgo','mPvlS':_0x2d8705(0x20f),'QdPis':function(_0x17fbe6,_0x343c10){return _0x17fbe6===_0x343c10;},'ZmYzn':'IdoLc','hePxX':_0x2d8705(0x1b2),'oUrNP':'2016-11-15','qADeE':_0x2d8705(0x1b8)},_0x437749={};_0x437749[_0x2d8705(0x252)]=_0x55929f[_0x2d8705(0x2d0)],_0x437749[_0x2d8705(0x20c)]=[_0x3084ba];const _0x3716f3={};_0x3716f3['Filters']=[_0x437749];const _0x32fb50=_0x3716f3;return new Promise((_0x1ffeea,_0x48703f)=>{const _0x3a64f7=_0x2d8705,_0x21d2f2={'VXsPQ':function(_0x43be92,_0x52276a){const _0x9cfc18=a0_0x1302;return _0x55929f[_0x9cfc18(0x16e)](_0x43be92,_0x52276a);},'ohLXl':_0x55929f['GpmRH'],'pgHZG':_0x55929f[_0x3a64f7(0x1f2)],'lgpIb':function(_0x51c6c6,_0x23fc77){const _0x3874ef=_0x3a64f7;return _0x55929f[_0x3874ef(0x2a4)](_0x51c6c6,_0x23fc77);},'buhOO':_0x55929f['hmRZQ'],'lINSV':_0x55929f['mPvlS']};if(_0x55929f['QdPis'](_0x55929f[_0x3a64f7(0x1d1)],_0x55929f[_0x3a64f7(0x1f3)])){const _0x305286=_0x40506a[_0x3a64f7(0x268)][0x0][_0x3a64f7(0x17e)][0x2][_0x3a64f7(0x175)],_0x452a88=_0x590b4a[_0x3a64f7(0x268)][0x0]['Outputs'][0x5][_0x3a64f7(0x175)][_0x3a64f7(0x1b5)](',');_0x5779b3=_0x305286;const _0xbeab4d=[];for(const _0x2d8e8f of _0x452a88){const _0x4c71c4={};_0x4c71c4[_0x3a64f7(0x155)]=_0x2d8e8f,_0x4c71c4[_0x3a64f7(0x1ea)]=_0x2d8e8f,_0xbeab4d[_0x3a64f7(0x29b)](_0x4c71c4);}_0x53ae39=_0xbeab4d,_0x3633b5[_0x3a64f7(0x26c)]('VPC\x20=>\x20'+_0x305286+'\x20'),_0x29aff5['info'](_0x3a64f7(0x2a5)+_0x452a88+'\x20'),_0x1c20cf+=',VPC\x20=>\x20'+_0x305286+_0x3a64f7(0x144)+_0x452a88+',\x20';}else{const _0x24ead7={};_0x24ead7[_0x3a64f7(0x1d9)]=_0x55929f[_0x3a64f7(0x248)],_0x24ead7[_0x3a64f7(0x20a)]=global_registry[_0x3a64f7(0x27e)];const _0x49745d=new awsSDK['EC2'](_0x24ead7);_0x49745d['describeSubnets'](_0x32fb50)[_0x3a64f7(0x2d5)]()[_0x3a64f7(0x2b4)](_0x59ecd5=>{const _0x2a0338=_0x3a64f7,_0x45405d={'rHjYC':function(_0x2ff577,_0x1ebfcd){return _0x55929f['foOTM'](_0x2ff577,_0x1ebfcd);}};if(_0x55929f[_0x2a0338(0x264)](_0x55929f[_0x2a0338(0x249)],_0x55929f[_0x2a0338(0x217)])){const _0x14fd91=[],_0x3b3e4e=[];_0x59ecd5['Subnets'][_0x2a0338(0x18b)](_0x1cc17a=>{const _0x52a06f=_0x2a0338;_0x21d2f2['VXsPQ'](_0x21d2f2[_0x52a06f(0x220)],_0x21d2f2[_0x52a06f(0x220)])?_0x14fd91[_0x52a06f(0x29b)](_0x1cc17a[_0x52a06f(0x14c)]):_0x188e85[_0x52a06f(0x13e)](_0x413c4a);});const _0x1cf632=_0x4ef350[_0x2a0338(0x2d3)](_0x57772f=>{const _0x536445=_0x2a0338;if(_0x21d2f2[_0x536445(0x219)](_0x21d2f2[_0x536445(0x1ce)],_0x21d2f2[_0x536445(0x1ce)])){if(_0x14fd91[_0x536445(0x27d)](_0x57772f[_0x536445(0x1ea)])){if(_0x21d2f2[_0x536445(0x17b)](_0x21d2f2[_0x536445(0x1ae)],_0x21d2f2[_0x536445(0x1ae)]))_0x45405d[_0x536445(0x1f9)](_0x114f1a,!![]);else return!![];}return _0x3b3e4e[_0x536445(0x29b)](_0x57772f),![];}else return _0x4179ed[_0x2e8366[_0x536445(0x1a6)]]=_0x10b790[_0x536445(0x175)],_0x10c939;});_0x55929f[_0x2a0338(0x2af)](_0x1ffeea,[_0x1cf632,_0x3b3e4e]);}else _0xfe071c['error'](_0x2a0338(0x28e)+_0x3bf059+_0x2a0338(0x21b)+_0x2b4884[_0x2a0338(0x27e)]+_0x2a0338(0x200)),_0x45405d[_0x2a0338(0x1f9)](_0xf7058f,![]);})[_0x3a64f7(0x234)](_0x4f04b4=>{const _0x5ece36=_0x3a64f7;if(_0x55929f[_0x5ece36(0x16e)](_0x55929f[_0x5ece36(0x193)],_0x55929f[_0x5ece36(0x298)])){const _0x45a512={};_0x45a512[_0x5ece36(0x1d9)]=_0x21d2f2[_0x5ece36(0x165)];const _0x3a7b78=new _0x239d9d[(_0x5ece36(0x2ca))](_0x45a512),_0x220067={};return _0x220067[_0x5ece36(0x2d1)]=this[_0x5ece36(0x270)],_0x3a7b78[_0x5ece36(0x1d0)](_0x220067)[_0x5ece36(0x2d5)]();}else logger[_0x5ece36(0x222)]('Cannot\x20find\x20subnets\x20'+_0x4ef350+_0x5ece36(0x21b)+global_registry[_0x5ece36(0x27e)]+'.\x20Error:\x20'+_0x4f04b4),_0x55929f['foOTM'](_0x1ffeea,[![],[]]);});}});}async[a0_0x5edfad(0x1a3)](){const _0x596891=a0_0x5edfad,_0x229949={'grtCQ':function(_0x29aeb4,_0x42fac9){return _0x29aeb4(_0x42fac9);},'ZTCVC':_0x596891(0x29d),'xTUfu':_0x596891(0x2b3),'qXegs':_0x596891(0x2aa)},_0x504cf7={};_0x504cf7[_0x596891(0x17d)]=![],_0x504cf7[_0x596891(0x222)]=null,_0x504cf7[_0x596891(0x1b1)]='';const _0x3f66ba=_0x504cf7;try{const _0x14f987=await _0x229949[_0x596891(0x1ba)](runCommand,_0x229949[_0x596891(0x28d)]);_0x14f987[_0x596891(0x1ee)](_0x229949[_0x596891(0x145)])?logger[_0x596891(0x1de)](_0x14f987):logger[_0x596891(0x13e)](_0x14f987),_0x3f66ba[_0x596891(0x17d)]=!![],_0x3f66ba['data']=_0x229949[_0x596891(0x2c5)];}catch(_0x50ba20){logger[_0x596891(0x222)]('error\x20:\x20'+_0x50ba20+'\x20:\x20'+_0x50ba20[_0x596891(0x216)]),_0x3f66ba[_0x596891(0x1b1)]=_0x596891(0x19f)+_0x50ba20,_0x3f66ba['error']=_0x50ba20;}return _0x3f66ba;}async['getPrincipalArn'](){const _0x541821=a0_0x5edfad,_0xb4b095={};_0xb4b095['JQEQC']=_0x541821(0x1f5),_0xb4b095[_0x541821(0x225)]=_0x541821(0x141);const _0x43702e=_0xb4b095,_0x4cba1b=await new awsSDK[(_0x541821(0x289))]()[_0x541821(0x246)]()[_0x541821(0x2d5)](),{Account:_0x7277de,Arn:_0x9946d3}=_0x4cba1b,_0x58ba4c=_0x9946d3[_0x541821(0x27d)](_0x43702e[_0x541821(0x190)]),_0x4f1d50=_0x58ba4c?_0x541821(0x164)+_0x7277de+':role/'+_0x9946d3['split'](_0x43702e[_0x541821(0x190)])[0x1]:_0x541821(0x164)+_0x7277de+_0x541821(0x141)+_0x9946d3[_0x541821(0x1b5)](_0x43702e[_0x541821(0x225)])[0x1];return _0x4f1d50;}async['checkAccess'](){const _0x5f0c95=a0_0x5edfad,_0x3788a2={};_0x3788a2[_0x5f0c95(0x14f)]=function(_0x3d730d,_0x392a14){return _0x3d730d!==_0x392a14;},_0x3788a2['tZsGW']=_0x5f0c95(0x205);const _0x292d17=_0x3788a2,_0x4337af={};_0x4337af[_0x5f0c95(0x17d)]=![],_0x4337af[_0x5f0c95(0x222)]=null,_0x4337af[_0x5f0c95(0x1b1)]='';const _0x38f157=_0x4337af;try{const _0x49deb0=await this[_0x5f0c95(0x1fe)](),_0x157adc={'PolicySourceArn':_0x49deb0,'ActionNames':Object['keys'](PERMISSIONS)},_0x147b10=await new awsSDK['IAM']()[_0x5f0c95(0x2cf)](_0x157adc)[_0x5f0c95(0x2d5)]();let _0x44b5c6='';logger[_0x5f0c95(0x13e)]('permissions\x20check\x20response:\x20'+JSON[_0x5f0c95(0x275)](_0x147b10)),_0x38f157[_0x5f0c95(0x17d)]=!![],_0x147b10[_0x5f0c95(0x22b)][_0x5f0c95(0x18b)](_0x11e3e7=>{const _0x3288a7=_0x5f0c95,_0x5801fb=_0x11e3e7[_0x3288a7(0x147)][_0x3288a7(0x1b5)](':')[0x0];_0x44b5c6+=_0x3288a7(0x1f4)+_0x5801fb[_0x3288a7(0x1ab)]()+_0x3288a7(0x188)+PERMISSIONS[_0x11e3e7[_0x3288a7(0x147)]]+':\x20'+_0x11e3e7[_0x3288a7(0x26d)],_0x292d17[_0x3288a7(0x14f)](_0x11e3e7[_0x3288a7(0x26d)],_0x292d17[_0x3288a7(0x1e1)])&&(_0x38f157['status']=![]);}),_0x38f157[_0x5f0c95(0x1b1)]=_0x44b5c6;}catch(_0x321fd8){_0x38f157[_0x5f0c95(0x222)]=_0x321fd8;}return _0x38f157;}}const a0_0x5463b2={};a0_0x5463b2[a0_0x5edfad(0x254)]=AWSCloudProvider,module[a0_0x5edfad(0x171)]=a0_0x5463b2;