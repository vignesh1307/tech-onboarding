const a1_0x37d6a5=a1_0x27ff;(function(_0x2aa44a,_0x2dc86c){const _0x370722=a1_0x27ff,_0x54f5f0=_0x2aa44a();while(!![]){try{const _0x16eb79=-parseInt(_0x370722(0x292))/0x1+-parseInt(_0x370722(0x2c5))/0x2+-parseInt(_0x370722(0x2b8))/0x3+parseInt(_0x370722(0x18b))/0x4+parseInt(_0x370722(0x1d1))/0x5*(-parseInt(_0x370722(0x1de))/0x6)+-parseInt(_0x370722(0x319))/0x7*(-parseInt(_0x370722(0x186))/0x8)+parseInt(_0x370722(0x34e))/0x9;if(_0x16eb79===_0x2dc86c)break;else _0x54f5f0['push'](_0x54f5f0['shift']());}catch(_0x2a7e52){_0x54f5f0['push'](_0x54f5f0['shift']());}}}(a1_0xbb03,0x634cd));const fs=require('fs'),path=require(a1_0x37d6a5(0x2f5)),yaml=require(a1_0x37d6a5(0x231)),{logger}=require(a1_0x37d6a5(0x297)),{CloudProvider}=require(a1_0x37d6a5(0x1ba)),{deleteRoutingDeps,deleteAgent}=require(a1_0x37d6a5(0x1c9)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x37d6a5(0x30a)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x37d6a5(0x262)),{StorageManagementClient}=require(a1_0x37d6a5(0x2ec)),{AuthorizationManagementClient}=require(a1_0x37d6a5(0x1b1)),{ResourceManagementClient}=require(a1_0x37d6a5(0x213)),{ContainerServiceClient}=require(a1_0x37d6a5(0x290)),{runCommand}=require(a1_0x37d6a5(0x2a5));class AzureCloudProvider extends CloudProvider{constructor(_0x46578b,_0x6ef74d,_0x5c412e,_0x295d89){const _0x5dd323=a1_0x37d6a5,_0xd8fb2b={};_0xd8fb2b[_0x5dd323(0x19b)]=_0x5dd323(0x274);const _0x16cb9c=_0xd8fb2b,_0xe1c43f=_0x16cb9c[_0x5dd323(0x19b)][_0x5dd323(0x2ac)]('|');let _0x4489a0=0x0;while(!![]){switch(_0xe1c43f[_0x4489a0++]){case'0':this[_0x5dd323(0x26b)]=null;continue;case'1':this[_0x5dd323(0x23d)]=null;continue;case'2':this[_0x5dd323(0x245)]=null;continue;case'3':this['clusterInfo']=null;continue;case'4':this['storageClient']=null;continue;case'5':super(AZURE,_0x46578b,_0x6ef74d,_0x5c412e,_0x295d89);continue;case'6':this[_0x5dd323(0x215)]=null;continue;case'7':this[_0x5dd323(0x1bc)]=null;continue;}break;}}async[a1_0x37d6a5(0x261)](){const _0x375886=a1_0x37d6a5;return await super[_0x375886(0x261)](),this;}[a1_0x37d6a5(0x2ea)](){const _0x3acb96=a1_0x37d6a5,_0x5cd9af=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x3acb96(0x321)],global_registry[_0x3acb96(0x31d)]);this['containerClient']=new ContainerServiceClient(_0x5cd9af,global_registry[_0x3acb96(0x287)]),this[_0x3acb96(0x1f7)]=new StorageManagementClient(_0x5cd9af,global_registry[_0x3acb96(0x287)]),this[_0x3acb96(0x245)]=new ResourceManagementClient(_0x5cd9af,global_registry['cloudProviderSubscriptionId']),this[_0x3acb96(0x26b)]=new NetworkManagementClient(_0x5cd9af,global_registry['cloudProviderSubscriptionId']),this['authClient']=new AuthorizationManagementClient(_0x5cd9af,global_registry[_0x3acb96(0x287)]),this[_0x3acb96(0x215)]=_0x5cd9af;}[a1_0x37d6a5(0x1c1)](){const _0x282fff=a1_0x37d6a5,_0xfd81cc={};_0xfd81cc['aUPRy']=function(_0x5497b9,_0x32d73c){return _0x5497b9+_0x32d73c;},_0xfd81cc[_0x282fff(0x220)]='turboscale',_0xfd81cc[_0x282fff(0x1b0)]=function(_0x4b3056,_0xb05825){return _0x4b3056-_0xb05825;};const _0x5e9297=_0xfd81cc,_0x5450ac=global_registry['s3Bucket'][_0x282fff(0x2ac)]('-'),_0x56505f=_0x5e9297[_0x282fff(0x1e6)](_0x5e9297[_0x282fff(0x220)],_0x5450ac[_0x5e9297['mkOBO'](_0x5450ac[_0x282fff(0x310)],0x1)])[_0x282fff(0x1fd)](0x0,0x18);return _0x56505f['toLowerCase']();}[a1_0x37d6a5(0x33c)](_0x3ef7de){const _0x53c460=a1_0x37d6a5,_0x2c2716={};_0x2c2716[_0x53c460(0x353)]=_0x53c460(0x265);const _0x4e2f04=_0x2c2716,_0x206f99=_0x4e2f04[_0x53c460(0x353)]['split']('|');let _0x3a3f09=0x0;while(!![]){switch(_0x206f99[_0x3a3f09++]){case'0':global_registry[_0x53c460(0x352)]=_0x3ef7de[this['cloudProviderName']][_0x53c460(0x1e4)];continue;case'1':global_registry['cloudProviderClientId']=_0x3ef7de[this['cloudProviderName']][_0x53c460(0x33f)];continue;case'2':global_registry[_0x53c460(0x315)]=_0x3ef7de[this['cloudProviderName']][_0x53c460(0x1d0)];continue;case'3':global_registry[_0x53c460(0x287)]=_0x3ef7de[this['cloudProviderName']]['subscriptionId'];continue;case'4':global_registry['cloudProviderClientSecret']=_0x3ef7de[this['cloudProviderName']]['clientSecret'];continue;case'5':this[_0x53c460(0x2ea)]();continue;}break;}}async['getUserInput'](_0x41d9e6,_0x4c39e8){const _0x5d4af2=a1_0x37d6a5,_0x5ab818={'loeFJ':_0x5d4af2(0x2d5),'OjUqQ':function(_0x2d8595,_0x2fe720){return _0x2d8595===_0x2fe720;},'TqJhh':_0x5d4af2(0x21d),'mCBkr':_0x5d4af2(0x228),'XJiRh':_0x5d4af2(0x24e),'lJtRv':function(_0x3eec42,_0x308a90){return _0x3eec42(_0x308a90);},'cWCur':function(_0x51dc56,_0x253747){return _0x51dc56(_0x253747);},'Nhxws':function(_0x4dd623,_0x270d01){return _0x4dd623===_0x270d01;},'dCxez':function(_0x1f49b1,_0x27ca5b){return _0x1f49b1!==_0x27ca5b;},'oQDRU':_0x5d4af2(0x1a8),'MnuaN':_0x5d4af2(0x227),'SugNC':function(_0x485845,_0x16ea0b){return _0x485845!==_0x16ea0b;},'nFvOI':_0x5d4af2(0x224),'QezHS':function(_0x3a756c,_0x5b132d){return _0x3a756c(_0x5b132d);},'FdYUx':function(_0x2a0c5d,_0xca4c8b){return _0x2a0c5d===_0xca4c8b;},'ojQHk':function(_0x4ca71f,_0x59ce93){return _0x4ca71f===_0x59ce93;},'ncJUO':'ZHGEP','gkTwH':_0x5d4af2(0x29d),'frpkn':_0x5d4af2(0x2e3),'FpnyP':function(_0x10c589,_0xd0caaa){return _0x10c589===_0xd0caaa;},'ZtPGT':'reDIP','BzmXs':_0x5d4af2(0x279),'oXFFY':function(_0x2579ef,_0xc01b4a){return _0x2579ef<_0xc01b4a;},'GHBwY':function(_0x121b9d,_0x4ddcc9){return _0x121b9d!==_0x4ddcc9;},'mCdUC':'crDsc','PnDTi':function(_0x227615,_0x4c3e34){return _0x227615+_0x4c3e34;},'VZIFv':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','BxgRt':function(_0x10670e,_0x507a21){return _0x10670e(_0x507a21);},'UGnet':function(_0xf5736,_0x30224b){return _0xf5736(_0x30224b);},'OqgHi':function(_0x41930a,_0x1551c3){return _0x41930a<=_0x1551c3;},'YogZM':function(_0x37f82b,_0x41c94d){return _0x37f82b>_0x41c94d;},'VAjln':_0x5d4af2(0x25b),'yBueq':_0x5d4af2(0x2c1),'wXYYV':function(_0x23cf01,_0x1295d5){return _0x23cf01-_0x1295d5;}},_0x587499=this['cloudProviderName']['toUpperCase'](),_0x512418=await _0x5ab818[_0x5d4af2(0x34a)](_0x41d9e6,_0x587499+_0x5d4af2(0x1a7)),_0x28d04c=await _0x5ab818[_0x5d4af2(0x34a)](_0x41d9e6,_0x587499+'\x20CLIENT\x20SECRET:\x20'),_0x24f33e=await _0x5ab818[_0x5d4af2(0x2c4)](_0x41d9e6,_0x587499+_0x5d4af2(0x27e)),_0x1637e8=await _0x5ab818[_0x5d4af2(0x2c4)](_0x41d9e6,_0x587499+_0x5d4af2(0x320));global_registry[_0x5d4af2(0x321)]=_0x512418,global_registry[_0x5d4af2(0x31d)]=_0x28d04c,global_registry[_0x5d4af2(0x352)]=_0x24f33e,global_registry[_0x5d4af2(0x287)]=_0x1637e8,this[_0x5d4af2(0x2ea)]();const _0x2a147f=await this[_0x5d4af2(0x1c4)](),_0x31eff7=_0x2a147f[_0x5d4af2(0x310)];let _0x106f45;if(_0x5ab818[_0x5d4af2(0x338)](_0x31eff7,0x0))_0x5ab818[_0x5d4af2(0x2e9)](_0x5ab818[_0x5d4af2(0x304)],_0x5ab818[_0x5d4af2(0x259)])?_0x106f45=await _0x5ab818[_0x5d4af2(0x34a)](_0x41d9e6,_0x587499+'\x20RESOURCE\x20GROUP:\x20'):_0x5130d7[_0x5d4af2(0x1ca)]=![];else{if(_0x5ab818[_0x5d4af2(0x30e)](_0x31eff7,0x1)){if(_0x5ab818['SugNC'](_0x5ab818[_0x5d4af2(0x1b2)],_0x5ab818[_0x5d4af2(0x1b2)])){const _0x199d44={};_0x199d44[_0x5d4af2(0x1ca)]=!![],_0x199d44['error']=null,_0x199d44[_0x5d4af2(0x1ad)]=_0x5ab818[_0x5d4af2(0x324)];const _0x384446=_0x199d44;return _0x384446;}else{const _0x30ae6a=await _0x5ab818['QezHS'](_0x41d9e6,_0x5d4af2(0x337)+_0x2a147f[0x0]+_0x5d4af2(0x294));(_0x5ab818[_0x5d4af2(0x1cd)](_0x30ae6a,undefined)||_0x5ab818[_0x5d4af2(0x30e)](_0x30ae6a,null)||!(_0x5ab818[_0x5d4af2(0x30e)](_0x30ae6a[_0x5d4af2(0x17c)](),'y')||_0x5ab818[_0x5d4af2(0x30e)](_0x30ae6a[_0x5d4af2(0x17c)](),'n')))&&(_0x5ab818['ojQHk'](_0x5ab818[_0x5d4af2(0x32b)],_0x5ab818[_0x5d4af2(0x18a)])?(_0x1b0687+=_0x5ab818[_0x5d4af2(0x30e)](_0x4a613d[_0x5d4af2(0x310)],0x0)?_0x5ab818[_0x5d4af2(0x31f)]:'',_0x31222c[_0x5d4af2(0x2b6)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x29d156['stringify'](_0xdfa913))):(console[_0x5d4af2(0x1bd)](_0x5ab818['frpkn']),process[_0x5d4af2(0x17e)](0x1)));if(_0x5ab818[_0x5d4af2(0x2c7)](_0x30ae6a[_0x5d4af2(0x17c)](),'n')){if(_0x5ab818[_0x5d4af2(0x30e)](_0x5ab818['ZtPGT'],_0x5ab818[_0x5d4af2(0x316)]))process[_0x5d4af2(0x17e)](0x0);else return!![];}_0x106f45=_0x2a147f[0x0];}}else{if(_0x5ab818['dCxez'](_0x5ab818[_0x5d4af2(0x244)],_0x5ab818[_0x5d4af2(0x244)]))return _0x4226aa[_0x5d4af2(0x1bd)](_0x5d4af2(0x24a)+_0x5e305e+':'+_0x28ec35[_0x5d4af2(0x1f1)]),{};else{for(let _0x1484ac=0x0;_0x5ab818['oXFFY'](_0x1484ac,_0x2a147f[_0x5d4af2(0x310)]);_0x1484ac+=0x1){_0x5ab818[_0x5d4af2(0x2e5)](_0x5ab818['mCdUC'],_0x5ab818[_0x5d4af2(0x2af)])?_0x4c9541[_0x5d4af2(0x25f)](_0x18b0f2):console['log']('['+_0x5ab818[_0x5d4af2(0x296)](_0x1484ac,0x1)+']\x20'+_0x2a147f[_0x1484ac]);}const _0x3d88a0=await _0x5ab818[_0x5d4af2(0x34a)](_0x41d9e6,_0x5ab818['VZIFv']),_0x3e12f9=_0x5ab818['BxgRt'](Number,_0x3d88a0);if(_0x5ab818[_0x5d4af2(0x232)](isNaN,_0x3e12f9)||_0x5ab818[_0x5d4af2(0x2d0)](_0x3e12f9,0x0)||_0x5ab818[_0x5d4af2(0x190)](_0x3e12f9,_0x31eff7)){if(_0x5ab818[_0x5d4af2(0x30e)](_0x5ab818['VAjln'],_0x5ab818[_0x5d4af2(0x2cf)])){const _0xbd1bad=_0x1a2138['includes'](_0xa348a);_0x546d2a+='\x0a\x09'+_0x116d42+':\x20'+(_0xbd1bad?_0x5ab818[_0x5d4af2(0x1c0)]:_0x5ab818['XJiRh']),!_0xbd1bad&&(_0x447cb4[_0x5d4af2(0x1ca)]=![]);}else console[_0x5d4af2(0x1bd)](_0x5ab818[_0x5d4af2(0x204)]),process['exit'](0x1);}_0x106f45=_0x2a147f[_0x5ab818[_0x5d4af2(0x314)](_0x3e12f9,0x1)];}}}global_registry[_0x5d4af2(0x315)]=_0x106f45;const _0x5a1c1f={};return _0x5a1c1f[_0x5d4af2(0x33f)]=_0x512418,_0x5a1c1f[_0x5d4af2(0x2ff)]=_0x28d04c,_0x5a1c1f[_0x5d4af2(0x1e4)]=_0x24f33e,_0x5a1c1f[_0x5d4af2(0x1ed)]=_0x1637e8,_0x5a1c1f['resourceGroup']=_0x106f45,_0x4c39e8[_0x5d4af2(0x34d)][AZURE]=_0x5a1c1f,_0x4c39e8;}async[a1_0x37d6a5(0x1c4)](){const _0x522740=a1_0x37d6a5,_0x5ba251={};_0x5ba251[_0x522740(0x30f)]=_0x522740(0x30b),_0x5ba251[_0x522740(0x201)]=function(_0x3b6a74,_0x3be0a8){return _0x3b6a74!==_0x3be0a8;},_0x5ba251[_0x522740(0x2d8)]=_0x522740(0x1ee),_0x5ba251['Svorn']=function(_0x5ab3a8,_0xe7328d){return _0x5ab3a8!==_0xe7328d;},_0x5ba251[_0x522740(0x1f0)]=_0x522740(0x295),_0x5ba251[_0x522740(0x331)]=_0x522740(0x177);const _0x15f7ca=_0x5ba251,_0x5dd72d=[];try{if(_0x15f7ca[_0x522740(0x201)](_0x15f7ca['vZNnE'],_0x15f7ca[_0x522740(0x2d8)])){const _0x3bc3f3=new _0x2bd904(_0x58b7ed[_0x522740(0x352)],_0x3e9a85[_0x522740(0x321)],_0x1de057[_0x522740(0x31d)]);this['containerClient']=new _0xe37a43(_0x3bc3f3,_0x36ef71[_0x522740(0x287)]),this[_0x522740(0x1f7)]=new _0x3f7c9f(_0x3bc3f3,_0x2e456f[_0x522740(0x287)]),this[_0x522740(0x245)]=new _0x230b7a(_0x3bc3f3,_0x59d906[_0x522740(0x287)]),this[_0x522740(0x26b)]=new _0x506345(_0x3bc3f3,_0x1e097b[_0x522740(0x287)]),this[_0x522740(0x23d)]=new _0x3969a5(_0x3bc3f3,_0x208d5a['cloudProviderSubscriptionId']),this['cred']=_0x3bc3f3;}else{const _0x348e75=await this['resourceClient'][_0x522740(0x1e9)]['list']();for await(const _0x494269 of _0x348e75){if(_0x15f7ca['Svorn'](_0x15f7ca['qDZHe'],_0x15f7ca['FZeZi']))_0x5dd72d[_0x522740(0x25f)](_0x494269[_0x522740(0x2ae)]);else{_0x112aaf[_0x522740(0x24c)](_0x15f7ca[_0x522740(0x30f)]);const _0x548cac={};_0x548cac[_0x522740(0x2d2)]=_0x59bbd2[_0x522740(0x2de)],_0x548cac[_0x522740(0x28d)]=_0x15f7ca[_0x522740(0x30f)],this['webSocketUtils'][_0x522740(0x27c)](this[_0x522740(0x327)],_0x548cac),_0x1ec688[_0x522740(0x351)]=![];}}}}catch(_0x47d071){}return _0x5dd72d;}async['getClusterInfo'](){const _0xb40499=a1_0x37d6a5;return this[_0xb40499(0x326)]=await this['containerClient']['managedClusters']['get'](global_registry[_0xb40499(0x315)],this[_0xb40499(0x2f2)]),this[_0xb40499(0x326)];}async['getKubeConfigData'](){const _0x364cc6=a1_0x37d6a5,_0x251700=await this['containerClient'][_0x364cc6(0x1f4)][_0x364cc6(0x1cf)](global_registry[_0x364cc6(0x315)],this[_0x364cc6(0x2f2)]),_0x3e5b99=_0x251700[_0x364cc6(0x2b4)][0x0]['value'][_0x364cc6(0x198)]();return _0x3e5b99;}[a1_0x37d6a5(0x2dc)](_0xe72c00){const _0x3ad960=a1_0x37d6a5;return _0xe72c00[_0x3ad960(0x1ca)][_0x3ad960(0x27a)][_0x3ad960(0x1da)][0x0][_0x3ad960(0x170)];}async['isClusterPresent'](){const _0x31d6e6=a1_0x37d6a5,_0x817995={};_0x817995[_0x31d6e6(0x2f6)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x817995['BKTRQ']=function(_0x468cea,_0x512eb4){return _0x468cea!==_0x512eb4;},_0x817995[_0x31d6e6(0x225)]=_0x31d6e6(0x343),_0x817995['MCeww']=function(_0x5dac56,_0x3de747){return _0x5dac56===_0x3de747;},_0x817995[_0x31d6e6(0x1d5)]=_0x31d6e6(0x281),_0x817995[_0x31d6e6(0x238)]=function(_0x13e5f4,_0x27c26d){return _0x13e5f4===_0x27c26d;},_0x817995[_0x31d6e6(0x195)]=_0x31d6e6(0x1fb),_0x817995[_0x31d6e6(0x293)]='Ykihm';const _0xe44928=_0x817995,_0x3ef0b4=new Array();for await(const _0x56c82b of this['containerClient'][_0x31d6e6(0x1f4)][_0x31d6e6(0x210)](global_registry['cloudProviderResourceGroup'])){if(_0xe44928['BKTRQ'](_0xe44928[_0x31d6e6(0x225)],_0xe44928[_0x31d6e6(0x225)]))return _0x581685['status']['loadBalancer'][_0x31d6e6(0x1da)][0x0][_0x31d6e6(0x170)];else _0x3ef0b4[_0x31d6e6(0x25f)](_0x56c82b);}for await(const _0x470dae of _0x3ef0b4){if(_0xe44928[_0x31d6e6(0x309)](_0xe44928[_0x31d6e6(0x1d5)],_0xe44928[_0x31d6e6(0x1d5)])){if(_0xe44928['gzViJ'](_0x470dae[_0x31d6e6(0x2ae)],this[_0x31d6e6(0x2f2)]))return _0xe44928['MCeww'](_0xe44928[_0x31d6e6(0x195)],_0xe44928[_0x31d6e6(0x293)])?[!![],_0x2602e5]:(await this[_0x31d6e6(0x2cd)](),!![]);}else _0x3244c2['error'](_0xe44928[_0x31d6e6(0x2f6)]),_0x27584c[_0x31d6e6(0x17e)](0x1);}return![];}async[a1_0x37d6a5(0x285)](_0x2082c0=null,_0x392434=null){const _0x37cf68=a1_0x37d6a5,_0x564bb2={};_0x564bb2[_0x37cf68(0x183)]=_0x37cf68(0x22e),_0x564bb2[_0x37cf68(0x184)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x275355=_0x564bb2,_0x5f369a=_0x275355[_0x37cf68(0x183)][_0x37cf68(0x2ac)]('|');let _0x36813f=0x0;while(!![]){switch(_0x5f369a[_0x36813f++]){case'0':await this[_0x37cf68(0x307)](_0x2082c0,_0x392434);continue;case'1':logger[_0x37cf68(0x24c)](_0x275355[_0x37cf68(0x184)]);continue;case'2':const _0x52127a={};_0x52127a[_0x37cf68(0x2d2)]=WS_EVENTS['LOG'],_0x52127a['message']=_0x275355[_0x37cf68(0x184)],this[_0x37cf68(0x22c)][_0x37cf68(0x27c)](this[_0x37cf68(0x327)],_0x52127a);continue;case'3':return[_0x2082c0,_0x392434];case'4':this['sendAzureInfoToHST']();continue;case'5':await this[_0x37cf68(0x335)]();continue;}break;}}async[a1_0x37d6a5(0x307)](_0x56ae13=null,_0xaef2a4=null){const _0x152adc=a1_0x37d6a5,_0x16f05a={};_0x16f05a[_0x152adc(0x246)]=function(_0x1fc017,_0x57be68){return _0x1fc017+_0x57be68;},_0x16f05a[_0x152adc(0x219)]=_0x152adc(0x334),_0x16f05a['pkQfS']=function(_0x3e89db,_0x2b53ee){return _0x3e89db-_0x2b53ee;},_0x16f05a[_0x152adc(0x33e)]=_0x152adc(0x2bd),_0x16f05a[_0x152adc(0x19d)]=_0x152adc(0x29c),_0x16f05a['RqnKt']=_0x152adc(0x336),_0x16f05a['NSrTy']=_0x152adc(0x348),_0x16f05a[_0x152adc(0x1f6)]=_0x152adc(0x1db),_0x16f05a[_0x152adc(0x32d)]=_0x152adc(0x2c8),_0x16f05a['CCpFk']=function(_0x240941,_0x26f47d){return _0x240941!==_0x26f47d;},_0x16f05a[_0x152adc(0x25e)]=function(_0x1eb881,_0x5dc1b6){return _0x1eb881!==_0x5dc1b6;},_0x16f05a[_0x152adc(0x1a2)]=_0x152adc(0x27d),_0x16f05a[_0x152adc(0x1fa)]=_0x152adc(0x255),_0x16f05a['lSkKC']=_0x152adc(0x286),_0x16f05a['gtRvl']=_0x152adc(0x20a),_0x16f05a[_0x152adc(0x31a)]=_0x152adc(0x20c),_0x16f05a['tqpcq']=_0x152adc(0x2d6),_0x16f05a['NdgJL']='turboscale-cluster-deployment',_0x16f05a[_0x152adc(0x19a)]=_0x152adc(0x278);const _0x59db4a=_0x16f05a;let _0x576390=await fs[_0x152adc(0x22a)](path[_0x152adc(0x301)](__dirname,'..',_0x59db4a[_0x152adc(0x33e)],_0x59db4a['UEyFs'],_0x59db4a[_0x152adc(0x2ef)]),_0x59db4a[_0x152adc(0x2f3)]);_0x576390=JSON[_0x152adc(0x34b)](_0x576390);const _0x282dd1={};_0x282dd1[_0x152adc(0x18d)]=this[_0x152adc(0x2f2)];const _0x9dd10e={};_0x9dd10e[_0x152adc(0x18d)]=global_registry[_0x152adc(0x291)];const _0x139c6a={};_0x139c6a[_0x152adc(0x18d)]=global_registry[_0x152adc(0x176)];const _0xd526dc={};_0xd526dc['value']=global_registry[_0x152adc(0x2b2)];const _0x7df7c2={};_0x7df7c2[_0x152adc(0x18d)]=global_registry['clusterAutoUpgrade']?_0x59db4a[_0x152adc(0x1f6)]:_0x59db4a['KXEJg'];const _0xae3773={};_0xae3773[_0x152adc(0x2f2)]=_0x282dd1,_0xae3773['location']=_0x9dd10e,_0xae3773[_0x152adc(0x251)]=_0x139c6a,_0xae3773[_0x152adc(0x1a1)]=_0xd526dc,_0xae3773['clusterAutoUpgrade']=_0x7df7c2;let _0x57e39b=_0xae3773;if(_0x59db4a[_0x152adc(0x2f9)](_0x56ae13,null)&&_0x59db4a[_0x152adc(0x2f9)](_0xaef2a4,null)){if(_0x59db4a[_0x152adc(0x25e)](_0x59db4a[_0x152adc(0x1a2)],_0x59db4a[_0x152adc(0x1fa)])){const _0x2ebe12={};_0x2ebe12[_0x152adc(0x2d2)]=_0x59db4a['lSkKC'],_0x2ebe12[_0x152adc(0x1fe)]={},_0x2ebe12[_0x152adc(0x1fe)][_0x152adc(0x2bc)]=_0x59db4a[_0x152adc(0x344)];const _0x6fb994={};_0x6fb994[_0x152adc(0x2d2)]=_0x59db4a[_0x152adc(0x17b)],_0x6fb994[_0x152adc(0x1fe)]={},_0x6fb994[_0x152adc(0x1fe)][_0x152adc(0x2bc)]=_0x59db4a[_0x152adc(0x344)],_0x576390[_0x152adc(0x192)]={..._0x576390[_0x152adc(0x192)],'vpcName':_0x2ebe12,'subnetName':_0x6fb994};const _0x5d617a={};_0x5d617a[_0x152adc(0x2be)]=_0x59db4a[_0x152adc(0x31a)],_0x576390['variables']=_0x5d617a,_0x576390[_0x152adc(0x1e2)][0x0]['properties']['agentPoolProfiles'][0x0]={..._0x576390[_0x152adc(0x1e2)][0x0][_0x152adc(0x27b)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x59db4a[_0x152adc(0x26c)]};const _0x28912e={};_0x28912e[_0x152adc(0x18d)]=_0x56ae13;const _0x2d78e6={};_0x2d78e6['value']=_0xaef2a4[0x0],_0x57e39b={..._0x57e39b,'vpcName':_0x28912e,'subnetName':_0x2d78e6};}else{const _0x2b383d=_0x54cbf6['s3Bucket']['split']('-'),_0x5c4000=_0x59db4a[_0x152adc(0x246)](_0x59db4a[_0x152adc(0x219)],_0x2b383d[_0x59db4a[_0x152adc(0x1a6)](_0x2b383d['length'],0x1)])['slice'](0x0,0x18);return _0x5c4000[_0x152adc(0x17c)]();}}await this[_0x152adc(0x245)]['deployments'][_0x152adc(0x30d)](global_registry[_0x152adc(0x315)],_0x59db4a['NdgJL'],{'properties':{'template':_0x576390,'mode':_0x59db4a[_0x152adc(0x19a)],'parameters':_0x57e39b}});}async[a1_0x37d6a5(0x335)](){const _0x4bca66=a1_0x37d6a5,_0x41bb9a={};_0x41bb9a[_0x4bca66(0x2c2)]=_0x4bca66(0x1e1),_0x41bb9a[_0x4bca66(0x2e7)]=_0x4bca66(0x318),_0x41bb9a[_0x4bca66(0x1ec)]=function(_0x5e5c54,_0x2df320){return _0x5e5c54!==_0x2df320;},_0x41bb9a[_0x4bca66(0x308)]=_0x4bca66(0x29e),_0x41bb9a[_0x4bca66(0x2db)]=_0x4bca66(0x29b),_0x41bb9a[_0x4bca66(0x2f8)]=_0x4bca66(0x23f),_0x41bb9a[_0x4bca66(0x1aa)]=_0x4bca66(0x1f8),_0x41bb9a['XdFEr']=_0x4bca66(0x217),_0x41bb9a['BoIyf']=function(_0x59c185,_0x17a93a){return _0x59c185===_0x17a93a;},_0x41bb9a[_0x4bca66(0x203)]=_0x4bca66(0x356),_0x41bb9a[_0x4bca66(0x332)]=_0x4bca66(0x16e),_0x41bb9a[_0x4bca66(0x2f4)]=_0x4bca66(0x341),_0x41bb9a[_0x4bca66(0x2ee)]=_0x4bca66(0x2d1),_0x41bb9a[_0x4bca66(0x20e)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x41bb9a[_0x4bca66(0x1bb)]=_0x4bca66(0x2da),_0x41bb9a[_0x4bca66(0x2eb)]=_0x4bca66(0x1cb);const _0x2411d4=_0x41bb9a,_0x5f0cbd=await this[_0x4bca66(0x349)]();if(!_0x5f0cbd){if(_0x2411d4[_0x4bca66(0x1ec)](_0x2411d4['WOqKW'],_0x2411d4['qzggJ'])){const _0x10c268={};_0x10c268['type']=WS_EVENTS['LOG'],_0x10c268[_0x4bca66(0x28d)]=_0x2411d4[_0x4bca66(0x2f8)],this['webSocketUtils'][_0x4bca66(0x27c)](this[_0x4bca66(0x327)],_0x10c268),logger['info'](_0x2411d4[_0x4bca66(0x2f8)]),await this['createStorageAccount']();}else _0x1e5d1b['error']=_0x215dd6;}else{if(_0x2411d4[_0x4bca66(0x1ec)](_0x2411d4[_0x4bca66(0x1aa)],_0x2411d4['XdFEr']))logger[_0x4bca66(0x24c)](_0x2411d4[_0x4bca66(0x2e7)]);else throw new _0x107a3d(_0x2411d4[_0x4bca66(0x2c2)],_0x4bca66(0x208)+_0x580c03[_0x4bca66(0x28a)](_0x201088));}const _0x5c19b5=await this[_0x4bca66(0x33a)]();if(!_0x5c19b5){if(_0x2411d4[_0x4bca66(0x21a)](_0x2411d4[_0x4bca66(0x203)],_0x2411d4[_0x4bca66(0x332)]))_0x96446a[_0x4bca66(0x24c)](_0x2411d4[_0x4bca66(0x2e7)]);else{const _0x598924={};_0x598924['type']=WS_EVENTS['LOG'],_0x598924[_0x4bca66(0x28d)]=_0x2411d4[_0x4bca66(0x2f4)],this[_0x4bca66(0x22c)][_0x4bca66(0x27c)](this[_0x4bca66(0x327)],_0x598924),logger[_0x4bca66(0x24c)](_0x2411d4['GRrtp']),await this[_0x4bca66(0x28f)]();}}else{if(_0x2411d4['BoIyf'](_0x2411d4['JfooO'],_0x2411d4[_0x4bca66(0x2ee)]))logger[_0x4bca66(0x24c)](_0x2411d4['xxSzL']);else return;}logger[_0x4bca66(0x24c)](_0x2411d4[_0x4bca66(0x1bb)]),await this['createFederatedAccount'](),logger['info'](_0x2411d4[_0x4bca66(0x2eb)]);}async[a1_0x37d6a5(0x26a)](){const _0x51a227=a1_0x37d6a5,_0x3b24c3={};_0x3b24c3[_0x51a227(0x2cc)]=_0x51a227(0x2bd),_0x3b24c3[_0x51a227(0x32c)]=_0x51a227(0x29c),_0x3b24c3[_0x51a227(0x31b)]=_0x51a227(0x185),_0x3b24c3[_0x51a227(0x2b1)]='utf-8',_0x3b24c3[_0x51a227(0x229)]=_0x51a227(0x276),_0x3b24c3['cmdBD']=_0x51a227(0x278),_0x3b24c3['iWnhH']=_0x51a227(0x340),_0x3b24c3[_0x51a227(0x256)]=_0x51a227(0x2a1),_0x3b24c3[_0x51a227(0x1d2)]=_0x51a227(0x22d),_0x3b24c3['Ybyte']=_0x51a227(0x2e1);const _0x23c1df=_0x3b24c3;let _0x234fec=await fs[_0x51a227(0x22a)](path[_0x51a227(0x301)](__dirname,'..',_0x23c1df[_0x51a227(0x2cc)],_0x23c1df['aMelR'],_0x23c1df['IBISK']),_0x23c1df[_0x51a227(0x2b1)]);_0x234fec=JSON[_0x51a227(0x34b)](_0x234fec);const _0xc81113=this[_0x51a227(0x1c1)](),_0x2e1cb5={};_0x2e1cb5[_0x51a227(0x18d)]=_0xc81113;const _0x4ed58b={};_0x4ed58b[_0x51a227(0x2e4)]=_0x2e1cb5,await this[_0x51a227(0x245)][_0x51a227(0x253)][_0x51a227(0x30d)](global_registry['cloudProviderResourceGroup'],_0x23c1df[_0x51a227(0x229)],{'properties':{'template':_0x234fec,'mode':_0x23c1df['cmdBD'],'parameters':_0x4ed58b}});const _0x46bce8={};_0x46bce8[_0x51a227(0x20f)]=0x3c;const _0x407fc0={};_0x407fc0[_0x51a227(0x254)]=_0x46bce8;const _0xf3cdda={};_0xf3cdda[_0x51a227(0x2bb)]=_0x407fc0;const _0x4916ab={};_0x4916ab[_0x51a227(0x1ef)]=!![],_0x4916ab[_0x51a227(0x2ae)]=_0x23c1df['iWnhH'],_0x4916ab['type']=_0x23c1df[_0x51a227(0x256)],_0x4916ab[_0x51a227(0x23b)]={},_0x4916ab[_0x51a227(0x23b)][_0x51a227(0x260)]=_0xf3cdda,_0x4916ab[_0x51a227(0x23b)][_0x51a227(0x311)]={},_0x4916ab[_0x51a227(0x23b)][_0x51a227(0x311)][_0x51a227(0x2c9)]=[_0x23c1df[_0x51a227(0x1d2)]];const _0x32a25c={};_0x32a25c[_0x51a227(0x1ff)]=[_0x4916ab];const _0x3cfef8={};_0x3cfef8[_0x51a227(0x32f)]=_0x32a25c;const _0x28cdca=_0x3cfef8;await this[_0x51a227(0x1f7)][_0x51a227(0x1f9)][_0x51a227(0x24f)](global_registry[_0x51a227(0x315)],_0xc81113,_0x23c1df[_0x51a227(0x2fd)],_0x28cdca);}async[a1_0x37d6a5(0x28f)](){const _0x3e941f=a1_0x37d6a5,_0x16dd21={};_0x16dd21[_0x3e941f(0x2e0)]='templates',_0x16dd21[_0x3e941f(0x1d7)]=_0x3e941f(0x29c),_0x16dd21[_0x3e941f(0x2fe)]='managedidentity.json',_0x16dd21['diIBG']=_0x3e941f(0x348),_0x16dd21['DAduY']=_0x3e941f(0x2b5),_0x16dd21[_0x3e941f(0x283)]=_0x3e941f(0x278);const _0x18b7c9=_0x16dd21;let _0x38737f=await fs[_0x3e941f(0x22a)](path[_0x3e941f(0x301)](__dirname,'..',_0x18b7c9[_0x3e941f(0x2e0)],_0x18b7c9[_0x3e941f(0x1d7)],_0x18b7c9['ecpBg']),_0x18b7c9[_0x3e941f(0x16b)]);_0x38737f=JSON[_0x3e941f(0x34b)](_0x38737f),await this[_0x3e941f(0x245)][_0x3e941f(0x253)][_0x3e941f(0x30d)](global_registry[_0x3e941f(0x315)],_0x18b7c9[_0x3e941f(0x1fc)],{'properties':{'template':_0x38737f,'mode':_0x18b7c9[_0x3e941f(0x283)],'parameters':{'clusterName':{'value':this[_0x3e941f(0x2f2)]}}}});}async['createFederatedAccount'](){const _0x278096=a1_0x37d6a5,_0x493fa7={};_0x493fa7[_0x278096(0x234)]=function(_0x4d66a3,_0x1def46){return _0x4d66a3===_0x1def46;},_0x493fa7['fixzh']=function(_0x37902e,_0x3bd384){return _0x37902e===_0x3bd384;},_0x493fa7[_0x278096(0x171)]=_0x278096(0x202),_0x493fa7[_0x278096(0x2ed)]=_0x278096(0x249),_0x493fa7[_0x278096(0x21e)]=_0x278096(0x1eb),_0x493fa7[_0x278096(0x280)]=function(_0x48def0,_0x494818){return _0x48def0!==_0x494818;},_0x493fa7[_0x278096(0x267)]=_0x278096(0x347),_0x493fa7[_0x278096(0x2a2)]='gzXjS',_0x493fa7[_0x278096(0x221)]=_0x278096(0x2bd),_0x493fa7[_0x278096(0x207)]=_0x278096(0x29c),_0x493fa7[_0x278096(0x20d)]=_0x278096(0x348),_0x493fa7[_0x278096(0x23a)]=_0x278096(0x313),_0x493fa7[_0x278096(0x2d4)]=_0x278096(0x278);const _0x141438=_0x493fa7;if(!this[_0x278096(0x326)]){if(_0x141438[_0x278096(0x2ca)](_0x141438['KmPtL'],_0x141438[_0x278096(0x171)]))await this[_0x278096(0x2cd)]();else return _0x1c23fd[_0x278096(0x1bd)](_0x278096(0x1b5)+_0x4cdd4c+_0x278096(0x214)+_0x56af4b),![];}const _0x501eb3=this[_0x278096(0x326)]?.[_0x278096(0x26e)]?.['issuerURL'],_0x16ee4e=[_0x141438[_0x278096(0x2ed)],_0x141438[_0x278096(0x21e)]];for await(const _0x307c2e of _0x16ee4e){if(_0x141438[_0x278096(0x280)](_0x141438[_0x278096(0x267)],_0x141438[_0x278096(0x2a2)])){let _0x185d1c=await fs[_0x278096(0x22a)](path[_0x278096(0x301)](__dirname,'..',_0x141438[_0x278096(0x221)],_0x141438[_0x278096(0x207)],_0x278096(0x1a5)+_0x307c2e+'.json'),_0x141438['WDavg']);_0x185d1c=JSON[_0x278096(0x34b)](_0x185d1c);const _0x35f61c={};_0x35f61c[_0x278096(0x18d)]=_0x501eb3,await this['resourceClient'][_0x278096(0x253)]['beginCreateOrUpdateAndWait'](global_registry[_0x278096(0x315)],_0x141438[_0x278096(0x23a)],{'properties':{'template':_0x185d1c,'mode':_0x141438[_0x278096(0x2d4)],'parameters':{'oidcIssuer':_0x35f61c,'gridName':{'value':this[_0x278096(0x175)]},'clusterName':{'value':this['clusterName']}}}});}else{if(_0x141438[_0x278096(0x234)](_0x1731a6[_0x278096(0x2ae)],_0x2f76d0))return!![];}}}async[a1_0x37d6a5(0x211)](_0x17af34,_0x37da15,_0x492e70,_0x4673ee,_0x12ac3d){const _0x8db7d7=a1_0x37d6a5,_0xc8365f={};_0xc8365f['oOPGR']=_0x8db7d7(0x1a3),_0xc8365f[_0x8db7d7(0x2f0)]=_0x8db7d7(0x19f);const _0x36057f=_0xc8365f,_0x423ef8={};_0x423ef8['type']=WS_EVENTS[_0x8db7d7(0x189)],_0x423ef8[_0x8db7d7(0x28d)]=_0x36057f[_0x8db7d7(0x1b6)],this[_0x8db7d7(0x22c)][_0x8db7d7(0x27c)](this[_0x8db7d7(0x327)],_0x423ef8),logger[_0x8db7d7(0x24c)](_0x36057f[_0x8db7d7(0x1b6)]),await this['createFederatedAccountForHubHA']();const _0x37e55d={};_0x37e55d[_0x8db7d7(0x2d2)]=WS_EVENTS[_0x8db7d7(0x189)],_0x37e55d[_0x8db7d7(0x28d)]=_0x36057f[_0x8db7d7(0x2f0)],this[_0x8db7d7(0x22c)][_0x8db7d7(0x27c)](this['rws'],_0x37e55d);}async[a1_0x37d6a5(0x325)](){const _0x2d42b9=a1_0x37d6a5,_0x1ac986={};_0x1ac986[_0x2d42b9(0x31e)]=function(_0x8b1c2d,_0x9c6fe8){return _0x8b1c2d!==_0x9c6fe8;},_0x1ac986[_0x2d42b9(0x303)]=_0x2d42b9(0x306),_0x1ac986[_0x2d42b9(0x328)]='templates',_0x1ac986['tWiTz']='hubharesources',_0x1ac986[_0x2d42b9(0x2cb)]='federatedidentityuploader.json',_0x1ac986['SeaBW']='utf-8',_0x1ac986[_0x2d42b9(0x1ac)]='turboscale-federated-deployment',_0x1ac986[_0x2d42b9(0x271)]=_0x2d42b9(0x278);const _0x2e30f0=_0x1ac986;if(!this[_0x2d42b9(0x326)]){if(_0x2e30f0[_0x2d42b9(0x31e)](_0x2e30f0['ArDLl'],_0x2e30f0['ArDLl']))return!![];else await this[_0x2d42b9(0x2cd)]();}const _0x2e10a6=this['clusterInfo']?.[_0x2d42b9(0x26e)]?.[_0x2d42b9(0x2fa)];let _0x9f0876=await fs['readFileAsync'](path['join'](__dirname,'..',_0x2e30f0[_0x2d42b9(0x328)],_0x2e30f0['tWiTz'],_0x2e30f0['mKpSd']),_0x2e30f0[_0x2d42b9(0x2c0)]);_0x9f0876=JSON['parse'](_0x9f0876);const _0x36ee49={};_0x36ee49[_0x2d42b9(0x18d)]=_0x2e10a6,await this['resourceClient'][_0x2d42b9(0x253)][_0x2d42b9(0x30d)](global_registry['cloudProviderResourceGroup'],_0x2e30f0[_0x2d42b9(0x1ac)],{'properties':{'template':_0x9f0876,'mode':_0x2e30f0[_0x2d42b9(0x271)],'parameters':{'oidcIssuer':_0x36ee49,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x2d42b9(0x2f2)]}}}});}async['isStorageAccountPresent'](){const _0x496247=a1_0x37d6a5,_0x5d3e43={};_0x5d3e43[_0x496247(0x322)]=function(_0x2a2914,_0x3490fb){return _0x2a2914===_0x3490fb;},_0x5d3e43[_0x496247(0x1d6)]=function(_0x6523d2,_0x2a5cca){return _0x6523d2===_0x2a5cca;},_0x5d3e43[_0x496247(0x21b)]=_0x496247(0x1c7),_0x5d3e43[_0x496247(0x1ab)]=function(_0x5407a3,_0x5f45d8){return _0x5407a3===_0x5f45d8;},_0x5d3e43[_0x496247(0x226)]='jHjtM',_0x5d3e43[_0x496247(0x1e3)]=function(_0x295627,_0x85a0e4){return _0x295627!==_0x85a0e4;},_0x5d3e43['KhxFQ']=_0x496247(0x218),_0x5d3e43[_0x496247(0x187)]=_0x496247(0x27f);const _0x1d423a=_0x5d3e43,_0x41d9ba=this[_0x496247(0x1c1)](),_0xcf09aa=new Array();for await(const _0x550b31 of this[_0x496247(0x1f7)][_0x496247(0x2a4)][_0x496247(0x210)](global_registry[_0x496247(0x315)])){_0x1d423a['Mhfqz'](_0x1d423a[_0x496247(0x21b)],_0x1d423a[_0x496247(0x21b)])?_0xcf09aa[_0x496247(0x25f)](_0x550b31):_0x334125[_0x496247(0x25f)](_0x20b69c);}for await(const _0x2f1801 of _0xcf09aa){if(_0x1d423a[_0x496247(0x1ab)](_0x1d423a[_0x496247(0x226)],_0x1d423a['agpUy'])){if(_0x1d423a[_0x496247(0x1d6)](_0x2f1801['name'],_0x41d9ba)){if(_0x1d423a[_0x496247(0x1e3)](_0x1d423a[_0x496247(0x1e0)],_0x1d423a[_0x496247(0x187)]))return!![];else _0x1d423a[_0x496247(0x322)](_0x242b4c[_0x496247(0x2ae)],_0x4edb18)&&(_0xa38a77=_0x2acb82['id']);}}else{if(_0x1d423a[_0x496247(0x1d6)](_0x1a4838['name'],_0x2f7489))return!![];}}return![];}async['isManagedIdentityPresent'](){const _0x317e34=a1_0x37d6a5,_0x563f97={};_0x563f97[_0x317e34(0x1f5)]=_0x317e34(0x1c3),_0x563f97[_0x317e34(0x2e2)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x563f97[_0x317e34(0x22b)]=function(_0x2a172e,_0x20a467){return _0x2a172e!==_0x20a467;},_0x563f97['okFDY']='qIWjb',_0x563f97['Chwxe']=function(_0x47469f,_0x1de99b){return _0x47469f===_0x1de99b;},_0x563f97[_0x317e34(0x1f3)]=_0x317e34(0x1b3),_0x563f97['LBIeu']=_0x317e34(0x179),_0x563f97[_0x317e34(0x298)]=function(_0x263323,_0x3c4c5d){return _0x263323!==_0x3c4c5d;},_0x563f97[_0x317e34(0x18c)]=_0x317e34(0x1d8);const _0x344bcf=_0x563f97,_0x6bfea4=new Array();for await(const _0x439501 of this[_0x317e34(0x245)][_0x317e34(0x1e2)][_0x317e34(0x210)](global_registry[_0x317e34(0x315)])){if(_0x344bcf[_0x317e34(0x22b)](_0x344bcf['okFDY'],_0x344bcf[_0x317e34(0x2a3)])){_0x2a914b[_0x317e34(0x24c)](_0x344bcf[_0x317e34(0x1f5)]);const _0x17341d={};_0x17341d['type']=_0x415c16['RESOURCES'],_0x17341d[_0x317e34(0x28d)]=_0x344bcf[_0x317e34(0x1f5)],this[_0x317e34(0x22c)][_0x317e34(0x27c)](this[_0x317e34(0x327)],_0x17341d),_0x14fe1d[_0x317e34(0x26e)][_0x317e34(0x1ef)]=!![];}else _0x6bfea4[_0x317e34(0x25f)](_0x439501);}for await(const _0x4eb728 of _0x6bfea4){if(_0x344bcf[_0x317e34(0x2b7)](_0x344bcf[_0x317e34(0x1f3)],_0x344bcf[_0x317e34(0x250)]))_0x4fda70['info'](_0x344bcf[_0x317e34(0x2e2)]);else{if(_0x344bcf[_0x317e34(0x2b7)](_0x4eb728[_0x317e34(0x2ae)],_0x317e34(0x289)+this['clusterName'])){if(_0x344bcf[_0x317e34(0x298)](_0x344bcf[_0x317e34(0x18c)],_0x344bcf[_0x317e34(0x18c)]))_0x891697[_0x317e34(0x25f)](_0x115301);else return!![];}}}return![];}async[a1_0x37d6a5(0x25c)](_0xa10d03,_0x3c2500=0x3){const _0x5035cb=a1_0x37d6a5,_0x30189e={'JgZUU':_0x5035cb(0x24b),'MUIRw':function(_0x462973,_0x259f3f){return _0x462973===_0x259f3f;},'pHzVV':'zfgoi','rzPDB':function(_0x22f972,_0x10e6d1,_0x25ef8b){return _0x22f972(_0x10e6d1,_0x25ef8b);},'aGIBx':function(_0x416b12,_0x432514){return _0x416b12!==_0x432514;},'dsJPU':_0x5035cb(0x300),'SdFoV':'IlOyB','DptXZ':_0x5035cb(0x358),'wUWpO':_0x5035cb(0x18e),'fIPpb':function(_0x45561b,_0x1374a5){return _0x45561b===_0x1374a5;},'YaTsI':function(_0x448717,_0x2a765d){return _0x448717===_0x2a765d;},'CcoeZ':_0x5035cb(0x1f2),'vaQBe':_0x5035cb(0x339),'ngNMV':_0x5035cb(0x359),'QaqpI':'XZAGM','oTInX':_0x5035cb(0x1ea),'LkMzp':function(_0x5c7c6c,_0x2e40e4){return _0x5c7c6c<=_0x2e40e4;},'fJKAv':function(_0x5b1655,_0x39c6b1){return _0x5b1655!==_0x39c6b1;},'Bfsuq':_0x5035cb(0x277),'oRqMJ':_0x5035cb(0x302),'CCzah':function(_0x3fb40f,_0x25438a){return _0x3fb40f-_0x25438a;}};try{if(_0x30189e[_0x5035cb(0x1e8)](_0x30189e[_0x5035cb(0x2f7)],_0x30189e[_0x5035cb(0x2f7)]))_0x14389a[_0x5035cb(0x17e)](0x0);else{const _0x19e8a9=new Array();for await(const _0xa39fe3 of this[_0x5035cb(0x245)][_0x5035cb(0x1e2)][_0x5035cb(0x210)](global_registry['cloudProviderResourceGroup'])){if(_0x30189e[_0x5035cb(0x1e8)](_0x30189e[_0x5035cb(0x32a)],_0x30189e[_0x5035cb(0x2a8)]))_0x19e8a9[_0x5035cb(0x25f)](_0xa39fe3);else return _0x3005e9['error'](_0x5035cb(0x2fb)+_0x409955+_0x5035cb(0x2ab)+_0x307104),[![],[]];}let _0x38f0e9='';for await(const _0x4d6de2 of _0x19e8a9){if(_0x30189e[_0x5035cb(0x2a0)](_0x30189e[_0x5035cb(0x1dd)],_0x30189e[_0x5035cb(0x1dd)]))_0x30189e[_0x5035cb(0x273)](_0x4d6de2[_0x5035cb(0x2ae)],_0xa10d03)&&(_0x30189e[_0x5035cb(0x174)](_0x30189e[_0x5035cb(0x2c6)],_0x30189e[_0x5035cb(0x235)])?_0x499206[_0x5035cb(0x212)]['push'](_0xda8008):_0x38f0e9=_0x4d6de2['id']);else return _0x109e40[_0x5035cb(0x1ad)]=_0x30189e[_0x5035cb(0x282)],_0x37eb75;}const _0xd13662=await this[_0x5035cb(0x245)][_0x5035cb(0x1e2)]['getById'](_0x38f0e9,_0x30189e[_0x5035cb(0x191)]);return _0xd13662[_0x5035cb(0x27b)][_0x5035cb(0x33f)];}}catch(_0x5d0c31){if(_0x30189e['aGIBx'](_0x30189e[_0x5035cb(0x333)],_0x30189e[_0x5035cb(0x25d)])){if(_0x30189e[_0x5035cb(0x266)](_0x3c2500,0x0)){if(_0x30189e[_0x5035cb(0x25a)](_0x30189e[_0x5035cb(0x1c6)],_0x30189e[_0x5035cb(0x26f)]))return logger['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x5d0c31+':'+_0x5d0c31['stack']),{};else _0x45aed4[_0x5035cb(0x25f)](..._0x40e09b[_0x5035cb(0x260)]);}return await new Promise(_0xf142b5=>{const _0x2f6238=_0x5035cb;_0x30189e[_0x2f6238(0x2a0)](_0x30189e[_0x2f6238(0x206)],_0x30189e['pHzVV'])?_0x30189e[_0x2f6238(0x350)](setTimeout,()=>_0xf142b5(),0x3e8):_0x9ae950['push'](_0x335549);}),this['getResourceClientId'](_0xa10d03,_0x30189e[_0x5035cb(0x34c)](_0x3c2500,0x1));}else _0x57a162['push'](_0x2854a0);}}async[a1_0x37d6a5(0x17a)](){const _0xfada62=a1_0x37d6a5,_0x5dd6cb={};_0x5dd6cb[_0xfada62(0x19e)]=function(_0x118266,_0x407874){return _0x118266===_0x407874;},_0x5dd6cb['VztlL']=function(_0x138c1d,_0x163555){return _0x138c1d===_0x163555;},_0x5dd6cb[_0xfada62(0x2d7)]=_0xfada62(0x223),_0x5dd6cb['lqSKC']=function(_0x2344d0,_0x27dd26){return _0x2344d0===_0x27dd26;},_0x5dd6cb['hEkRK']=_0xfada62(0x26d),_0x5dd6cb[_0xfada62(0x1df)]=_0xfada62(0x299),_0x5dd6cb[_0xfada62(0x329)]=function(_0x32cc8a,_0x2843cb){return _0x32cc8a!==_0x2843cb;},_0x5dd6cb[_0xfada62(0x284)]=_0xfada62(0x258);const _0x489bf4=_0x5dd6cb;!this['clusterInfo']&&(_0x489bf4[_0xfada62(0x16c)](_0x489bf4[_0xfada62(0x2d7)],_0x489bf4[_0xfada62(0x2d7)])?await this['getClusterInfo']():_0x173a56['push'](_0x5197c5[_0xfada62(0x2ae)]));const _0x593195=this[_0xfada62(0x326)]?.[_0xfada62(0x200)]||{};if(_0x593195&&_0x489bf4[_0xfada62(0x1ae)](_0x593195[_0x489bf4[_0xfada62(0x24d)]],_0x489bf4['cckab'])){if(_0x489bf4[_0xfada62(0x329)](_0x489bf4['CROgr'],_0x489bf4[_0xfada62(0x284)])){if(_0x489bf4[_0xfada62(0x19e)](_0x3ca772['name'],_0xfada62(0x289)+this[_0xfada62(0x2f2)]))return!![];}else return!![];}return![];}async[a1_0x37d6a5(0x188)](_0x1565c8,_0x433522){const _0x4122b5=a1_0x37d6a5,_0x256724={'NtTOR':function(_0x1a788e,_0x314ed8){return _0x1a788e(_0x314ed8);},'yRbEm':_0x4122b5(0x248)};await _0x256724['NtTOR'](deleteAgent,_0x1565c8),await _0x256724[_0x4122b5(0x17d)](deleteRoutingDeps,_0x1565c8);const _0x1df33e=this[_0x4122b5(0x1bc)];logger[_0x4122b5(0x24c)](_0x4122b5(0x342)+this[_0x4122b5(0x2f2)]),await _0x1df33e[_0x4122b5(0x1f4)][_0x4122b5(0x272)](global_registry[_0x4122b5(0x315)],this[_0x4122b5(0x2f2)]),logger[_0x4122b5(0x24c)](_0x256724['yRbEm']);}async[a1_0x37d6a5(0x18f)](){const _0x91f29b=a1_0x37d6a5,_0x3f3279={'uYrOQ':_0x91f29b(0x286),'tQjQE':_0x91f29b(0x20a),'eDeXT':_0x91f29b(0x20c),'CwSPq':_0x91f29b(0x2d6),'onxgb':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','SzQho':function(_0x213444,_0x3f8a19,_0x4232f1){return _0x213444(_0x3f8a19,_0x4232f1);},'IzYrz':function(_0x5b4297,_0x2f9085){return _0x5b4297===_0x2f9085;},'YyivZ':_0x91f29b(0x172),'psVhf':function(_0x4e8a3c,_0x596f6f){return _0x4e8a3c&&_0x596f6f;},'RPXhJ':function(_0x378c77,_0x45c3ad){return _0x378c77===_0x45c3ad;},'IKzpc':_0x91f29b(0x29f),'mWOtN':'ksrWT','kJZxi':function(_0x2ee65d,_0x33113f){return _0x2ee65d!==_0x33113f;},'GSoui':'Dsugh','UCpgL':_0x91f29b(0x1c3),'yJrCI':function(_0x9fbc51,_0x3339bb){return _0x9fbc51!==_0x3339bb;},'KATNF':'jwBWi','GVtjr':'jsixS','cUpzg':_0x91f29b(0x199),'okdzc':function(_0x335b15,_0x9a291){return _0x335b15!==_0x9a291;},'XZeoL':'Jbcap','TeoUF':_0x91f29b(0x33b),'ECmBk':'Enabling\x20Local\x20account\x20for\x20the\x20cluster'};!this['clusterInfo']&&(_0x3f3279[_0x91f29b(0x330)](_0x3f3279[_0x91f29b(0x243)],_0x3f3279['YyivZ'])?await this[_0x91f29b(0x2cd)]():_0x10b420[_0x91f29b(0x1bd)]=_0x5ef567);const _0x34158d=this[_0x91f29b(0x326)],_0x51febd=this[_0x91f29b(0x326)]?.['oidcIssuerProfile']?.[_0x91f29b(0x1ef)]||![],_0xc17d53=this['clusterInfo']?.[_0x91f29b(0x182)]?.['workloadIdentity']?.[_0x91f29b(0x1ef)]||![],_0x2a7b6e=!this[_0x91f29b(0x326)]?.[_0x91f29b(0x351)]||![];if(_0x3f3279[_0x91f29b(0x181)](_0x51febd,_0xc17d53)&&_0x2a7b6e){if(_0x3f3279[_0x91f29b(0x233)](_0x3f3279[_0x91f29b(0x1e7)],_0x3f3279[_0x91f29b(0x2ce)])){const _0x3fce26={};_0x3fce26[_0x91f29b(0x2d2)]=_0x3f3279[_0x91f29b(0x222)],_0x3fce26[_0x91f29b(0x1fe)]={},_0x3fce26[_0x91f29b(0x1fe)][_0x91f29b(0x2bc)]=_0x3f3279[_0x91f29b(0x180)];const _0x4a1869={};_0x4a1869['type']=_0x3f3279[_0x91f29b(0x222)],_0x4a1869[_0x91f29b(0x1fe)]={},_0x4a1869[_0x91f29b(0x1fe)]['description']=_0x3f3279[_0x91f29b(0x180)];const _0xba9698={..._0x114846['parameters']};_0xba9698[_0x91f29b(0x2d9)]=_0x3fce26,_0xba9698['subnetName']=_0x4a1869,_0x4098af[_0x91f29b(0x192)]=_0xba9698;const _0x301ec7={};_0x301ec7['vnetSubnetID']=_0x3f3279[_0x91f29b(0x312)],_0x48083e[_0x91f29b(0x1c8)]=_0x301ec7;const _0x325ff5={..._0x3cf039[_0x91f29b(0x1e2)][0x0][_0x91f29b(0x27b)][_0x91f29b(0x2b3)][0x0]};_0x325ff5[_0x91f29b(0x2be)]=_0x3f3279['CwSPq'],_0x385a6f[_0x91f29b(0x1e2)][0x0]['properties'][_0x91f29b(0x2b3)][0x0]=_0x325ff5;const _0x42a813={};_0x42a813[_0x91f29b(0x18d)]=_0x3ec90c;const _0x5c46ff={};_0x5c46ff[_0x91f29b(0x18d)]=_0x512894[0x0];const _0x52b736={..._0x4f9e55};_0x52b736[_0x91f29b(0x2d9)]=_0x42a813,_0x52b736[_0x91f29b(0x2ba)]=_0x5c46ff,_0x1083e0=_0x52b736;}else return;}if(!_0x51febd){if(_0x3f3279[_0x91f29b(0x28c)](_0x3f3279[_0x91f29b(0x197)],_0x3f3279[_0x91f29b(0x197)]))_0xccc5c8['error'](_0x3f3279[_0x91f29b(0x1dc)]),_0x49ffce[_0x91f29b(0x17e)](0x1);else{logger[_0x91f29b(0x24c)](_0x3f3279[_0x91f29b(0x2e6)]);const _0x41ee1d={};_0x41ee1d[_0x91f29b(0x2d2)]=WS_EVENTS[_0x91f29b(0x2de)],_0x41ee1d[_0x91f29b(0x28d)]=_0x3f3279['UCpgL'],this['webSocketUtils'][_0x91f29b(0x27c)](this[_0x91f29b(0x327)],_0x41ee1d),_0x34158d[_0x91f29b(0x26e)][_0x91f29b(0x1ef)]=!![];}}if(!_0xc17d53){if(_0x3f3279[_0x91f29b(0x1a0)](_0x3f3279[_0x91f29b(0x194)],_0x3f3279[_0x91f29b(0x20b)])){logger[_0x91f29b(0x24c)](_0x3f3279[_0x91f29b(0x288)]);const _0x7ff8f9={};_0x7ff8f9[_0x91f29b(0x2d2)]=WS_EVENTS[_0x91f29b(0x2de)],_0x7ff8f9[_0x91f29b(0x28d)]=_0x3f3279[_0x91f29b(0x288)],this[_0x91f29b(0x22c)][_0x91f29b(0x27c)](this[_0x91f29b(0x327)],_0x7ff8f9);const _0x10bfd8={};_0x10bfd8[_0x91f29b(0x1ef)]=!![],_0x34158d[_0x91f29b(0x182)]={'workloadIdentity':_0x10bfd8,..._0x34158d['securityProfile']};}else return!![];}if(!_0x2a7b6e){if(_0x3f3279['okdzc'](_0x3f3279[_0x91f29b(0x2dd)],_0x3f3279['TeoUF'])){logger[_0x91f29b(0x24c)](_0x3f3279[_0x91f29b(0x2c3)]);const _0x34baed={};_0x34baed[_0x91f29b(0x2d2)]=WS_EVENTS[_0x91f29b(0x2de)],_0x34baed[_0x91f29b(0x28d)]=_0x3f3279['ECmBk'],this[_0x91f29b(0x22c)][_0x91f29b(0x27c)](this[_0x91f29b(0x327)],_0x34baed),_0x34158d[_0x91f29b(0x351)]=![];}else _0x3f3279['SzQho'](_0x162385,()=>_0x258548(),0x3e8);}await this[_0x91f29b(0x1bc)][_0x91f29b(0x1f4)][_0x91f29b(0x30d)](global_registry[_0x91f29b(0x315)],this['clusterName'],_0x34158d),await this[_0x91f29b(0x2cd)]();}async[a1_0x37d6a5(0x19c)](){const _0x8b8c72=a1_0x37d6a5,_0x31bc7d={};_0x31bc7d['xslDB']=function(_0x3caf71,_0x186478){return _0x3caf71+_0x186478;},_0x31bc7d[_0x8b8c72(0x305)]=function(_0x4ed88b,_0x2cd5f7){return _0x4ed88b===_0x2cd5f7;},_0x31bc7d[_0x8b8c72(0x1a9)]=_0x8b8c72(0x1c2);const _0x5ad49b=_0x31bc7d,_0x60dc91=await this[_0x8b8c72(0x26b)]['virtualNetworks']['listAll'](global_registry[_0x8b8c72(0x315)]),_0x294e49={};_0x294e49[_0x8b8c72(0x1af)]=global_registry[_0x8b8c72(0x275)],_0x294e49['accessKey']=global_registry['bstackAccesskey'],_0x294e49[_0x8b8c72(0x34d)]=AZURE,_0x294e49[_0x8b8c72(0x212)]=[];const _0x48878a=_0x294e49;for await(const _0x12c073 of _0x60dc91){_0x5ad49b[_0x8b8c72(0x305)](_0x5ad49b[_0x8b8c72(0x1a9)],_0x5ad49b[_0x8b8c72(0x1a9)])?_0x48878a[_0x8b8c72(0x212)][_0x8b8c72(0x25f)](_0x12c073):_0x51bede[_0x8b8c72(0x2a9)]('['+_0x5ad49b[_0x8b8c72(0x1e5)](_0xecbf1d,0x1)+']\x20'+_0x1e0e41[_0x591d13]);}const _0x5c717d={};_0x5c717d[_0x8b8c72(0x2d2)]=WS_EVENTS['RESOURCES'],_0x5c717d[_0x8b8c72(0x28d)]=_0x48878a,this['webSocketUtils'][_0x8b8c72(0x27c)](this[_0x8b8c72(0x327)],_0x5c717d);}async[a1_0x37d6a5(0x209)](_0x1b987c){const _0x18ce99=a1_0x37d6a5,_0x68c840={};_0x68c840[_0x18ce99(0x2d3)]=_0x18ce99(0x357),_0x68c840[_0x18ce99(0x1b9)]=function(_0x5160a9,_0x332c7b){return _0x5160a9!==_0x332c7b;},_0x68c840[_0x18ce99(0x237)]=_0x18ce99(0x241),_0x68c840['tWKfd']=function(_0x61107b,_0xc3e889){return _0x61107b===_0xc3e889;},_0x68c840[_0x18ce99(0x263)]=_0x18ce99(0x16d),_0x68c840[_0x18ce99(0x173)]='XTmdq',_0x68c840[_0x18ce99(0x1bf)]=_0x18ce99(0x1b7),_0x68c840[_0x18ce99(0x31c)]='INfFM',_0x68c840['gKCca']='bSqwO';const _0x21e6ab=_0x68c840;try{if(_0x21e6ab['TUyJO'](_0x21e6ab['DGkWn'],_0x21e6ab[_0x18ce99(0x237)]))_0x3a971f=_0x34c875['id'];else{const _0x329ff5=await this['networkClient']['virtualNetworks']['listAll'](global_registry[_0x18ce99(0x315)]);for await(const _0x2dcc02 of _0x329ff5){if(_0x21e6ab['tWKfd'](_0x21e6ab['BeZIY'],_0x21e6ab[_0x18ce99(0x263)])){if(_0x21e6ab['tWKfd'](_0x2dcc02[_0x18ce99(0x2ae)],_0x1b987c))return _0x21e6ab['tWKfd'](_0x21e6ab[_0x18ce99(0x173)],_0x21e6ab[_0x18ce99(0x1bf)])?(_0x3800ea[_0x18ce99(0x1bd)]=_0x5544f1['error'],_0x52ce31):!![];}else return!![];}}}catch(_0x3b7a31){return _0x21e6ab[_0x18ce99(0x346)](_0x21e6ab[_0x18ce99(0x31c)],_0x21e6ab['gKCca'])?(_0x39b9d7[_0x18ce99(0x1ad)]=_0x21e6ab['aXrPe'],_0x4e53bf):(logger[_0x18ce99(0x1bd)](_0x18ce99(0x1b5)+_0x1b987c+_0x18ce99(0x214)+_0x3b7a31),![]);}return![];}async[a1_0x37d6a5(0x2b9)](_0x399993,_0x1034d4){const _0x25a316=a1_0x37d6a5,_0x176d55={};_0x176d55[_0x25a316(0x236)]=_0x25a316(0x323),_0x176d55['WBbAZ']=_0x25a316(0x199),_0x176d55[_0x25a316(0x205)]=function(_0x2f587f,_0x3c1191){return _0x2f587f===_0x3c1191;},_0x176d55['wmqaN']=_0x25a316(0x17f),_0x176d55['RmtLo']=function(_0x1cf7ca,_0x38d602){return _0x1cf7ca!==_0x38d602;},_0x176d55[_0x25a316(0x270)]='NoxKZ',_0x176d55[_0x25a316(0x1be)]=_0x25a316(0x196);const _0x35152d=_0x176d55;try{if(_0x35152d[_0x25a316(0x205)](_0x35152d['wmqaN'],_0x35152d[_0x25a316(0x28b)])){const _0x29f026=await this['networkClient'][_0x25a316(0x2fc)]['get'](global_registry[_0x25a316(0x315)],_0x1034d4,_0x399993[0x0]);if(_0x35152d[_0x25a316(0x205)](_0x399993[0x0],_0x29f026[_0x25a316(0x2ae)])){if(_0x35152d[_0x25a316(0x355)](_0x35152d[_0x25a316(0x270)],_0x35152d[_0x25a316(0x1be)]))return[!![],_0x399993];else{const _0x4bf7b0=_0x35152d[_0x25a316(0x236)]['split']('|');let _0x4cfcc7=0x0;while(!![]){switch(_0x4bf7b0[_0x4cfcc7++]){case'0':this[_0x25a316(0x2ea)]();continue;case'1':_0x284f3e[_0x25a316(0x287)]=_0x166ffc[this[_0x25a316(0x1b8)]][_0x25a316(0x1ed)];continue;case'2':_0x2cdc0e['cloudProviderResourceGroup']=_0x9a2251[this['cloudProviderName']][_0x25a316(0x1d0)];continue;case'3':_0x5efd86[_0x25a316(0x31d)]=_0x3902b1[this['cloudProviderName']][_0x25a316(0x2ff)];continue;case'4':_0x4b06a3[_0x25a316(0x352)]=_0x4a9a1f[this[_0x25a316(0x1b8)]][_0x25a316(0x1e4)];continue;case'5':_0x5e958e[_0x25a316(0x321)]=_0x57bf73[this[_0x25a316(0x1b8)]][_0x25a316(0x33f)];continue;}break;}}}}else{_0x2ee009[_0x25a316(0x24c)](_0x35152d[_0x25a316(0x2bf)]);const _0x51626c={};_0x51626c['type']=_0xb71bdb[_0x25a316(0x2de)],_0x51626c['message']=_0x35152d[_0x25a316(0x2bf)],this[_0x25a316(0x22c)][_0x25a316(0x27c)](this[_0x25a316(0x327)],_0x51626c);const _0x58017e={};_0x58017e[_0x25a316(0x1ef)]=!![];const _0xd811fb={'workloadIdentity':_0x58017e,..._0x5c3df5[_0x25a316(0x182)]};_0x179ede[_0x25a316(0x182)]=_0xd811fb;}}catch(_0x60f6d5){return logger['error'](_0x25a316(0x2fb)+_0x399993+'.\x20Error:\x20'+_0x60f6d5),[![],[]];}return[![],[]];}async[a1_0x37d6a5(0x1d3)](){const _0x5aeb5d=a1_0x37d6a5,_0x584436={};_0x584436['FQKNq']='No\x20CLI\x20tool\x20required';const _0x54ccfb=_0x584436,_0xac4b19={};_0xac4b19[_0x5aeb5d(0x1ca)]=!![],_0xac4b19[_0x5aeb5d(0x1bd)]=null,_0xac4b19[_0x5aeb5d(0x1ad)]=_0x54ccfb[_0x5aeb5d(0x1c5)];const _0x23c6d6=_0xac4b19;return _0x23c6d6;}async[a1_0x37d6a5(0x354)](){const _0x64aa2e=a1_0x37d6a5,_0x18696e={};_0x18696e['ZXatk']=_0x64aa2e(0x33d),_0x18696e[_0x64aa2e(0x23e)]=_0x64aa2e(0x178),_0x18696e[_0x64aa2e(0x2aa)]=_0x64aa2e(0x239);const _0x1a8650=_0x18696e,_0x1167eb=await this[_0x64aa2e(0x215)][_0x64aa2e(0x1d4)](_0x1a8650['ZXatk']),_0x29ba48={};_0x29ba48[_0x64aa2e(0x2b0)]=_0x1a8650[_0x64aa2e(0x23e)],_0x29ba48[_0x64aa2e(0x2df)]={},_0x29ba48[_0x64aa2e(0x2df)]['Authorization']='Bearer\x20'+_0x1167eb[_0x64aa2e(0x2e8)],_0x29ba48[_0x64aa2e(0x2df)][_0x64aa2e(0x242)]=_0x1a8650['IQDtc'];const _0x352ca8=_0x29ba48;return _0x352ca8;}async[a1_0x37d6a5(0x29a)](_0xfbb085){const _0x34d5d6=a1_0x37d6a5,_0x597ef8={'SVibd':function(_0x45dde9,_0x52555e,_0x271341){return _0x45dde9(_0x52555e,_0x271341);},'Yufoq':function(_0x1bf05c,_0x378c1a){return _0x1bf05c===_0x378c1a;},'roFEZ':_0x34d5d6(0x1e1)},_0x17da48={};_0x17da48[_0x34d5d6(0x22f)]='',_0x17da48['error']=null;const _0x2f472e=_0x17da48;try{const _0x2d0986='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0xfbb085+'\x27',_0x20fd25=await this[_0x34d5d6(0x354)](),_0x1589b0=await _0x597ef8[_0x34d5d6(0x28e)](fetch,_0x2d0986,_0x20fd25),_0x3ead90=await _0x1589b0[_0x34d5d6(0x247)]();if(!_0x3ead90[_0x34d5d6(0x18d)]||_0x597ef8[_0x34d5d6(0x30c)](_0x3ead90[_0x34d5d6(0x18d)]['length'],0x0))throw new Error(_0x597ef8['roFEZ'],_0x34d5d6(0x208)+JSON['stringify'](_0x3ead90));_0x2f472e[_0x34d5d6(0x22f)]=_0x3ead90[_0x34d5d6(0x18d)][0x0]['id'];}catch(_0x23b1a4){_0x2f472e['error']=_0x23b1a4;}return _0x2f472e;}async[a1_0x37d6a5(0x230)](){const _0x4f4979=a1_0x37d6a5,_0x57c16c={};_0x57c16c['NfLrX']=_0x4f4979(0x228),_0x57c16c[_0x4f4979(0x252)]='denied',_0x57c16c['zxTcA']=function(_0x3cfba5,_0x362dd3){return _0x3cfba5!==_0x362dd3;},_0x57c16c[_0x4f4979(0x2f1)]=function(_0x5def65,_0x57c325){return _0x5def65===_0x57c325;},_0x57c16c[_0x4f4979(0x34f)]=_0x4f4979(0x357),_0x57c16c['UFyRd']=_0x4f4979(0x24b),_0x57c16c[_0x4f4979(0x216)]=_0x4f4979(0x21d);const _0x4fef6a=_0x57c16c,_0xe75fa8={};_0xe75fa8['status']=![],_0xe75fa8[_0x4f4979(0x1bd)]=null,_0xe75fa8[_0x4f4979(0x1ad)]='';const _0x4615d0=_0xe75fa8;try{let _0x2cb37f='';const _0x1ae5de=_0x4f4979(0x240)+global_registry[_0x4f4979(0x287)]+'/resourceGroups/'+global_registry[_0x4f4979(0x315)],_0x3be334=await this[_0x4f4979(0x29a)](global_registry['cloudProviderClientId']);if(_0x4fef6a[_0x4f4979(0x16f)](_0x3be334[_0x4f4979(0x1bd)],null))return _0x4615d0[_0x4f4979(0x1bd)]=_0x3be334[_0x4f4979(0x1bd)],_0x4615d0;const _0x516689=_0x4f4979(0x2a6)+_0x3be334[_0x4f4979(0x22f)]+'\x27)',_0x304615={};_0x304615[_0x4f4979(0x268)]=_0x516689;const _0x203f6d=await this[_0x4f4979(0x23d)][_0x4f4979(0x1a4)][_0x4f4979(0x257)](_0x1ae5de,_0x304615),_0x5963ab=[];for await(const _0x28f806 of _0x203f6d){_0x5963ab['push'](_0x28f806);}if(_0x4fef6a[_0x4f4979(0x2f1)](_0x5963ab[_0x4f4979(0x310)],0x0))return _0x4615d0[_0x4f4979(0x1ad)]=_0x4fef6a[_0x4f4979(0x34f)],_0x4615d0;const _0x2125c9=[...new Set(_0x5963ab[_0x4f4979(0x21c)](_0xe01724=>_0xe01724['roleDefinitionId']))];if(_0x4fef6a[_0x4f4979(0x2f1)](_0x2125c9[_0x4f4979(0x310)],0x0))return _0x4615d0[_0x4f4979(0x1ad)]=_0x4fef6a[_0x4f4979(0x1b4)],_0x4615d0;const _0x57fe71=[],_0x580d33=[];for(const _0x8fb983 of _0x2125c9){const _0x314cf9=await this['authClient'][_0x4f4979(0x2ad)][_0x4f4979(0x32e)](_0x8fb983);logger[_0x4f4979(0x2b6)]('role\x20name\x20attached\x20-\x20'+_0x314cf9[_0x4f4979(0x345)]),_0x57fe71['push'](_0x314cf9),logger[_0x4f4979(0x2b6)](_0x4f4979(0x193)+JSON[_0x4f4979(0x28a)](_0x314cf9[_0x4f4979(0x264)])),_0x314cf9[_0x4f4979(0x264)][_0x4f4979(0x269)](_0x3e3921=>{const _0x4b4d0b=_0x4f4979;_0x580d33[_0x4b4d0b(0x25f)](..._0x3e3921['actions']);});}logger[_0x4f4979(0x2b6)]('actionPermission\x20:\x20'+JSON['stringify'](_0x580d33)),_0x4fef6a[_0x4f4979(0x2f1)](_0x580d33[_0x4f4979(0x310)],0x0)&&(_0x2cb37f+=_0x4fef6a['wXbLB'](_0x580d33[_0x4f4979(0x310)],0x0)?_0x4fef6a[_0x4f4979(0x216)]:'',logger['debug'](_0x4f4979(0x317)+JSON[_0x4f4979(0x28a)](_0x57fe71))),_0x4615d0['status']=!![],Object[_0x4f4979(0x1ce)](PERMISSIONS[_0x4f4979(0x1cc)])[_0x4f4979(0x269)](([_0x4aa503,_0x8dfa17])=>{const _0x37183d=_0x4f4979,_0x3440a3=_0x580d33[_0x37183d(0x23c)](_0x4aa503);_0x2cb37f+='\x0a\x09'+_0x8dfa17+':\x20'+(_0x3440a3?_0x4fef6a[_0x37183d(0x21f)]:_0x4fef6a['YmrZr']),!_0x3440a3&&(_0x4615d0[_0x37183d(0x1ca)]=![]);}),_0x4615d0['data']=_0x2cb37f;}catch(_0x2e3f6c){_0x4615d0['error']=_0x2e3f6c;}return _0x4615d0;}}function a1_0xbb03(){const _0x1ea3db=['vpcName','Creating\x20Azure\x20federated\x20identity','qzggJ','getGridHostname','XZeoL','RESOURCES','headers','xCaCW','default','ivkRh','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','storageAccountName','GHBwY','UCpgL','tXncj','token','dCxez','setClients','oONpH','@azure/arm-storage','VKmKu','JfooO','RqnKt','ZwiQP','wXbLB','clusterName','NSrTy','GRrtp','path','RMlMc','dsJPU','xwgsI','CCpFk','issuerURL','Cannot\x20find\x20subnets\x20','subnets','Ybyte','ecpBg','clientSecret','duWZH','join','HrYvJ','ArDLl','oQDRU','xCAbG','oYOEQ','createCluster','WOqKW','MCeww','../config/constants','Enabling\x20Local\x20account\x20for\x20the\x20cluster','Yufoq','beginCreateOrUpdateAndWait','OjUqQ','DVNck','length','filters','eDeXT','turboscale-federated-deployment','wXYYV','cloudProviderResourceGroup','ZtPGT','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','Storage\x20account\x20already\x20exists,\x20skipping','77WOrSsi','CtBjm','IBISK','tLhGl','cloudProviderClientSecret','qleGB','TqJhh','\x20SUBSCRIPTION\x20ID:\x20','cloudProviderClientId','YdICr','5|3|4|1|2|0','loeFJ','createFederatedAccountForHubHA','clusterInfo','rws','wZdGc','sKtxK','SdFoV','ncJUO','aMelR','KXEJg','getById','policy','IzYrz','FZeZi','BIgGM','QaqpI','turboscale','createOtherResources','akscluster.json','Found\x20only\x20one\x20resource\x20group:\x20','Nhxws','YGLfH','isManagedIdentityPresent','PEtQL','setCachedCredsInRegistry','https://graph.microsoft.com/.default','gggVG','clientId','Blob\x20delete\x20lifecycle','Creating\x20Azure\x20managed\x20identity','Deleting\x20the\x20cluster\x20','lmxsc','gtRvl','roleName','tWKfd','ndZip','utf-8','isStorageAccountPresent','lJtRv','parse','CCzah','cloudProvider','18714555QmWsJq','vEPST','rzPDB','disableLocalAccounts','cloudProviderTenantId','ABAPi','getHeader','RmtLo','tPxqd','No\x20attached\x20role\x20for\x20the\x20client\x20key','hPeWa','2023-01-31','diIBG','VztlL','tcvwg','xjMdE','zxTcA','hostname','KmPtL','gGvQL','kABoC','YaTsI','gridName','instanceType','ocDpa','GET','Kmodv','isBrowserstackCluster','lSkKC','toLowerCase','NtTOR','exit','cUhFL','tQjQE','psVhf','securityProfile','DvSpr','HhkiP','storageaccount.json','467312AZHPbL','YhTWe','deleteCluster','LOG','gkTwH','1201624YgVCfN','YMjMp','value','cWUeP','updateClusterAlreadyPresent','YogZM','ngNMV','parameters','Attached\x20permissions\x20:\x20','KATNF','UOXuQ','cebJq','GSoui','toString','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','jWOwx','REtji','sendAzureInfoToHST','UEyFs','FoqAm','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','yJrCI','userMaxNodes','fUqIK','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','roleAssignments','federatedidentity','pkQfS','\x20CLIENT\x20ID:\x20','YfAfI','DxucY','fxpVr','Ytgqw','AFbCR','data','lqSKC','username','mkOBO','@azure/arm-authorization','nFvOI','cniWW','UFyRd','Cannot\x20find\x20VPC\x20','oOPGR','YyDRK','cloudProviderName','TUyJO','./CloudProvider','njsPV','containerClient','error','yNihV','XwNzq','mCBkr','getStorageAccountName','AXOJr','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','getResourceGroups','FQKNq','Bfsuq','wlzVf','variables','../utils/gridComponents','status','Created\x20Azure\x20federated\x20identity','ACTION','FdYUx','entries','listClusterAdminCredentials','resourceGroup','1871985KwQkhk','GdNVJ','isCliToolInstalled','getToken','sTYCw','Mhfqz','wMWoe','vyMUy','AzureCloudProvider','ingress','true','onxgb','wUWpO','12phlbne','cckab','KhxFQ','No\x20service\x20principal\x20found','resources','Afswy','tenantId','xslDB','aUPRy','IKzpc','aGIBx','resourceGroups','QhwQP','node','dxter','subscriptionId','rGTFR','enabled','qDZHe','stack','gCbJK','cCoAq','managedClusters','bAlpS','USNhP','storageClient','dGprh','managementPolicies','RDyog','SjhfE','DAduY','slice','metadata','rules','tags','jbRIe','lzUVh','kclej','frpkn','HsViF','pHzVV','GMMFp','Received\x20response\x20-\x20','isVPCPresent','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','GVtjr','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','WDavg','xxSzL','daysAfterCreationGreaterThan','listByResourceGroup','setupHubHa','vpcInfo','@azure/arm-resources','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','cred','aJGkC','PXfth','CGIvW','BcIEk','BoIyf','sGXZD','map','Action\x20permission\x20list\x20is\x20empty\x0a','ecDKB','NfLrX','eWWVe','uwIAN','uYrOQ','GDvhz','RqOCY','kdLXu','agpUy','TSrlK','allowed','vUSof','readFileAsync','klJmB','webSocketUtils','blockBlob','4|2|1|0|5|3','principalId','checkAccess','js-yaml','UGnet','RPXhJ','iAQbx','vaQBe','WhOcz','DGkWn','gzViJ','application/json','JpJCE','definition','includes','authClient','yMpSj','Creating\x20Azure\x20storage\x20account','subscriptions/','BMyVq','Content-Type','YyivZ','BzmXs','resourceClient','PANdV','json','Deleted\x20the\x20cluster\x20successfully','hub','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','info','hEkRK','denied','createOrUpdate','LBIeu','userInstanceType','YmrZr','deployments','delete','cqsGO','KtDBw','listForScope','IbuVF','MnuaN','fJKAv','UjgjD','getResourceClientId','oTInX','qyLrj','push','actions','init','@azure/arm-network','BeZIY','permissions','1|4|0|3|2|5','LkMzp','iZeNq','filter','forEach','createStorageAccount','networkClient','tqpcq','browserstack:managedBy','oidcIssuerProfile','oRqMJ','dTlmq','mMHbo','beginDeleteAndWait','fIPpb','5|6|3|7|4|2|0|1','bstackUsername','turboscale-storageaccount-deployment','pXWRP','Incremental','LKKYE','loadBalancer','properties','sendEventToBackend','vvPfM','\x20TENANT\x20ID:\x20','dldLm','rJABO','VfWWb','JgZUU','yKVYP','CROgr','setupNewCluster','string','cloudProviderSubscriptionId','cUpzg','turboscale-managed-identity-','stringify','wmqaN','kJZxi','message','SVibd','createManagedIdentity','@azure/arm-containerservice','clusterRegion','784529fmaUbd','SmGSb','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','ZykYZ','PnDTi','../config/logger','PIILA','BrowserStack','getPrincipalIdFromClientId','jsQqw','azureresources','NwLJI','gbqbp','TdmQm','MUIRw','Lifecycle','qKyfc','okFDY','storageAccounts','../utils/utilityMethods','assignedTo(\x27','exports','DptXZ','log','IQDtc','.\x20Error:\x20','split','roleDefinitions','name','mCdUC','method','CvyMc','maxNodes','agentPoolProfiles','kubeconfigs','turboscale-identity-deployment','debug','Chwxe','1069779WviJmG','isSubnetsValid','subnetName','baseBlob','description','templates','vnetSubnetID','WBbAZ','SeaBW','Kcbwe','gonTs','ECmBk','cWCur','1451412YWTrZW','CcoeZ','FpnyP','false','blobTypes','fixzh','mKpSd','alfze','getClusterInfo','mWOtN','yBueq','OqgHi','ZIDHW','type','aXrPe','qmImz','No\x20CLI\x20tool\x20required','[variables(\x27vnetSubnetID\x27)]','LkGse','vZNnE'];a1_0xbb03=function(){return _0x1ea3db;};return a1_0xbb03();}const a1_0x5aaa80={};function a1_0x27ff(_0x5e4853,_0x7f346){const _0xbb0307=a1_0xbb03();return a1_0x27ff=function(_0x27ff2c,_0x2f2d06){_0x27ff2c=_0x27ff2c-0x16b;let _0x2de267=_0xbb0307[_0x27ff2c];return _0x2de267;},a1_0x27ff(_0x5e4853,_0x7f346);}a1_0x5aaa80[a1_0x37d6a5(0x1d9)]=AzureCloudProvider,module[a1_0x37d6a5(0x2a7)]=a1_0x5aaa80;