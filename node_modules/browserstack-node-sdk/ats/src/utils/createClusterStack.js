function a27_0x29b8(){const _0x51b458=['js-yaml','promisifyAll','465968WlEECK','s3Bucket','awsObj','Parameters','nOBOT','4|3|0|2|1|5','hbHid','SubnetIds','NodeAutoScalingGroupMinSizeWindows','AYnSI','ami','UecdJ','valueOf','rwmxX','NodeImageId','11055KNbwIq','uXoxU','mMUJY','-NodeGroup','NTdCU','ParameterValue','toString','LXjXB','subnet-import.yaml','ZsPQm','ssldW','Ref','hBjgz','HlbMU','AWS::CloudFormation::Interface','push','Subnets','dxdZe','Metadata','padStart','1961232znmZgr','NodeGroup','VPC','345340ZmwRmz','xctsI','NYSfc','js-yaml-cloudformation-schema','keys','MPpgH','uTvNW','poBbB','gLJyq','Outputs','qOHHU','aws-eks-cluster-dep.yaml','1190700wjKQYg','OVujy','join','TLXYZ','ZMMXm','AAVLj','WBKlR','qmZCp','apiVersion','uYwrf','Subnet01','HmmbO','Subnet02Block','uLBod','promise','tRMZQ','NUjLO','UzlaW','zDoIU','SWNvj','bfFcm','QFrJW','Capabilities','pfZWK','mZiGE','Subnet02','2010-05-15','QBIVt','VKIYO','eLwQc','Subnet','OkJPF','IOBQI','gfInN','eGszc','frpKN','../config/logger','xMJgk','UOnqb','DyGbH','VQZVN','JFuWK','AkhUS','EKSCluster','OyouZ','wzomn','./AWSUtils','ResourcesVpcConfig','TSehD','NodeAutoScalingGroupDesiredSizeWindows','24BGFHPc','value','Subnet03Block','mtMkd','Value','pZwLQ','load','debug','-Windows-NodeGroup','stackCreateComplete','tcgqW','Tags','rkONv','aaMFW','NodeGroupName','NodeGroupNameWindows','NodeInstanceType','vVZVw','ParameterKey','YBJlg','ktuQz','Resources','pfPnp','aOfsv','dsbfR','DependsOn','FGHsG','yeHge','readFileAsync','lHHuQ','subnet-create.yaml','vqYEu','StackId','MfHbg','schema','forEach','TctBF','fmgQI','EpUZB','CFTemplates','HyWtH','Key','aoMRm','17490JfWHOf','ClusterAutoUpgrade','BBMuR','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','NAVmB','instanceType','LbYHj','StackName','browserstack:creationDate','rxvoV','JbzJS','PEqcn','Subnet01Block','NodeAutoScalingGroupMaxSize','cBmbH','14337ZrIbzz','wTUxS','stringify','RRAKP','GsSEk','utrBI','755ZylIbr','Oriqw','CAPABILITY_NAMED_IAM','inanT','path','PSLee','Properties','TFrRx','bwAEM','MQHoT','createClusterStack','NTaJh','wHkdX','lVwQY','NodeGroupWindows','qJyoZ','S3BucketName','vpc-import.yaml','Fn::Join','s3-create.yaml'];a27_0x29b8=function(){return _0x51b458;};return a27_0x29b8();}const a27_0x31100a=a27_0x2a67;(function(_0x5ccdfa,_0xc084a0){const _0x3be921=a27_0x2a67,_0x488b52=_0x5ccdfa();while(!![]){try{const _0x50e7e1=-parseInt(_0x3be921(0x28d))/0x1+-parseInt(_0x3be921(0x2a4))/0x2+-parseInt(_0x3be921(0x1f6))/0x3+parseInt(_0x3be921(0x27e))/0x4+parseInt(_0x3be921(0x268))/0x5*(parseInt(_0x3be921(0x253))/0x6)+parseInt(_0x3be921(0x2a1))/0x7+parseInt(_0x3be921(0x228))/0x8*(-parseInt(_0x3be921(0x262))/0x9);if(_0x50e7e1===_0xc084a0)break;else _0x488b52['push'](_0x488b52['shift']());}catch(_0x4d2bf1){_0x488b52['push'](_0x488b52['shift']());}}}(a27_0x29b8,0x3d625));const fs=require('fs'),path=require(a27_0x31100a(0x26c)),Promise=require('bluebird'),yaml=require(a27_0x31100a(0x27c)),{CLOUDFORMATION_SCHEMA}=require(a27_0x31100a(0x2a7)),AWS=require(a27_0x31100a(0x224))[a27_0x31100a(0x280)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x31100a(0x21a)),{isBucketPresent}=require('./AWSUtils');function a27_0x2a67(_0x5a04c0,_0x4b2394){const _0x29b8ae=a27_0x29b8();return a27_0x2a67=function(_0x2a6754,_0x5a94c4){_0x2a6754=_0x2a6754-0x1f2;let _0x6f85ff=_0x29b8ae[_0x2a6754];return _0x6f85ff;},a27_0x2a67(_0x5a04c0,_0x4b2394);}Promise[a27_0x31100a(0x27d)](fs);const mergeTemplates=(_0x1327ba,_0x11982d)=>{const _0xb010ad=a27_0x31100a,_0x285d22={};_0x285d22[_0xb010ad(0x22d)]=function(_0x3c40ee,_0x25ecde){return _0x3c40ee!==_0x25ecde;},_0x285d22[_0xb010ad(0x24c)]='QzGYw',_0x285d22[_0xb010ad(0x23c)]=function(_0x20e6ad,_0x945797){return _0x20e6ad===_0x945797;},_0x285d22[_0xb010ad(0x294)]=_0xb010ad(0x252),_0x285d22['rELcO']='lBemd';const _0x1588d8=_0x285d22;Object['keys'](_0x11982d)[_0xb010ad(0x24b)](_0x250694=>{const _0x293f37=_0xb010ad,_0x1d53d5={'JbzJS':function(_0x463a0f,_0x14e975){return _0x1588d8['pZwLQ'](_0x463a0f,_0x14e975);},'yeHge':_0x1588d8['TctBF']};if(_0x1588d8[_0x293f37(0x23c)](_0x1588d8['LXjXB'],_0x1588d8['rELcO']))_0x53f51b['Resources'][_0x238451][_0x293f37(0x26e)][_0x293f37(0x233)]['push'](..._0xda2da3);else{var _0x20af2d=_0x11982d[_0x250694];Object[_0x293f37(0x2a8)](_0x20af2d)['forEach'](_0x40a7ca=>{const _0x2f6c8f=_0x293f37;_0x1d53d5[_0x2f6c8f(0x25d)](_0x1d53d5[_0x2f6c8f(0x243)],_0x1d53d5[_0x2f6c8f(0x243)])?_0x25da62[_0x593a0a][_0x42b3df]=_0x7f0d5b[_0x11477e]:_0x1327ba[_0x250694][_0x40a7ca]=_0x20af2d[_0x40a7ca];});}});},addVPCData=async(_0x50aa49,_0x42ca12)=>{const _0x470596=a27_0x31100a,_0x5dd924={'PSLee':'0|2|5|3|1|4','Oriqw':function(_0x558686,_0x55fac7){return _0x558686(_0x55fac7);},'VQZVN':_0x470596(0x27a),'lHHuQ':_0x470596(0x29b),'dKwQN':function(_0x41ef73,_0x39f1a2){return _0x41ef73(_0x39f1a2);},'OkJPF':function(_0x3b5d64,_0xef3dfd){return _0x3b5d64(_0xef3dfd);},'ntfdg':function(_0x1571e8,_0x2ebf02){return _0x1571e8(_0x2ebf02);},'HlbMU':_0x470596(0x2a2),'ZMMXm':_0x470596(0x276),'MfHbg':function(_0x980215,_0x18811f){return _0x980215===_0x18811f;},'nOBOT':_0x470596(0x208),'DyGbH':_0x470596(0x24f),'VKIYO':_0x470596(0x279),'GsSEk':'utf-8','MQHoT':function(_0x11246b,_0x3da6f9,_0x535262){return _0x11246b(_0x3da6f9,_0x535262);},'AAVLj':_0x470596(0x2a3),'yjpPV':function(_0x5c0670,_0x5390d2){return _0x5c0670!==_0x5390d2;},'QPsVz':_0x470596(0x23e),'QBIVt':_0x470596(0x239),'FGHsG':'vpc-create.yaml','aaMFW':function(_0x9ce38,_0x44c86d,_0x1d0936){return _0x9ce38(_0x44c86d,_0x1d0936);},'UOnqb':'VpcBlock'};if(_0x42ca12){if(_0x5dd924[_0x470596(0x249)](_0x5dd924[_0x470596(0x282)],_0x5dd924['nOBOT'])){const _0x40fa33=await fs[_0x470596(0x244)](path[_0x470596(0x1f8)](__dirname,'..',_0x5dd924[_0x470596(0x21d)],_0x5dd924[_0x470596(0x212)]),_0x5dd924[_0x470596(0x266)]),_0x5a0fa9={};_0x5a0fa9[_0x470596(0x24a)]=CLOUDFORMATION_SCHEMA;const _0xa491b8=yaml['load'](_0x40fa33,_0x5a0fa9);_0x5dd924[_0x470596(0x271)](mergeTemplates,_0x50aa49,_0xa491b8),_0x50aa49[_0x470596(0x29f)][_0x5dd924['lHHuQ']]['ParameterGroups'][0x0]['Parameters'][_0x470596(0x29c)](_0x5dd924[_0x470596(0x1fb)]);}else{const _0x57c07b=_0x5dd924[_0x470596(0x26d)]['split']('|');let _0x2ae214=0x0;while(!![]){switch(_0x57c07b[_0x2ae214++]){case'0':_0x106a4b[_0x470596(0x23d)][_0x470596(0x221)][_0x470596(0x26e)][_0x470596(0x225)]['SubnetIds'][_0x470596(0x29c)]({'Ref':_0x470596(0x214)+_0x5dd924[_0x470596(0x269)](_0x3c36ba,_0x41f157)['padStart'](0x2,'0')});continue;case'1':_0x1a95b4['Outputs']['SubnetIds'][_0x470596(0x22c)][_0x5dd924[_0x470596(0x21e)]][0x1][_0x470596(0x29c)]({'Ref':_0x470596(0x214)+_0x5dd924[_0x470596(0x269)](_0x3c2cf3,_0x391f72)['padStart'](0x2,'0')});continue;case'2':_0x363b5b[_0x470596(0x29f)][_0x5dd924['lHHuQ']]['ParameterGroups'][0x0]['Parameters']['push']('Subnet'+_0x5dd924['dKwQN'](_0x3c329f,_0x407ce2)['padStart'](0x2,'0'));continue;case'3':_0x4ddd3d[_0x470596(0x23d)]['NodeGroupWindows']['Properties'][_0x470596(0x29d)]['push']({'Ref':_0x470596(0x214)+_0x5dd924[_0x470596(0x215)](_0x44ed5c,_0x3b3d14)[_0x470596(0x2a0)](0x2,'0')});continue;case'4':_0x32eb35+=0x1;continue;case'5':_0x128968[_0x470596(0x23d)][_0x470596(0x2a2)]['Properties']['Subnets']['push']({'Ref':_0x470596(0x214)+_0x5dd924['ntfdg'](_0xf21e07,_0x113058)['padStart'](0x2,'0')});continue;}break;}}}else{if(_0x5dd924['yjpPV'](_0x5dd924['QPsVz'],_0x5dd924[_0x470596(0x211)])){const _0x34ce19=await fs['readFileAsync'](path[_0x470596(0x1f8)](__dirname,'..',_0x5dd924['DyGbH'],_0x5dd924[_0x470596(0x242)]),_0x5dd924[_0x470596(0x266)]),_0x50db21={};_0x50db21[_0x470596(0x24a)]=CLOUDFORMATION_SCHEMA;const _0x4229de=yaml[_0x470596(0x22e)](_0x34ce19,_0x50db21);_0x5dd924[_0x470596(0x235)](mergeTemplates,_0x50aa49,_0x4229de),_0x50aa49[_0x470596(0x29f)][_0x5dd924[_0x470596(0x245)]]['ParameterGroups'][0x0][_0x470596(0x281)][_0x470596(0x29c)](_0x5dd924[_0x470596(0x21c)]);}else{for(const _0x47a92f in _0x28aae7[_0x470596(0x23d)]){_0x229a56['Resources'][_0x47a92f]['Properties']&&_0x218418['Resources'][_0x47a92f][_0x470596(0x26e)][_0x470596(0x233)]&&_0x2dc97c[_0x470596(0x23d)][_0x47a92f][_0x470596(0x26e)][_0x470596(0x233)][_0x470596(0x29c)](..._0x5f513e);}const _0x303b15={};_0x34f79f[_0x470596(0x24b)](_0x453e28=>{const _0x269257=_0x470596;_0x303b15[_0x453e28[_0x269257(0x251)]]=_0x453e28[_0x269257(0x22c)];}),_0x2fdcfd[_0x470596(0x23d)][_0x5dd924[_0x470596(0x29a)]]['Properties'][_0x470596(0x233)]=_0x303b15,_0xd8bdde[_0x470596(0x23d)][_0x5dd924[_0x470596(0x1fa)]][_0x470596(0x26e)][_0x470596(0x233)]=_0x303b15;}}},addS3Data=async _0x3dc84b=>{const _0x343d74=a27_0x31100a,_0x4470f3={'wTUxS':'VPC','RaoJs':'CFTemplates','uYwrf':_0x343d74(0x27b),'xtUUX':'utf-8','cBmbH':function(_0x16721a,_0x44a55a){return _0x16721a(_0x44a55a);},'wzomn':function(_0x141f5b,_0x848faa){return _0x141f5b===_0x848faa;},'ssldW':_0x343d74(0x299),'MPpgH':_0x343d74(0x22b),'qJyoZ':function(_0x59d1ae,_0x113393,_0x3f67f7){return _0x59d1ae(_0x113393,_0x3f67f7);}},_0xc2b7ff=await fs[_0x343d74(0x244)](path[_0x343d74(0x1f8)](__dirname,'..',_0x4470f3['RaoJs'],_0x4470f3[_0x343d74(0x1ff)]),_0x4470f3['xtUUX']),_0x32a4e3={};_0x32a4e3[_0x343d74(0x24a)]=CLOUDFORMATION_SCHEMA;const _0x2dbc7e=yaml[_0x343d74(0x22e)](_0xc2b7ff,_0x32a4e3),_0xc13b91=await _0x4470f3[_0x343d74(0x261)](isBucketPresent,global_registry['s3Bucket']);if(_0x4470f3[_0x343d74(0x223)](_0xc13b91,![])){if(_0x4470f3['wzomn'](_0x4470f3[_0x343d74(0x297)],_0x4470f3[_0x343d74(0x2a9)])){const _0x17373c={};_0x17373c[_0x343d74(0x23a)]=_0x4470f3[_0x343d74(0x263)],_0x17373c['ParameterValue']=_0x5c6774,_0x54fc86['Parameters'][_0x343d74(0x29c)](_0x17373c);}else _0x4470f3[_0x343d74(0x277)](mergeTemplates,_0x3dc84b,_0x2dbc7e);}},addSubnetData=async(_0x5469f9,_0x4bc14b)=>{const _0xd6bc4e=a27_0x31100a,_0xf62aa7={'NTdCU':function(_0x577679,_0x184c56){return _0x577679!==_0x184c56;},'dxdZe':'MEhYx','BBMuR':_0xd6bc4e(0x283),'HmmbO':function(_0x391288,_0x2452de){return _0x391288(_0x2452de);},'ExDfO':_0xd6bc4e(0x27a),'bwAEM':_0xd6bc4e(0x29b),'QFrJW':function(_0x5bd902,_0x50440c){return _0x5bd902(_0x50440c);},'UzlaW':function(_0x4814ed,_0x4aa90a,_0x49d226){return _0x4814ed(_0x4aa90a,_0x49d226);},'NTaJh':function(_0x1d73dc,_0x2f920d){return _0x1d73dc!==_0x2f920d;},'TLXYZ':_0xd6bc4e(0x257),'rkONv':_0xd6bc4e(0x250),'utrBI':_0xd6bc4e(0x24f),'EpUZB':_0xd6bc4e(0x295),'AYnSI':'utf-8','TSehD':function(_0x55835a,_0xe80545,_0x245a6c){return _0x55835a(_0xe80545,_0x245a6c);},'qmZCp':function(_0x592ae8,_0x1b19df){return _0x592ae8!==_0x1b19df;},'IOBQI':_0xd6bc4e(0x203),'AgTqG':_0xd6bc4e(0x21b),'hdazj':_0xd6bc4e(0x246),'poBbB':function(_0x466d1e,_0x296ac3,_0x144d76){return _0x466d1e(_0x296ac3,_0x144d76);},'uXoxU':_0xd6bc4e(0x200),'JFuWK':_0xd6bc4e(0x20f),'RRAKP':'Subnet03','PQQZj':_0xd6bc4e(0x25f),'pfZWK':_0xd6bc4e(0x202),'rwmxX':_0xd6bc4e(0x22a)};if(_0x4bc14b){if(_0xf62aa7[_0xd6bc4e(0x273)](_0xf62aa7[_0xd6bc4e(0x1f9)],_0xf62aa7[_0xd6bc4e(0x234)])){const _0x2bb4fa=await fs[_0xd6bc4e(0x244)](path[_0xd6bc4e(0x1f8)](__dirname,'..',_0xf62aa7['utrBI'],_0xf62aa7[_0xd6bc4e(0x24e)]),_0xf62aa7[_0xd6bc4e(0x287)]),_0x58edb9={};_0x58edb9[_0xd6bc4e(0x24a)]=CLOUDFORMATION_SCHEMA;const _0x3761ab=yaml[_0xd6bc4e(0x22e)](_0x2bb4fa,_0x58edb9);_0xf62aa7[_0xd6bc4e(0x226)](mergeTemplates,_0x5469f9,_0x3761ab);let _0x2b4369=0x1;_0x4bc14b[_0xd6bc4e(0x24b)](_0x22a1d7=>{const _0x13219b=_0xd6bc4e;if(_0xf62aa7[_0x13219b(0x291)](_0xf62aa7[_0x13219b(0x29e)],_0xf62aa7[_0x13219b(0x29e)]))_0x4ead01[_0x13219b(0x23d)][_0xeb75d7]['Properties']&&_0x4ed03e[_0x13219b(0x23d)][_0x244c09][_0x13219b(0x26e)]['Tags']&&_0x31fc38[_0x13219b(0x23d)][_0x2c580e]['Properties'][_0x13219b(0x233)][_0x13219b(0x29c)](..._0x5ed7e5);else{const _0x4d1255=_0xf62aa7[_0x13219b(0x255)]['split']('|');let _0x367295=0x0;while(!![]){switch(_0x4d1255[_0x367295++]){case'0':_0x5469f9[_0x13219b(0x23d)][_0x13219b(0x2a2)][_0x13219b(0x26e)][_0x13219b(0x29d)][_0x13219b(0x29c)]({'Ref':_0x13219b(0x214)+_0xf62aa7[_0x13219b(0x201)](String,_0x2b4369)[_0x13219b(0x2a0)](0x2,'0')});continue;case'1':_0x5469f9['Outputs'][_0x13219b(0x285)]['Value'][_0xf62aa7['ExDfO']][0x1][_0x13219b(0x29c)]({'Ref':_0x13219b(0x214)+_0xf62aa7[_0x13219b(0x201)](String,_0x2b4369)[_0x13219b(0x2a0)](0x2,'0')});continue;case'2':_0x5469f9[_0x13219b(0x23d)]['NodeGroupWindows']['Properties'][_0x13219b(0x29d)]['push']({'Ref':_0x13219b(0x214)+_0xf62aa7['HmmbO'](String,_0x2b4369)[_0x13219b(0x2a0)](0x2,'0')});continue;case'3':_0x5469f9['Metadata'][_0xf62aa7[_0x13219b(0x270)]]['ParameterGroups'][0x0]['Parameters'][_0x13219b(0x29c)](_0x13219b(0x214)+_0xf62aa7[_0x13219b(0x201)](String,_0x2b4369)[_0x13219b(0x2a0)](0x2,'0'));continue;case'4':_0x5469f9['Resources'][_0x13219b(0x221)][_0x13219b(0x26e)][_0x13219b(0x225)][_0x13219b(0x285)][_0x13219b(0x29c)]({'Ref':_0x13219b(0x214)+_0xf62aa7[_0x13219b(0x20b)](String,_0x2b4369)[_0x13219b(0x2a0)](0x2,'0')});continue;case'5':_0x2b4369+=0x1;continue;}break;}}});}else _0xf62aa7[_0xd6bc4e(0x207)](_0x4bcde4,_0x4aeda1,_0x59f19e);}else{if(_0xf62aa7[_0xd6bc4e(0x1fd)](_0xf62aa7[_0xd6bc4e(0x216)],_0xf62aa7['AgTqG'])){const _0x273971=await fs[_0xd6bc4e(0x244)](path[_0xd6bc4e(0x1f8)](__dirname,'..',_0xf62aa7[_0xd6bc4e(0x267)],_0xf62aa7['hdazj']),_0xf62aa7['AYnSI']),_0x2d6c20={};_0x2d6c20[_0xd6bc4e(0x24a)]=CLOUDFORMATION_SCHEMA;const _0x256a08=yaml['load'](_0x273971,_0x2d6c20);_0xf62aa7[_0xd6bc4e(0x2ab)](mergeTemplates,_0x5469f9,_0x256a08),_0x5469f9[_0xd6bc4e(0x23d)][_0xd6bc4e(0x221)][_0xd6bc4e(0x241)][_0xd6bc4e(0x29c)](_0xf62aa7['uXoxU'],_0xf62aa7['JFuWK'],_0xf62aa7[_0xd6bc4e(0x265)]);const _0x46afbc={};_0x46afbc[_0xd6bc4e(0x298)]=_0xf62aa7['uXoxU'];const _0x3871a9={};_0x3871a9[_0xd6bc4e(0x298)]=_0xf62aa7['JFuWK'];const _0x8a9931={};_0x8a9931[_0xd6bc4e(0x298)]=_0xf62aa7[_0xd6bc4e(0x265)],_0x5469f9[_0xd6bc4e(0x23d)][_0xd6bc4e(0x221)][_0xd6bc4e(0x26e)][_0xd6bc4e(0x225)][_0xd6bc4e(0x285)]=[_0x46afbc,_0x3871a9,_0x8a9931],_0x5469f9[_0xd6bc4e(0x29f)][_0xf62aa7[_0xd6bc4e(0x270)]]['ParameterGroups'][0x0][_0xd6bc4e(0x281)]['push'](_0xf62aa7['PQQZj'],_0xf62aa7[_0xd6bc4e(0x20d)],_0xf62aa7[_0xd6bc4e(0x28b)]);const _0x401b64={};_0x401b64[_0xd6bc4e(0x298)]=_0xf62aa7[_0xd6bc4e(0x28e)];const _0x3f5eea={};_0x3f5eea[_0xd6bc4e(0x298)]=_0xf62aa7[_0xd6bc4e(0x21f)];const _0xb57153={};_0xb57153[_0xd6bc4e(0x298)]=_0xf62aa7['RRAKP'],_0x5469f9[_0xd6bc4e(0x23d)]['NodeGroup'][_0xd6bc4e(0x26e)][_0xd6bc4e(0x29d)]=[_0x401b64,_0x3f5eea,_0xb57153];const _0x24babb={};_0x24babb[_0xd6bc4e(0x298)]=_0xf62aa7[_0xd6bc4e(0x28e)];const _0x4821f0={};_0x4821f0[_0xd6bc4e(0x298)]=_0xf62aa7['JFuWK'];const _0x4c5ee5={};_0x4c5ee5[_0xd6bc4e(0x298)]=_0xf62aa7[_0xd6bc4e(0x265)],_0x5469f9[_0xd6bc4e(0x23d)][_0xd6bc4e(0x276)][_0xd6bc4e(0x26e)][_0xd6bc4e(0x29d)]=[_0x24babb,_0x4821f0,_0x4c5ee5],_0x5469f9[_0xd6bc4e(0x1f3)][_0xd6bc4e(0x285)][_0xd6bc4e(0x22c)][_0xf62aa7['ExDfO']][0x1]=[{'Ref':_0xf62aa7[_0xd6bc4e(0x28e)]},{'Ref':_0xf62aa7[_0xd6bc4e(0x21f)]},{'Ref':_0xf62aa7['RRAKP']}];}else _0x28809d[_0x6a48d0[_0xd6bc4e(0x251)]]=_0x1db04d[_0xd6bc4e(0x22c)];}},addTags=async(_0x3d2226,_0x47438f,_0x2f6b02)=>{const _0x5ca1c5=a27_0x31100a,_0x291b1f={'rxvoV':function(_0x522f2c,_0x3e3971){return _0x522f2c(_0x3e3971);},'gLJyq':function(_0x3500f4,_0x40122e){return _0x3500f4===_0x40122e;},'UecdJ':_0x5ca1c5(0x206),'hDGdY':_0x5ca1c5(0x222),'SWNvj':_0x5ca1c5(0x1f4),'tJkVO':function(_0x1311ae,_0x29ee46){return _0x1311ae!==_0x29ee46;},'hbHid':_0x5ca1c5(0x240),'SqBwH':'NodeGroup','bfFcm':_0x5ca1c5(0x276)};for(const _0x385cb3 in _0x3d2226[_0x5ca1c5(0x23d)]){if(_0x291b1f['gLJyq'](_0x291b1f[_0x5ca1c5(0x209)],_0x291b1f[_0x5ca1c5(0x209)])){if(_0x3d2226['Resources'][_0x385cb3][_0x5ca1c5(0x26e)]&&_0x3d2226[_0x5ca1c5(0x23d)][_0x385cb3][_0x5ca1c5(0x26e)][_0x5ca1c5(0x233)]){if(_0x291b1f['tJkVO'](_0x291b1f[_0x5ca1c5(0x284)],_0x291b1f[_0x5ca1c5(0x284)])){let _0x299aa6=0x1;_0x18fdc1['forEach'](_0x4baea4=>{const _0x537010=_0x5ca1c5;_0x449423[_0x537010(0x281)]['push']({'ParameterKey':_0x537010(0x214)+_0x291b1f[_0x537010(0x25c)](_0x135110,_0x299aa6)[_0x537010(0x2a0)](0x2,'0'),'ParameterValue':_0x4baea4[_0x537010(0x229)]}),_0x299aa6+=0x1;});}else _0x3d2226[_0x5ca1c5(0x23d)][_0x385cb3]['Properties']['Tags'][_0x5ca1c5(0x29c)](..._0x2f6b02);}}else _0x2b642e[_0x5ca1c5(0x2a8)](_0x331f1f)[_0x5ca1c5(0x24b)](_0x148b75=>{const _0x3190dd=_0x5ca1c5;var _0x2ea3ec=_0x4fd6d7[_0x148b75];_0x369d83['keys'](_0x2ea3ec)[_0x3190dd(0x24b)](_0x82edc=>{_0x11b8f5[_0x148b75][_0x82edc]=_0x2ea3ec[_0x82edc];});});}const _0x2a11d6={};_0x2f6b02[_0x5ca1c5(0x24b)](_0x39a2e3=>{const _0x128959=_0x5ca1c5;_0x291b1f[_0x128959(0x1f2)](_0x291b1f[_0x128959(0x289)],_0x291b1f['hDGdY'])?(_0x272ccd[_0x128959(0x281)][_0x128959(0x29c)]({'ParameterKey':'Subnet'+_0x291b1f['rxvoV'](_0x537792,_0x20422c)[_0x128959(0x2a0)](0x2,'0'),'ParameterValue':_0xc22065['value']}),_0x14af79+=0x1):_0x2a11d6[_0x39a2e3[_0x128959(0x251)]]=_0x39a2e3['Value'];}),_0x3d2226[_0x5ca1c5(0x23d)][_0x291b1f['SqBwH']][_0x5ca1c5(0x26e)]['Tags']=_0x2a11d6,_0x3d2226[_0x5ca1c5(0x23d)][_0x291b1f[_0x5ca1c5(0x20a)]][_0x5ca1c5(0x26e)][_0x5ca1c5(0x233)]=_0x2a11d6;};exports[a27_0x31100a(0x272)]=async(_0x257aad,_0x6ce0c7,_0x2bc4fa,_0x4faf4b=null,_0x4223f2=null,_0x4f4b63)=>{const _0x1fc835=a27_0x31100a,_0x563444={'AkhUS':function(_0x5ae990,_0x2c0f3b){return _0x5ae990(_0x2c0f3b);},'PEqcn':'browserstack:cluster','szETV':_0x1fc835(0x25b),'tcgqW':_0x1fc835(0x210),'vFdbt':_0x1fc835(0x24f),'uTvNW':_0x1fc835(0x1f5),'mZiGE':'utf-8','lVwQY':function(_0x319dca,_0x21fcd0,_0x26e84e){return _0x319dca(_0x21fcd0,_0x26e84e);},'owWrL':function(_0x124da5,_0x49ccf7){return _0x124da5(_0x49ccf7);},'NYSfc':function(_0x1a515c,_0x292185,_0x17a747,_0x30d624){return _0x1a515c(_0x292185,_0x17a747,_0x30d624);},'WBKlR':'DELETE','OVujy':'ClusterName','kQESI':_0x1fc835(0x236),'TFrRx':'NodeAutoScalingGroupMinSize','xctsI':_0x1fc835(0x286),'eLwQc':_0x1fc835(0x227),'LkHLn':_0x1fc835(0x260),'inanT':_0x1fc835(0x28c),'eGszc':_0x1fc835(0x238),'eIRpr':_0x1fc835(0x278),'NRffU':_0x1fc835(0x237),'gfInN':_0x1fc835(0x254),'ZsPQm':'true','fmgQI':'false','uDtCT':_0x1fc835(0x26a),'tRMZQ':function(_0xb9922e,_0x339be9){return _0xb9922e!=_0x339be9;},'YBJlg':function(_0x1bde56,_0x2b3bfa){return _0x1bde56!==_0x2b3bfa;},'mMUJY':_0x1fc835(0x259),'wHkdX':'VPC','frpKN':function(_0xdfa7eb,_0x4c3001){return _0xdfa7eb!=_0x4c3001;},'vqYEu':_0x1fc835(0x256),'aOfsv':_0x1fc835(0x231)},_0x680c91=COMMON_HST_TAGS,_0x338973={};_0x338973[_0x1fc835(0x251)]=_0x563444[_0x1fc835(0x25e)],_0x338973[_0x1fc835(0x22c)]=_0x257aad,_0x680c91[_0x1fc835(0x29c)](_0x338973),_0x680c91[_0x1fc835(0x29c)]({'Key':_0x563444['szETV'],'Value':new Date()[_0x1fc835(0x28a)]()[_0x1fc835(0x293)]()});const _0x2843f7={};_0x2843f7[_0x1fc835(0x1fe)]=_0x563444[_0x1fc835(0x232)];const _0x5cf384=new AWS['CloudFormation'](_0x2843f7),_0x5b6991=await fs[_0x1fc835(0x244)](path['join'](__dirname,'..',_0x563444['vFdbt'],_0x563444[_0x1fc835(0x2aa)]),_0x563444[_0x1fc835(0x20e)]),_0x3eda70={};_0x3eda70[_0x1fc835(0x24a)]=CLOUDFORMATION_SCHEMA;const _0x1aec18=yaml[_0x1fc835(0x22e)](_0x5b6991,_0x3eda70);await _0x563444[_0x1fc835(0x275)](addVPCData,_0x1aec18,_0x4faf4b),await _0x563444['owWrL'](addS3Data,_0x1aec18),await _0x563444[_0x1fc835(0x275)](addSubnetData,_0x1aec18,_0x4223f2),await _0x563444[_0x1fc835(0x2a6)](addTags,_0x1aec18,_0x257aad,_0x680c91);const _0x3aa1aa=JSON[_0x1fc835(0x264)](_0x1aec18),_0x2d8ff7={};_0x2d8ff7[_0x1fc835(0x25a)]=CLUSTER_DEP_STACK_NAME+'-'+_0x257aad,_0x2d8ff7['OnFailure']=_0x563444[_0x1fc835(0x1fc)],_0x2d8ff7['TemplateBody']=_0x3aa1aa,_0x2d8ff7[_0x1fc835(0x281)]=[{'ParameterKey':_0x563444[_0x1fc835(0x1f7)],'ParameterValue':_0x257aad},{'ParameterKey':_0x563444['kQESI'],'ParameterValue':_0x257aad+_0x1fc835(0x290)},{'ParameterKey':_0x563444[_0x1fc835(0x26f)],'ParameterValue':''+_0x6ce0c7},{'ParameterKey':_0x563444[_0x1fc835(0x2a5)],'ParameterValue':'0'},{'ParameterKey':_0x563444[_0x1fc835(0x213)],'ParameterValue':'1'},{'ParameterKey':_0x563444['LkHLn'],'ParameterValue':''+_0x2bc4fa},{'ParameterKey':_0x563444[_0x1fc835(0x26b)],'ParameterValue':global_registry[_0x1fc835(0x288)]},{'ParameterKey':_0x563444[_0x1fc835(0x218)],'ParameterValue':global_registry[_0x1fc835(0x258)]},{'ParameterKey':_0x563444['eIRpr'],'ParameterValue':global_registry[_0x1fc835(0x27f)]},{'ParameterKey':_0x563444['NRffU'],'ParameterValue':_0x257aad+_0x1fc835(0x230)},{'ParameterKey':_0x563444[_0x1fc835(0x217)],'ParameterValue':_0x4f4b63?_0x563444[_0x1fc835(0x296)]:_0x563444[_0x1fc835(0x24d)]}],_0x2d8ff7[_0x1fc835(0x20c)]=[_0x563444['uDtCT']],_0x2d8ff7[_0x1fc835(0x233)]=_0x680c91;const _0x1efbf2=_0x2d8ff7;if(_0x563444[_0x1fc835(0x205)](_0x4faf4b,null)&&_0x563444[_0x1fc835(0x23b)](_0x4faf4b,undefined)){if(_0x563444['YBJlg'](_0x563444['mMUJY'],_0x563444[_0x1fc835(0x28f)])){var _0x105cec=_0x2d5ada[_0x1b4350];_0x5219fe[_0x1fc835(0x2a8)](_0x105cec)['forEach'](_0xd50a1b=>{_0x3ddbbb[_0x19f677][_0xd50a1b]=_0x105cec[_0xd50a1b];});}else{const _0xec43eb={};_0xec43eb[_0x1fc835(0x23a)]=_0x563444[_0x1fc835(0x274)],_0xec43eb[_0x1fc835(0x292)]=_0x4faf4b,_0x1efbf2[_0x1fc835(0x281)][_0x1fc835(0x29c)](_0xec43eb);}}if(_0x563444[_0x1fc835(0x219)](_0x4223f2,null)&&_0x563444[_0x1fc835(0x23b)](_0x4223f2,undefined)){let _0x41a588=0x1;_0x4223f2[_0x1fc835(0x24b)](_0x5ceb04=>{const _0x4f021c=_0x1fc835;_0x1efbf2[_0x4f021c(0x281)][_0x4f021c(0x29c)]({'ParameterKey':'Subnet'+_0x563444[_0x4f021c(0x220)](String,_0x41a588)[_0x4f021c(0x2a0)](0x2,'0'),'ParameterValue':_0x5ceb04[_0x4f021c(0x229)]}),_0x41a588+=0x1;});}const _0x1a00d1=await _0x5cf384['createStack'](_0x1efbf2)['promise']();logger[_0x1fc835(0x22f)](_0x563444[_0x1fc835(0x247)]);const _0x4c7d4f={};return _0x4c7d4f[_0x1fc835(0x25a)]=_0x1a00d1[_0x1fc835(0x248)],_0x5cf384['waitFor'](_0x563444[_0x1fc835(0x23f)],_0x4c7d4f)[_0x1fc835(0x204)]();};