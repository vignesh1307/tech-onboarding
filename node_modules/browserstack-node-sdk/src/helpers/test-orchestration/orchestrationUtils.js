const a119_0x1d167e=a119_0x50ac;(function(_0x40b384,_0x14b7b2){const _0x5e50d8=a119_0x50ac,_0x2ab8cd=_0x40b384();while(!![]){try{const _0x38972d=parseInt(_0x5e50d8(0xe4))/0x1+-parseInt(_0x5e50d8(0x10b))/0x2+-parseInt(_0x5e50d8(0xe5))/0x3*(-parseInt(_0x5e50d8(0xdf))/0x4)+parseInt(_0x5e50d8(0xf0))/0x5*(-parseInt(_0x5e50d8(0xff))/0x6)+-parseInt(_0x5e50d8(0xf9))/0x7*(-parseInt(_0x5e50d8(0xf2))/0x8)+-parseInt(_0x5e50d8(0xde))/0x9+parseInt(_0x5e50d8(0x118))/0xa;if(_0x38972d===_0x14b7b2)break;else _0x2ab8cd['push'](_0x2ab8cd['shift']());}catch(_0x3601ec){_0x2ab8cd['push'](_0x2ab8cd['shift']());}}}(a119_0x4753,0xe3412));function a119_0x4753(){const _0x58bf73=['getSkipFlakyAndFailed','getRerunPreviouslyFailed','15222177CwLBPM','135604WGwAsQ','abort_build_','getName','join','enabled','251821hCVSQY','93HFWeco','testOrderingEnabled','isAbortBuildOnFailureSupported','existsSync','jest','maxFailures','getBuildStartData','appendFileSync','getRunPreviouslyFailedFirst','_setSkipFlakyAndFailed','rerunPreviouslyFailed','10IjtzBB','getEnabled','64wlSKMw','skipFlakyandFailed','skip_failing_and_flaky','_setRerunPreviouslyFailed','iASkJ','rerun_previously_failed','config','1316567tsQlSG','getRetryCount','toLowerCase','maxRetries','testOrchestrationOptions','exports','4312536JiQjpb','path','BROWSERSTACK_TESTHUB_UUID','../logger','getFailureThreshold','testOrdering','abortBuildOnFailure','isRetryEnabled','env','checkAbortBuildFileExists','_setTestOrdering','skipFlakyAndFailed','1371428YjXwpW','has','getTestOrderingName','getInstance','_instance','QFisj','enable','failed_tests_','name','retryTestsOnFailure','abort_build_on_failure','retry_tests_on_failure','_setRunPreviouslyFailedFirst','19380130neCrjj','tmpdir','isAbortBuildOnFailureEnabled','winstonLogger','runPreviouslyFailedFirst'];a119_0x4753=function(){return _0x58bf73;};return a119_0x4753();}function a119_0x50ac(_0x254097,_0x1d8994){const _0x475345=a119_0x4753();return a119_0x50ac=function(_0x50acf8,_0x296bef){_0x50acf8=_0x50acf8-0xda;let _0x2a648a=_0x475345[_0x50acf8];return _0x2a648a;},a119_0x50ac(_0x254097,_0x1d8994);}const os=require('os'),path=require(a119_0x1d167e(0x100)),fs=require('fs'),logger=require(a119_0x1d167e(0x102))[a119_0x1d167e(0xda)],RETRY_TESTS_ON_FAILURE=a119_0x1d167e(0x114),ABORT_BUILD_ON_FAILURE=a119_0x1d167e(0x105),RUN_PREVIOUSLY_FAILED_FIRST=a119_0x1d167e(0xdb),RERUN_PREVIOUSLY_FAILED=a119_0x1d167e(0xef),SKIP_FLAKY_AND_FAILED=a119_0x1d167e(0xf3),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a119_0x1d167e(0xe9)]);class TestOrdering{constructor(){const _0x183017=a119_0x1d167e;this[_0x183017(0xe3)]=![],this[_0x183017(0x113)]=null;}[a119_0x1d167e(0x111)](_0x44b56c){const _0x109c9e=a119_0x1d167e;this[_0x109c9e(0xe3)]=!![],this[_0x109c9e(0x113)]=_0x44b56c;}['disable'](){const _0x6ca98f=a119_0x1d167e;this[_0x6ca98f(0xe3)]=![],this[_0x6ca98f(0x113)]=null;}[a119_0x1d167e(0xf1)](){const _0xee1722=a119_0x1d167e;return this[_0xee1722(0xe3)];}['getName'](){const _0x3f0c16=a119_0x1d167e;return this[_0x3f0c16(0x113)];}}class OrchestrationUtils{static ['_instance']=null;constructor(_0x2c51c8){const _0x43fe8e=a119_0x1d167e,_0x46aa49={};_0x46aa49[_0x43fe8e(0x110)]=function(_0x35b740,_0x17a48c){return _0x35b740||_0x17a48c;};const _0x10085e=_0x46aa49;this['runPreviouslyFailedFirst']=![],this['rerunPreviouslyFailed']=![],this[_0x43fe8e(0x10a)]=![],this['testOrdering']=new TestOrdering(),this[_0x43fe8e(0xf8)]=_0x10085e['QFisj'](_0x2c51c8,{});const _0x551643=_0x2c51c8&&_0x2c51c8['testOrchestrationOptions']||{};this[_0x43fe8e(0x117)](_0x551643[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x43fe8e(0xf5)](_0x551643[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x43fe8e(0xee)](_0x551643[SKIP_FLAKY_AND_FAILED]||![]);}static[a119_0x1d167e(0x10e)](_0x24ceb3){const _0x523689=a119_0x1d167e;return!OrchestrationUtils[_0x523689(0x10f)]&&_0x24ceb3&&(OrchestrationUtils[_0x523689(0x10f)]=new OrchestrationUtils(_0x24ceb3)),OrchestrationUtils[_0x523689(0x10f)];}[a119_0x1d167e(0x106)](){const _0x43a4e7=a119_0x1d167e,_0x24a0f4=(this[_0x43a4e7(0xf8)][_0x43a4e7(0xfd)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x24a0f4['enabled'];}[a119_0x1d167e(0xfa)](){const _0x16001b=a119_0x1d167e,_0x3e7fb8=(this[_0x16001b(0xf8)][_0x16001b(0xfd)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x333d86=0x0;return this[_0x16001b(0x106)](this[_0x16001b(0xf8)])&&(_0x333d86=_0x3e7fb8[_0x16001b(0xfc)]||0x1),_0x333d86;}['getOrchestrationData'](){const _0x45132d=a119_0x1d167e,_0x3ad3d0=this['config'][_0x45132d(0xfd)]||{},_0x582939={};for(const _0x3b1c65 in _0x3ad3d0){ALLOWED_ORCHESTRATION_KEYS[_0x45132d(0x10c)](_0x3b1c65)&&(_0x582939[_0x3b1c65]=_0x3ad3d0[_0x3b1c65]);}return _0x582939;}[a119_0x1d167e(0x108)](){const _0x5488db=a119_0x1d167e,_0x18f748=process['env'][_0x5488db(0x101)],_0x5dbc02=path[_0x5488db(0xe2)](os[_0x5488db(0x119)](),_0x5488db(0xe0)+_0x18f748);return fs[_0x5488db(0xe8)](_0x5dbc02);}['writeFailureToFile'](_0x38f8e5){const _0xabfb6e=a119_0x1d167e,_0x26821b=process[_0xabfb6e(0x107)][_0xabfb6e(0x101)],_0x2d7b2b=path['join'](os['tmpdir'](),_0xabfb6e(0x112)+_0x26821b+'.txt');fs[_0xabfb6e(0xec)](_0x2d7b2b,_0x38f8e5+'\x0a');}[a119_0x1d167e(0xe7)](_0x41eb2c){const _0x345e8c=a119_0x1d167e,_0x5efedb={};_0x5efedb[_0x345e8c(0xf6)]=function(_0x403947,_0x3f537d){return _0x403947||_0x3f537d;};const _0x545731=_0x5efedb;return ABORT_BUILD_SUPPORTED_FRAMEWORKS['has'](_0x545731[_0x345e8c(0xf6)](_0x41eb2c,'')[_0x345e8c(0xfb)]());}['isAbortBuildOnFailureEnabled'](){const _0x36f1f7=a119_0x1d167e,_0x59a16e=(this[_0x36f1f7(0xf8)][_0x36f1f7(0xfd)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x59a16e['enabled'];}[a119_0x1d167e(0x103)](){const _0x9cd301=a119_0x1d167e,_0x4b8237=(this[_0x9cd301(0xf8)][_0x9cd301(0xfd)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x4b8237[_0x9cd301(0xea)]||0x5;;}[a119_0x1d167e(0xed)](){const _0x3ff771=a119_0x1d167e;return this[_0x3ff771(0xdb)];}[a119_0x1d167e(0x117)](_0x3fa60b){const _0x5916b2=a119_0x1d167e;this[_0x5916b2(0xdb)]=!!_0x3fa60b,this[_0x5916b2(0x109)]();}[a119_0x1d167e(0xdd)](){const _0x3da337=a119_0x1d167e;return this[_0x3da337(0xef)];}[a119_0x1d167e(0xf5)](_0x1f2414){const _0x2b8023=a119_0x1d167e;this[_0x2b8023(0xef)]=!!_0x1f2414,this[_0x2b8023(0x109)]();}[a119_0x1d167e(0xdc)](){const _0x7fd031=a119_0x1d167e;return this[_0x7fd031(0x10a)];}['_setSkipFlakyAndFailed'](_0x250eac){const _0x3587a7=a119_0x1d167e;this[_0x3587a7(0x10a)]=!!_0x250eac,this['_setTestOrdering']();}[a119_0x1d167e(0x109)](){const _0x374b17=a119_0x1d167e;if(this[_0x374b17(0xdb)])this[_0x374b17(0xef)]=![],this[_0x374b17(0x10a)]=![],this[_0x374b17(0x104)][_0x374b17(0x111)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x374b17(0xef)])this[_0x374b17(0xdb)]=![],this['skipFlakyAndFailed']=![],this[_0x374b17(0x104)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x374b17(0x10a)]?(this[_0x374b17(0xdb)]=![],this[_0x374b17(0xef)]=![],this[_0x374b17(0x104)][_0x374b17(0x111)](SKIP_FLAKY_AND_FAILED)):this[_0x374b17(0x104)]['disable']();}}[a119_0x1d167e(0xe6)](){const _0x4d0fb7=a119_0x1d167e;return this[_0x4d0fb7(0x104)]['getEnabled']();}[a119_0x1d167e(0x10d)](){const _0x1c1735=a119_0x1d167e;if(this[_0x1c1735(0x104)][_0x1c1735(0xf1)]())return this[_0x1c1735(0x104)][_0x1c1735(0xe1)]();return null;}[a119_0x1d167e(0xeb)](){const _0x5d0458=a119_0x1d167e,_0x4f47c1={};return _0x4f47c1[_0x5d0458(0xf7)]={'enabled':this[_0x5d0458(0xdd)]()},_0x4f47c1['run_previously_failed_first']={'enabled':this[_0x5d0458(0xed)]()},_0x4f47c1[_0x5d0458(0xf4)]={'enabled':this[_0x5d0458(0xdc)]()},this[_0x5d0458(0x106)]()&&(_0x4f47c1[_0x5d0458(0x116)]={'enabled':!![],'max_retries':this[_0x5d0458(0xfa)]()}),this[_0x5d0458(0x11a)]()&&(_0x4f47c1[_0x5d0458(0x115)]={'enabled':!![],'max_failures':this[_0x5d0458(0x103)]()}),_0x4f47c1;}}module[a119_0x1d167e(0xfe)]=OrchestrationUtils;