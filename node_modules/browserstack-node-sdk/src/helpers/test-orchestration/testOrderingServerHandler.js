const a122_0x20cdb5=a122_0x2748;(function(_0x429dae,_0x1b27f2){const _0x31e106=a122_0x2748,_0x1adea9=_0x429dae();while(!![]){try{const _0x49be7f=-parseInt(_0x31e106(0x8e))/0x1+-parseInt(_0x31e106(0x88))/0x2*(parseInt(_0x31e106(0x9d))/0x3)+-parseInt(_0x31e106(0xa3))/0x4+parseInt(_0x31e106(0xb5))/0x5*(parseInt(_0x31e106(0x90))/0x6)+parseInt(_0x31e106(0xb7))/0x7+parseInt(_0x31e106(0xa4))/0x8+parseInt(_0x31e106(0xbb))/0x9*(-parseInt(_0x31e106(0x99))/0xa);if(_0x49be7f===_0x1b27f2)break;else _0x1adea9['push'](_0x1adea9['shift']());}catch(_0x2bfbd4){_0x1adea9['push'](_0x1adea9['shift']());}}}(a122_0x5838,0xda259));const logger=require(a122_0x20cdb5(0xb9))['winstonLogger'],RequestUtils=require('./requestUtils');function a122_0x5838(){const _0x59e15c=['3JDRPHG','env','timeoutInterval',',\x20timeoutUrl:\x20','SUXoP','yIFVq','2295732XFwiAi','12537144eDzwJg','map','[processSplitTestsResponse]\x20timeout:\x20','splitTests','timeoutUrl','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','resultUrl','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','exports','Jajhp','platform','AapSa','nDWzJ','body','filePath','processSplitTestsResponse','1060FOhrjr','UAMrX','5314288nENMsK','tests','../logger','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','18fOLgrP','getSplitTestsAPICallCount','YRZRZ','arch','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','defaultTimeoutInterval','getOrderedTestFiles','totalmem','now','lopMC','postSplitFiles','splitTestsAPICallCount','BROWSERSTACK_TOTAL_NODE_COUNT','timeout','mWfrN','340994KoVMiV','ezqXN','debug','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','PjjBb','stringify','1071436JEyHpQ','toString','19590WaGCag','_getHostInfo','AbBra','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','stack','getSplitFiles','hostname','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','length','1545560NUtYQW','config','[processSplitTestsResponse]\x20Processing\x20response:\x20','defaultTimeout'];a122_0x5838=function(){return _0x59e15c;};return a122_0x5838();}function a122_0x2748(_0x3d51ff,_0x32d134){const _0x583881=a122_0x5838();return a122_0x2748=function(_0x27485b,_0x4bcd82){_0x27485b=_0x27485b-0x81;let _0x5cf910=_0x583881[_0x27485b];return _0x5cf910;},a122_0x2748(_0x3d51ff,_0x32d134);}class TestOrderingServerHandler{constructor(_0x12808e){const _0x5913c4=a122_0x20cdb5;this[_0x5913c4(0x9a)]=_0x12808e,this[_0x5913c4(0x84)]=0x0,this[_0x5913c4(0x9c)]=0x3c,this[_0x5913c4(0xc0)]=0x5;}[a122_0x20cdb5(0xbc)](){return this['splitTestsAPICallCount'];}[a122_0x20cdb5(0xb4)](_0x4dd87e){const _0x1661c6=a122_0x20cdb5,_0x33e01a={};_0x33e01a[_0x1661c6(0x82)]=_0x1661c6(0xac);const _0x1f512d=_0x33e01a;if(!_0x4dd87e)return null;const _0x27932d={};return _0x27932d['timeout']=_0x4dd87e['timeout']||this[_0x1661c6(0x9c)],_0x27932d[_0x1661c6(0x9f)]=_0x4dd87e[_0x1661c6(0x9f)]||this[_0x1661c6(0xc0)],_0x27932d[_0x1661c6(0xaa)]=_0x4dd87e['resultUrl'],_0x27932d[_0x1661c6(0xa8)]=_0x4dd87e[_0x1661c6(0xa8)],logger['debug'](_0x1661c6(0x9b)+JSON['stringify'](_0x4dd87e)),logger[_0x1661c6(0x8a)](_0x1661c6(0xa6)+_0x4dd87e[_0x1661c6(0x86)]+',\x20timeoutInterval:\x20'+_0x4dd87e[_0x1661c6(0x9f)]+',\x20resultUrl:\x20'+_0x4dd87e['resultUrl']+_0x1661c6(0xa0)+_0x4dd87e[_0x1661c6(0xa8)]),(!_0x4dd87e[_0x1661c6(0x86)]||!_0x4dd87e[_0x1661c6(0x9f)]||!_0x4dd87e['timeoutUrl']||!_0x4dd87e[_0x1661c6(0xaa)])&&logger[_0x1661c6(0x8a)](_0x1f512d[_0x1661c6(0x82)]),_0x27932d;}async[a122_0x20cdb5(0xa7)](_0x3a7db3,_0x178882){const _0x37f42e=a122_0x20cdb5,_0x8d05d7={'yIFVq':function(_0x5d9c6a,_0xefa05e){return _0x5d9c6a(_0xefa05e);},'YRZRZ':function(_0x293eea,_0xcf52d4){return _0x293eea(_0xcf52d4);}};try{const _0x430636=_0x8d05d7[_0x37f42e(0xa2)](parseInt,process[_0x37f42e(0x9e)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x129545=_0x8d05d7[_0x37f42e(0xbd)](parseInt,process[_0x37f42e(0x9e)][_0x37f42e(0x85)]||'1'),_0x2b2e17=process['env']['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],_0x5eac54={'nodeIndex':_0x430636,'totalNodes':_0x129545,'projectName':this['config']['projectName'],'buildName':this[_0x37f42e(0x9a)]['buildName'],'buildRunIdentifier':_0x2b2e17,'orchestrationStrategy':_0x178882,'hostInfo':this[_0x37f42e(0x91)](),'tests':_0x3a7db3[_0x37f42e(0xa5)](_0x5612e0=>({'filePath':_0x5612e0}))},_0x5306e4=await RequestUtils[_0x37f42e(0x83)](_0x5eac54);return logger['debug'](_0x37f42e(0x97)+JSON[_0x37f42e(0x8d)](_0x5306e4)),this[_0x37f42e(0x84)]+=0x1,this[_0x37f42e(0xb4)](_0x5306e4[_0x37f42e(0xb2)]||{});}catch(_0x11b55d){return logger[_0x37f42e(0x8a)](_0x37f42e(0xab)+(_0x11b55d[_0x37f42e(0x94)]||_0x11b55d[_0x37f42e(0x8f)]())),null;}}async[a122_0x20cdb5(0xc1)](_0x2c625b){const _0x5837d3=a122_0x20cdb5,_0x1e246b={};_0x1e246b[_0x5837d3(0x89)]=_0x5837d3(0xba),_0x1e246b[_0x5837d3(0x8c)]=function(_0x247c61,_0x284c25){return _0x247c61*_0x284c25;},_0x1e246b[_0x5837d3(0xa1)]=function(_0x28304f,_0x2fcffe){return _0x28304f&&_0x2fcffe;},_0x1e246b[_0x5837d3(0xb6)]=function(_0x199065,_0x4de430){return _0x199065<_0x4de430;},_0x1e246b[_0x5837d3(0xb0)]=function(_0x4c6598,_0x224bef){return _0x4c6598-_0x224bef;},_0x1e246b['AbBra']=function(_0x1247c5,_0x16b752){return _0x1247c5&&_0x16b752;},_0x1e246b[_0x5837d3(0x87)]=_0x5837d3(0x8b),_0x1e246b[_0x5837d3(0xb1)]=function(_0x4d3b58,_0x4bbf0c){return _0x4d3b58>_0x4bbf0c;};const _0x3ac384=_0x1e246b;if(!_0x2c625b)return null;try{logger['debug'](_0x3ac384['ezqXN']);const _0x5c23fd=_0x2c625b['timeoutInterval']||this[_0x5837d3(0xc0)],_0x1c03fd=_0x3ac384[_0x5837d3(0x8c)](_0x2c625b['timeout']||this['defaultTimeout'],0x3e8),_0x26ebc0=_0x2c625b[_0x5837d3(0xa8)],_0x195d92=_0x2c625b[_0x5837d3(0xaa)];if(_0x3ac384['SUXoP'](!_0x195d92,!_0x26ebc0))return null;let _0x3b7ec6=null;const _0x1c6c7c=Date[_0x5837d3(0x81)]();while(_0x195d92&&_0x3ac384['UAMrX'](_0x3ac384[_0x5837d3(0xb0)](Date[_0x5837d3(0x81)](),_0x1c6c7c),_0x1c03fd)){logger[_0x5837d3(0x8a)](_0x5837d3(0xa9)+_0x195d92);const _0x45a25d=await RequestUtils[_0x5837d3(0x95)](_0x195d92);logger[_0x5837d3(0x8a)](_0x5837d3(0xbf)+JSON[_0x5837d3(0x8d)](_0x45a25d)),this[_0x5837d3(0x84)]+=0x1;if(_0x45a25d&&_0x45a25d['tests']){_0x3b7ec6=_0x45a25d[_0x5837d3(0xb8)];break;}await new Promise(_0x243d86=>setTimeout(_0x243d86,_0x5c23fd*0x3e8)),logger[_0x5837d3(0x8a)](_0x5837d3(0x93)+_0x5c23fd+'\x20seconds.');}if(_0x3ac384[_0x5837d3(0x92)](!_0x3b7ec6,_0x26ebc0)){logger['debug'](_0x3ac384[_0x5837d3(0x87)]);const _0x1f0b3f=await RequestUtils['getSplitFiles'](_0x26ebc0);_0x1f0b3f&&_0x1f0b3f[_0x5837d3(0xb8)]&&(_0x3b7ec6=_0x1f0b3f[_0x5837d3(0xb8)]);}if(_0x3b7ec6&&_0x3ac384[_0x5837d3(0xb1)](_0x3b7ec6[_0x5837d3(0x98)],0x0))return _0x3b7ec6[_0x5837d3(0xa5)](_0x42e080=>_0x42e080[_0x5837d3(0xb3)]);return null;}catch(_0x3b853c){return logger['debug']('[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20'+(_0x3b853c['stack']||_0x3b853c[_0x5837d3(0x8f)]())),null;}}['_getHostInfo'](){const _0x286071=a122_0x20cdb5,_0x3332d7={'Jajhp':function(_0x51a4f0,_0x33bb59){return _0x51a4f0(_0x33bb59);}},_0x4f2463=_0x3332d7[_0x286071(0xae)](require,'os');try{return{'hostname':_0x4f2463[_0x286071(0x96)](),'platform':_0x4f2463[_0x286071(0xaf)](),'release':_0x4f2463['release'](),'arch':_0x4f2463[_0x286071(0xbe)](),'totalmem':_0x4f2463[_0x286071(0xc2)](),'freemem':_0x4f2463['freemem']()};}catch(_0x8718a6){return{};}}}module[a122_0x20cdb5(0xad)]=TestOrderingServerHandler;