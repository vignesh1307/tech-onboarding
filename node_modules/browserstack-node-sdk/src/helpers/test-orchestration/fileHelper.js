function a118_0x4640(){const _0x11d1fc=['error','stateFilePath','add','message',']\x20Error\x20writing\x20state\x20file:\x20',']\x20Error\x20releasing\x20lock:\x20','has',']\x20Error\x20reading\x20state\x20file:\x20','defaultState','newState','fcRSw','9778WqujVY','2705915Fguign','FailFastFileHelper','117urMIjU','exports','stringify',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','762339PUzZbY','aTdry','stack','iterator','code','failedTests','function','fullName','parse','../logger','utf8','279400swXbSm','updateAPIFailedCount','openSync','failed','KMiCH','winstonLogger','qGmIP','53TmGuoa','lastAPIFailedCount','from','uniqueFailedTests','isArray','EEXIST','sTwNh','uDVAq','readState','749JzSrwc','18006zsXDdl','lockFilePath','releaseLock','CvLKA','writeState','closeSync','warn','8XHrshq','adIPz','1370928fTAIVU','isNewFailure','split','acquireLock','5443240yTowCq','HKnIa'];a118_0x4640=function(){return _0x11d1fc;};return a118_0x4640();}const a118_0x49ed16=a118_0x44f5;(function(_0x1d9a7a,_0x3a3df4){const _0x40e18f=a118_0x44f5,_0x335e33=_0x1d9a7a();while(!![]){try{const _0x1802e0=-parseInt(_0x40e18f(0xd7))/0x1*(parseInt(_0x40e18f(0xbe))/0x2)+parseInt(_0x40e18f(0xc5))/0x3*(parseInt(_0x40e18f(0xab))/0x4)+-parseInt(_0x40e18f(0xbf))/0x5+parseInt(_0x40e18f(0xa4))/0x6*(parseInt(_0x40e18f(0xa3))/0x7)+parseInt(_0x40e18f(0xad))/0x8+parseInt(_0x40e18f(0xc1))/0x9*(-parseInt(_0x40e18f(0xd0))/0xa)+parseInt(_0x40e18f(0xb1))/0xb;if(_0x1802e0===_0x3a3df4)break;else _0x335e33['push'](_0x335e33['shift']());}catch(_0x1465e7){_0x335e33['push'](_0x335e33['shift']());}}}(a118_0x4640,0x510f3));function a118_0x44f5(_0x3adcff,_0x536817){const _0x46408e=a118_0x4640();return a118_0x44f5=function(_0x44f50f,_0x444b44){_0x44f50f=_0x44f50f-0xa2;let _0x5b683b=_0x46408e[_0x44f50f];return _0x5b683b;},a118_0x44f5(_0x3adcff,_0x536817);}const fs=require('fs'),logger=require(a118_0x49ed16(0xce))[a118_0x49ed16(0xd5)],TAG=a118_0x49ed16(0xc0);class FileHelper{constructor(_0x3fe1e7,_0x102b1e,_0x171e11,_0x32594d){const _0x1f7ea9=a118_0x49ed16,_0x3f447c={};_0x3f447c[_0x1f7ea9(0xdd)]='2|0|4|1|3',_0x3f447c[_0x1f7ea9(0xc6)]=_0x1f7ea9(0xcf);const _0x23ba66=_0x3f447c,_0x5d452d=_0x23ba66[_0x1f7ea9(0xdd)][_0x1f7ea9(0xaf)]('|');let _0x2ba636=0x0;while(!![]){switch(_0x5d452d[_0x2ba636++]){case'0':this[_0x1f7ea9(0xb4)]=_0x102b1e;continue;case'1':this[_0x1f7ea9(0xbb)]=_0x32594d;continue;case'2':this['failFastConfig']=_0x3fe1e7;continue;case'3':if(!fs['existsSync'](this[_0x1f7ea9(0xb4)]))try{fs['writeFileSync'](this[_0x1f7ea9(0xb4)],'{}',_0x23ba66[_0x1f7ea9(0xc6)]);}catch(_0x4388cf){logger[_0x1f7ea9(0xb3)]('['+TAG+']\x20Error\x20creating\x20state\x20file:\x20'+_0x4388cf['message']+'\x20'+_0x4388cf[_0x1f7ea9(0xc7)]);}continue;case'4':this[_0x1f7ea9(0xa5)]=_0x171e11;continue;}break;}}async[a118_0x49ed16(0xb0)](){const _0x4c7487=a118_0x49ed16,_0x5cfb2c={};_0x5cfb2c[_0x4c7487(0xac)]=function(_0x32a2b7,_0x5cf8ac){return _0x32a2b7===_0x5cf8ac;},_0x5cfb2c[_0x4c7487(0xd6)]=_0x4c7487(0xdc);const _0x32db7b=_0x5cfb2c;let _0x295231;try{return _0x295231=fs[_0x4c7487(0xd2)](this[_0x4c7487(0xa5)],'wx'),_0x295231;}catch(_0x574989){if(_0x32db7b['adIPz'](_0x574989[_0x4c7487(0xc9)],_0x32db7b[_0x4c7487(0xd6)]))return null;throw _0x574989;}}async['releaseLock'](_0x570f64){const _0x3ae0f8=a118_0x49ed16;if(_0x570f64)try{fs[_0x3ae0f8(0xa9)](_0x570f64),fs['unlinkSync'](this[_0x3ae0f8(0xa5)]);}catch(_0x546206){logger[_0x3ae0f8(0xb3)]('['+TAG+_0x3ae0f8(0xb8)+_0x546206[_0x3ae0f8(0xb6)]+'\x20'+_0x546206[_0x3ae0f8(0xc7)]);}}[a118_0x49ed16(0xa2)](){const _0x4b723d=a118_0x49ed16,_0x294f2b={};_0x294f2b['HKnIa']=_0x4b723d(0xcf);const _0x20c6df=_0x294f2b;try{const _0x2395a0=fs['readFileSync'](this['stateFilePath'],_0x20c6df[_0x4b723d(0xb2)]);return JSON[_0x4b723d(0xcd)](_0x2395a0);}catch(_0x1ac38c){return logger[_0x4b723d(0xb3)]('['+TAG+_0x4b723d(0xba)+_0x1ac38c[_0x4b723d(0xb6)]+'\x20'+_0x1ac38c['stack']),null;}}async[a118_0x49ed16(0xa8)](_0x5cc3cb){const _0x11ca5f=a118_0x49ed16,_0x156314={..._0x5cc3cb,'uniqueFailedTests':Array['isArray'](_0x5cc3cb['uniqueFailedTests'])?_0x5cc3cb[_0x11ca5f(0xda)]:Array[_0x11ca5f(0xd9)](_0x5cc3cb[_0x11ca5f(0xda)]||[])};try{fs['writeFileSync'](this[_0x11ca5f(0xb4)],JSON[_0x11ca5f(0xc3)](_0x156314,null,0x2));}catch(_0x3f0864){logger[_0x11ca5f(0xb3)]('['+TAG+_0x11ca5f(0xb7)+_0x3f0864[_0x11ca5f(0xb6)]+'\x20'+_0x3f0864[_0x11ca5f(0xc7)]);throw _0x3f0864;}}async['recordTestResult'](_0x46c995,_0x3e887d){const _0x423113=a118_0x49ed16,_0x1920de={};_0x1920de[_0x423113(0xd4)]=function(_0x157a94,_0x17b3a7){return _0x157a94!==_0x17b3a7;},_0x1920de[_0x423113(0xbd)]=_0x423113(0xcb),_0x1920de[_0x423113(0xde)]=function(_0x9e2e9b,_0x19bf3a){return _0x9e2e9b===_0x19bf3a;},_0x1920de['CvLKA']=_0x423113(0xd3);const _0xf87ea0=_0x1920de,_0x8753e9=await this[_0x423113(0xb0)]();if(!_0x8753e9)return logger[_0x423113(0xaa)]('['+TAG+']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.'),{'newState':this[_0x423113(0xa2)]()||this[_0x423113(0xbb)],'isNewFailure':![]};try{let _0x5acb30=this[_0x423113(0xa2)]();!_0x5acb30&&(_0x5acb30=JSON[_0x423113(0xcd)](JSON[_0x423113(0xc3)](this[_0x423113(0xbb)])));if(!_0x5acb30[_0x423113(0xda)]||_0xf87ea0['KMiCH'](typeof _0x5acb30[_0x423113(0xda)][Symbol[_0x423113(0xc8)]],_0xf87ea0['fcRSw']))_0x5acb30[_0x423113(0xda)]=new Set();else Array[_0x423113(0xdb)](_0x5acb30[_0x423113(0xda)])&&(_0x5acb30[_0x423113(0xda)]=new Set(_0x5acb30[_0x423113(0xda)]));_0x5acb30['totalTests']=_0x3e887d;let _0x2e48d8=![];_0xf87ea0[_0x423113(0xde)](_0x46c995['status'],_0xf87ea0[_0x423113(0xa7)])&&(_0x5acb30[_0x423113(0xca)]+=0x1,!_0x5acb30[_0x423113(0xda)][_0x423113(0xb9)](_0x46c995['fullName'])&&(_0x5acb30[_0x423113(0xda)][_0x423113(0xb5)](_0x46c995[_0x423113(0xcc)]),_0x2e48d8=!![]));await this[_0x423113(0xa8)](_0x5acb30);const _0x5e0701={};return _0x5e0701[_0x423113(0xbc)]=_0x5acb30,_0x5e0701[_0x423113(0xae)]=_0x2e48d8,_0x5e0701;}finally{await this['releaseLock'](_0x8753e9);}}async[a118_0x49ed16(0xd1)](_0x30642e){const _0x309640=a118_0x49ed16,_0x51bfaa=await this[_0x309640(0xb0)]();if(!_0x51bfaa)return logger[_0x309640(0xaa)]('['+TAG+_0x309640(0xc4)),this[_0x309640(0xa2)]()||this['defaultState'];try{let _0x1f83e7=this[_0x309640(0xa2)]();return!_0x1f83e7&&(_0x1f83e7=JSON[_0x309640(0xcd)](JSON[_0x309640(0xc3)](this[_0x309640(0xbb)]))),_0x1f83e7[_0x309640(0xd8)]=_0x30642e,await this[_0x309640(0xa8)](_0x1f83e7),_0x1f83e7;}finally{await this[_0x309640(0xa6)](_0x51bfaa);}}}module[a118_0x49ed16(0xc2)]=FileHelper;