function a121_0x21db(){const _0x4ea7cc=['stack','bbIFw','2351403IECDit','findTestFiles','--listTests','120381xhdRIR','uYGUo','2780070JTKxTJ','QbTsU','getOrderingInstrumentationData','length','rGcTI','micromatch','iGatR','nodeIndex','./orchestrationUtils','vjGGB','testMatch','--config','eYCjD','5|2|1|4|0|3','25249ZbdyrO','setTestOrderingApplied','totalNodes','yQtwz','orderingInstrumentationData','env','ZuEdu','814140drJyHX','../helper','stringify','147138RnqzpM','testOrderingApplied','getSplitTestsAPICallCount','testObservability','nifzk','buildIdentifier','logTestOrderingChecks','zZmEf','USBTl','_shouldLogTestOrderingChecks','**/?(*.)+(spec|test).[jt]s?(x)','uploadedTestFilesCount','116210cCUMrY','RFGJr','lcnSh','IdQNX','arjRs','stdout','18htynSF','testPathIgnorePatterns','FQiyu','Filterted\x20to\x20test\x20files:\x20','testOrderingServerHandler','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','projectName','getTestOrderingName','uGtzU','debug','VmcxA','isArray','GoiKm','Test\x20orchestration\x20without\x20test\x20ordering','reorderTestFiles','ignore','addToOrderingInstrumentationData','hbuXG','winstonLogger','info','pRVSX','mshbH','hkgON','mcseX','nDdfH','JrLgi','getOrderedTestFiles','utf-8','jYyqZ','QFSOG','config','testOrderingEnabled','jest-util','splitTests','toString','oKQYP','jest-runner','jest-config','BROWSERSTACK_TOTAL_NODE_COUNT','path','orchestrationUtils','WkTqE','child_process','splitTestsAPICallCount','map','isTestOrchestrationEnabled','BROWSERSTACK_NODE_INDEX','HVxEe','kqjyf','jest','ZQSHW','buildName','Found\x20test\x20files:\x20','_initializeTestOrdering','../logger','split','Error\x20finding\x20test\x20files:\x20','4cZVeYg','fhxiu','8ZtHYPu','applied','\x20files','QyXYF'];a121_0x21db=function(){return _0x4ea7cc;};return a121_0x21db();}const a121_0x5aae69=a121_0x1994;(function(_0x134cee,_0x2eab4b){const _0x41683e=a121_0x1994,_0x5718aa=_0x134cee();while(!![]){try{const _0x4ef601=-parseInt(_0x41683e(0x20c))/0x1+-parseInt(_0x41683e(0x1e7))/0x2*(-parseInt(_0x41683e(0x1f2))/0x3)+-parseInt(_0x41683e(0x209))/0x4+parseInt(_0x41683e(0x1a8))/0x5*(-parseInt(_0x41683e(0x1ae))/0x6)+-parseInt(_0x41683e(0x202))/0x7*(-parseInt(_0x41683e(0x1e9))/0x8)+parseInt(_0x41683e(0x1ef))/0x9+parseInt(_0x41683e(0x1f4))/0xa;if(_0x4ef601===_0x2eab4b)break;else _0x5718aa['push'](_0x5718aa['shift']());}catch(_0x5ecab8){_0x5718aa['push'](_0x5718aa['shift']());}}}(a121_0x21db,0x317f0));const logger=require(a121_0x5aae69(0x1e4))[a121_0x5aae69(0x1c0)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a121_0x5aae69(0x20a)),TestOrderingServerHandler=require('./testOrderingServerHandler'),OrchestrationUtils=require(a121_0x5aae69(0x1fc)),path=require(a121_0x5aae69(0x1d5)),{spawnSync}=require(a121_0x5aae69(0x1d8)),micromatch=require(a121_0x5aae69(0x1f9)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x274d7f){const _0x13413e=a121_0x5aae69,_0x4ab186={};_0x4ab186[_0x13413e(0x1ee)]=_0x13413e(0x201);const _0x37f632=_0x4ab186,_0x2d48d5=_0x37f632[_0x13413e(0x1ee)][_0x13413e(0x1e5)]('|');let _0x281fae=0x0;while(!![]){switch(_0x2d48d5[_0x281fae++]){case'0':this[_0x13413e(0x1d6)]=new OrchestrationUtils(_0x274d7f);continue;case'1':this[_0x13413e(0x20d)]=![];continue;case'2':this[_0x13413e(0x206)]={};continue;case'3':this[_0x13413e(0x1e3)]();continue;case'4':this[_0x13413e(0x1b2)]=null;continue;case'5':this[_0x13413e(0x1cc)]=_0x274d7f;continue;}break;}}[a121_0x5aae69(0x1db)](){const _0xee7b10=a121_0x5aae69,_0x4d94c4={'RFGJr':function(_0x5ed51d,_0x8e98cd){return _0x5ed51d(_0x8e98cd);},'ZuEdu':function(_0x44db74,_0x4f5819){return _0x44db74(_0x4f5819);},'PWmAJ':function(_0x578ca2,_0x97c4ff){return _0x578ca2(_0x97c4ff);},'ZQSHW':function(_0x1d3af3,_0x56ecd6){return _0x1d3af3&&_0x56ecd6;}},_0x8a6bb6=_0x4d94c4[_0xee7b10(0x1a9)](isNotUndefined,this[_0xee7b10(0x1cc)])&&(_0x4d94c4[_0xee7b10(0x208)](isUndefined,this[_0xee7b10(0x1cc)][_0xee7b10(0x20f)])||_0x4d94c4[_0xee7b10(0x1a9)](isTrueString,this['config'][_0xee7b10(0x20f)])),_0x7cc4ed=this['orchestrationUtils'][_0xee7b10(0x1cd)](),_0x3e46fa=_0x4d94c4[_0xee7b10(0x1a9)](isNotUndefined,this['config'])&&_0x4d94c4[_0xee7b10(0x208)](isNotUndefined,this[_0xee7b10(0x1cc)][_0xee7b10(0x1b4)]),_0x29d76f=_0x4d94c4[_0xee7b10(0x1a9)](isNotUndefined,this[_0xee7b10(0x1cc)])&&_0x4d94c4['PWmAJ'](isNotUndefined,this[_0xee7b10(0x1cc)][_0xee7b10(0x1e1)]);return _0x4d94c4[_0xee7b10(0x1e0)](_0x8a6bb6,_0x7cc4ed)&&_0x3e46fa&&_0x29d76f;}[a121_0x5aae69(0x1e3)](){const _0x42e70c=a121_0x5aae69,_0x4a8683={};_0x4a8683['mshbH']=_0x42e70c(0x1b3),_0x4a8683['eYCjD']=_0x42e70c(0x1bb);const _0x8da0ea=_0x4a8683;this[_0x42e70c(0x1db)]()?(this[_0x42e70c(0x1b2)]=new TestOrderingServerHandler(this['config']),logger[_0x42e70c(0x1c1)](_0x8da0ea[_0x42e70c(0x1c3)])):(logger[_0x42e70c(0x1b7)](_0x8da0ea[_0x42e70c(0x200)]),this[_0x42e70c(0x1a2)]());}[a121_0x5aae69(0x1a2)](){const _0x25f1df=a121_0x5aae69,_0x56db57={'GoiKm':function(_0x3e861d,_0x56e526){return _0x3e861d(_0x56e526);},'uYGUo':function(_0x4b7aed,_0x219113){return _0x4b7aed(_0x219113);},'AhBiy':function(_0x5c02ba,_0x293c46){return _0x5c02ba(_0x293c46);},'yQtwz':'Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','vjGGB':function(_0x51b2c1,_0x18d707){return _0x51b2c1(_0x18d707);},'zZmEf':'Test\x20Reordering\x20is\x20unavailable\x20because\x20testObservability\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.'};if(!this[_0x25f1df(0x1a5)]())return;(!_0x56db57['GoiKm'](isNotUndefined,this[_0x25f1df(0x1cc)])||!_0x56db57[_0x25f1df(0x1f3)](isNotUndefined,this[_0x25f1df(0x1cc)][_0x25f1df(0x1e1)])||!_0x56db57['AhBiy'](isNotUndefined,this['config']['projectName']))&&logger[_0x25f1df(0x1c1)](_0x56db57[_0x25f1df(0x205)]),_0x56db57[_0x25f1df(0x1ba)](isNotUndefined,this['config'])&&_0x56db57['uYGUo'](isNotUndefined,this[_0x25f1df(0x1cc)][_0x25f1df(0x20f)])&&!_0x56db57[_0x25f1df(0x1fd)](isTrueString,this[_0x25f1df(0x1cc)][_0x25f1df(0x20f)])&&logger[_0x25f1df(0x1c1)](_0x56db57[_0x25f1df(0x1a3)]);}[a121_0x5aae69(0x1a5)](){const _0x388611=a121_0x5aae69;return!this['isTestOrchestrationEnabled']()&&this[_0x388611(0x1d6)][_0x388611(0x1cd)]();}['isTestOrderingApplied'](){const _0x54ddbd=a121_0x5aae69;return this[_0x54ddbd(0x20d)];}[a121_0x5aae69(0x203)](_0x58c84c){const _0x3b1a02=a121_0x5aae69,_0x19758f={};_0x19758f[_0x3b1a02(0x1b0)]=_0x3b1a02(0x1ea);const _0x429b91=_0x19758f;this[_0x3b1a02(0x20d)]=_0x58c84c,this[_0x3b1a02(0x1be)](_0x429b91[_0x3b1a02(0x1b0)],_0x58c84c);}[a121_0x5aae69(0x1be)](_0x54f008,_0xaa8d4a){const _0x596940=a121_0x5aae69;this[_0x596940(0x206)][_0x54f008]=_0xaa8d4a;}[a121_0x5aae69(0x1f6)](){const _0x164d91=a121_0x5aae69;return this[_0x164d91(0x206)];}['updateBuildIdentifier'](){const _0x38c6de=a121_0x5aae69,_0x1d0730={'Zrwop':function(_0xcf5a17,_0x467f2a){return _0xcf5a17(_0x467f2a);},'VmcxA':function(_0x155b99,_0x397d37){return _0x155b99>_0x397d37;}},_0x40b269=_0x1d0730['Zrwop'](parseInt,process[_0x38c6de(0x207)][_0x38c6de(0x1d4)]||'1'),_0x1f803e=process[_0x38c6de(0x207)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'];_0x1f803e&&_0x1d0730[_0x38c6de(0x1b8)](_0x40b269,0x1)&&(logger[_0x38c6de(0x1b7)]('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0x1f803e),this[_0x38c6de(0x1cc)][_0x38c6de(0x1a1)]=_0x1f803e);}async[a121_0x5aae69(0x1bc)](_0x1b312d){const _0x1b2b3b=a121_0x5aae69,_0x6f80fc={'JrLgi':function(_0x4f99be,_0x325087){return _0x4f99be===_0x325087;},'jYyqZ':function(_0x30ea26,_0x2fbcc5){return _0x30ea26===_0x2fbcc5;},'fhxiu':'[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','oPHAk':function(_0x33067d,_0x2f77c3){return _0x33067d===_0x2f77c3;},'USBTl':function(_0x3dbcfc,_0x35fb46){return _0x3dbcfc(_0x35fb46);},'tGvZt':_0x1b2b3b(0x1a7),'pRVSX':_0x1b2b3b(0x1fb),'hbuXG':_0x1b2b3b(0x204),'mcseX':'downloadedTestFilesCount','rGcTI':_0x1b2b3b(0x1d9)};try{if(!_0x1b312d||!Array[_0x1b2b3b(0x1b9)](_0x1b312d)||_0x6f80fc[_0x1b2b3b(0x1c7)](_0x1b312d['length'],0x0))return null;if(_0x6f80fc[_0x1b2b3b(0x1ca)](this[_0x1b2b3b(0x1db)](),![]))return logger[_0x1b2b3b(0x1b7)](_0x6f80fc[_0x1b2b3b(0x1e8)]),null;let _0xfed92b=null;const _0x396562=this['orchestrationUtils'][_0x1b2b3b(0x1b5)]();if(this[_0x1b2b3b(0x1b2)]){const _0x4e236a=await this[_0x1b2b3b(0x1b2)][_0x1b2b3b(0x1cf)](_0x1b312d,_0x396562);if(!_0x4e236a)return null;_0xfed92b=await this[_0x1b2b3b(0x1b2)][_0x1b2b3b(0x1c8)](_0x4e236a);}if(!_0xfed92b||!Array['isArray'](_0xfed92b)||_0x6f80fc['oPHAk'](_0xfed92b[_0x1b2b3b(0x1f7)],0x0))return null;const _0x3590ce=_0x6f80fc[_0x1b2b3b(0x1a4)](parseInt,process[_0x1b2b3b(0x207)][_0x1b2b3b(0x1dc)]||'0'),_0x549e4d=_0x6f80fc['USBTl'](parseInt,process[_0x1b2b3b(0x207)][_0x1b2b3b(0x1d4)]||'1');return this[_0x1b2b3b(0x1be)](_0x6f80fc['tGvZt'],_0x1b312d[_0x1b2b3b(0x1f7)]),this[_0x1b2b3b(0x1be)](_0x6f80fc[_0x1b2b3b(0x1c2)],_0x3590ce),this[_0x1b2b3b(0x1be)](_0x6f80fc[_0x1b2b3b(0x1bf)],_0x549e4d),this['addToOrderingInstrumentationData'](_0x6f80fc[_0x1b2b3b(0x1c5)],_0xfed92b[_0x1b2b3b(0x1f7)]),this['addToOrderingInstrumentationData'](_0x6f80fc[_0x1b2b3b(0x1f8)],this[_0x1b2b3b(0x1b2)]?this[_0x1b2b3b(0x1b2)][_0x1b2b3b(0x20e)]():0x0),_0xfed92b[_0x1b2b3b(0x1da)](_0x3badd9=>sanitizedFilePath(_0x3badd9));}catch(_0x507921){return logger['debug']('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x507921[_0x1b2b3b(0x1ed)]||_0x507921[_0x1b2b3b(0x1d0)]())),null;}}async[a121_0x5aae69(0x1f0)](_0x28bd8c,_0x43d24a,_0x12379f){const _0x187f70=a121_0x5aae69,_0x3ea532={'WkTqE':function(_0x206c26,_0x2d279d){return _0x206c26(_0x2d279d);},'hkgON':_0x187f70(0x1d3),'QbTsU':function(_0x582d57,_0x781ec0){return _0x582d57(_0x781ec0);},'oKQYP':_0x187f70(0x1ce),'kqjyf':_0x187f70(0x1d2),'arjRs':function(_0x5d1543,_0x1db0dc){return _0x5d1543(_0x1db0dc);},'nifzk':'glob','lcnSh':'**/__tests__/**/*.[jt]s?(x)','HVxEe':_0x187f70(0x1a6),'uGtzU':function(_0x5b694a,_0x1f8cba,_0x3b2b7d,_0x31bdc9){return _0x5b694a(_0x1f8cba,_0x3b2b7d,_0x31bdc9);},'iGatR':'npx','QyXYF':_0x187f70(0x1df),'nDdfH':_0x187f70(0x1ff),'IdQNX':_0x187f70(0x1f1),'QFSOG':_0x187f70(0x1c9)};try{const {getTestPathPatterns:_0x45e58a}=_0x3ea532[_0x187f70(0x1d7)](require,_0x3ea532[_0x187f70(0x1c4)]),{globsToMatcher:_0x28315b}=_0x3ea532[_0x187f70(0x1f5)](require,_0x3ea532[_0x187f70(0x1d1)]),{findRelatedTests:_0x5c5800}=_0x3ea532[_0x187f70(0x1d7)](require,_0x3ea532[_0x187f70(0x1de)]),_0x181287=_0x3ea532[_0x187f70(0x1ac)](require,_0x3ea532[_0x187f70(0x210)]),_0x50cbd0=_0x28bd8c[_0x187f70(0x1fe)]||[_0x3ea532[_0x187f70(0x1aa)],_0x3ea532[_0x187f70(0x1dd)]],_0x5b04d1=_0x28bd8c[_0x187f70(0x1af)]||[],_0x4dfad3=_0x3ea532[_0x187f70(0x1b6)](spawnSync,_0x3ea532[_0x187f70(0x1fa)],[_0x3ea532[_0x187f70(0x1ec)],_0x3ea532[_0x187f70(0x1c6)],_0x12379f,..._0x43d24a,_0x3ea532[_0x187f70(0x1ab)]],{'encoding':_0x3ea532[_0x187f70(0x1cb)]});let _0x11714b=[];!_0x4dfad3['error']&&(_0x11714b=_0x4dfad3[_0x187f70(0x1ad)][_0x187f70(0x1e5)]('\x0a')['filter'](Boolean));logger[_0x187f70(0x1b7)](_0x187f70(0x1e2)+JSON[_0x187f70(0x20b)](_0x11714b)+_0x187f70(0x1eb));const _0x45698e={};_0x45698e['matchBase']=!![],_0x45698e[_0x187f70(0x1bd)]=_0x5b04d1;const _0x3dd22f=_0x3ea532[_0x187f70(0x1b6)](micromatch,_0x11714b,_0x50cbd0,_0x45698e)[_0x187f70(0x1da)](_0x14cf93=>path['relative'](_0x28bd8c['rootDir'],_0x14cf93));return logger[_0x187f70(0x1b7)](_0x187f70(0x1b1)+JSON['stringify'](_0x3dd22f)+_0x187f70(0x1eb)),_0x3dd22f;}catch(_0x2edf3a){return logger['debug'](_0x187f70(0x1e6)+_0x2edf3a),[];}}}function a121_0x1994(_0x109ce6,_0x2117f6){const _0x21dbb8=a121_0x21db();return a121_0x1994=function(_0x19942b,_0x2eae48){_0x19942b=_0x19942b-0x1a1;let _0x12cd4a=_0x21dbb8[_0x19942b];return _0x12cd4a;},a121_0x1994(_0x109ce6,_0x2117f6);}module['exports']=TestOrchestrationHandler;