const a81_0x4d3328=a81_0x4b83;function a81_0x354f(){const _0x203f35=['length','stop','kuwAh','true','NkYer','Percy\x20started\x20successfully','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','isAuthenticated','isTrialGrid','HUB_MANAGEMENT','KkoXo','ioUlX','measureWrapper','ORPBH','33olHVmr','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','codeceptjs','tcgAuthConfig','SIGBREAK','bJbXS','skipSessionName','warn','includes','finalize','Percy\x20stopped','cancel','qUCHG','killSignal','fpgHr','eKDXP','xBVTO','path','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','skipBinaryInitialisation','statusCode','win32','JerHM','status','sMpgJ','hubUrl','bstackConfig','getUserName','TGAWY','teQxT','TCG_AUTH_FAILURE','split','fileLogger','setupTCGAuth','AIKlg','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','kjzXb','browserStackLocalOptions','../bin/utils/constants','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','BrowserstackHealing.init\x20method\x20timed\x20out','dwTYP','unhandledErrors','custom-repeater','EHuys','platform','200128hzmPlp','TCG_DOWN','SIGHUP','3|5|4|2|1|7|6|0','./utilities','startLocalBinary','./logger','exceptions','fireFunnelTestEvent','setProxySettings','4.5.0','config','jnhUH','IFjjD','sdkRunId','intExitHandler','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','accessKey','setUpHubUrl','getConfigPath','msPMt','./performance/constants','IdxQv','getInstance','SIGQUIT','stopPercy','7158924VsvvNq','963aEVHbx','WwJWF','JUTEq','AUTOLOGCAPTURE_NOTIFICATION','init','\x20with\x20response\x20','forceLocal','userName','wBPiu','stringify','uoNJM','XRIvg','cliConfig','AzEHJ','Error\x20occured\x20while\x20stopping\x20percy','sbxtN','BROWSERSTACK_PERCY','Coknw','stopLocalBinary','browserstackLocal','RRTgn','getPackageVersion','ijFkg','turboScaleOptions','vBKyn','stpqX','getHubUrl','INVALID_INIT_RESP_WITH_USER_IMPACT','../hubAllocationMethods','info','getProxyConfigForTcg','auhhg','skipSessionStatus','OCDJd','generateLocalIdentifier','mcGje','oGhNK','ajAEz','userName\x20or\x20accessKey\x20is\x20not\x20defined','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','percy','LtihK','TCG_AUTH_TIMEOUT','SrVHY','toLowerCase','NjQdK','customRepeaters','getAccessKey','stopBrowserstackLocal','NuyTp','QMlXq','BrowserstackHealing.init','sendToEDS','Iiwqj','getLocalConfig','version','SIGTERM','isNotUndefined','SIGABRT','fXiTg','SDK_CLEANUP','Error\x20in\x20sending\x20testhub\x20stop:\x20','DOPCp','108jAyYYw','setCredentialsFromYmlConfig','./percy/utils','message','platforms','33040AVzixp','LpGtl','format','oXJxA','QwwBU','2DkRslF','setEnvCaps','FRAMEWORK','jngLU','isEnabled','startMonitoring','SJcBT','unhandledRejection','join','Tkijq','ats-repeater','push','allocateHub','false','parallelsPerPlatform','exitHandler','eNaEz','utbvN','startPercy','getLocalIdentifier','setBrowserstackInfraFromConfig','disableAutoCaptureLogs','UPGRADE_REQUIRED','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','hZTar','1458490vPBIMh','race','getCentralUser','AI_PROXY_FAILURE','beforeExit','NsfyT','AxKSH','preInitialize','central_scanner','cGEia','AsBaI','Data\x20sent\x20successfully\x20to\x20','turboScaleGridDetails','isHealingEnabled','11384pyafLt','proxyConfig','testContextOptions','1219794KKrIYw','Error\x20in\x20writing\x20events\x20to\x20file\x20','./testhub/testhubHandler','isTurboScaleSession','writeFileSync','default','isBrowserstackInfra','env','error','useW3C','797069tFooZc','nujKx','handled','HQtHs','framework','Calling\x20Build\x20Stop\x20from\x20ExitHandler','isUndefined','localIdentifier','Failed\x20to\x20send\x20data\x20to\x20','../bin/v2/browserstackCLI','ezlON','isTrue','bind','setupBrowserstackLocal','setupTcgConfigFile','winstonLogger','./setKeepAlive','selfHeal','assign','XMBJh','setLogLevel','sanitizeCaps','SDK\x20run\x20started\x20with\x20id:\x20','EDS_URL','No\x20config\x20provided.','url','SDKTestAttempted','isRunning','Error\x20occured\x20while\x20stopping\x20local\x20binary','envConfig','playwrightUrl','JPlXp','zAFLx','10RRUxck','handleExceptions','close','YGFfM','Local\x20binary\x20stopped','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','\x20with\x20error\x20','zJoTe','debug','TCG_URL','turboScaleUrl','BROWSERSTACK_TURBOSCALE'];a81_0x354f=function(){return _0x203f35;};return a81_0x354f();}(function(_0x3ad0fc,_0x46f4bc){const _0x1483ce=a81_0x4b83,_0xa9545a=_0x3ad0fc();while(!![]){try{const _0xf9c377=-parseInt(_0x1483ce(0x120))/0x1*(parseInt(_0x1483ce(0x1bd))/0x2)+-parseInt(_0x1483ce(0x116))/0x3*(-parseInt(_0x1483ce(0x11b))/0x4)+-parseInt(_0x1483ce(0x175))/0x5*(-parseInt(_0x1483ce(0x14a))/0x6)+parseInt(_0x1483ce(0x154))/0x7+-parseInt(_0x1483ce(0x147))/0x8*(parseInt(_0x1483ce(0x1d8))/0x9)+-parseInt(_0x1483ce(0x139))/0xa*(-parseInt(_0x1483ce(0x18f))/0xb)+-parseInt(_0x1483ce(0x1d7))/0xc;if(_0xf9c377===_0x46f4bc)break;else _0xa9545a['push'](_0xa9545a['shift']());}catch(_0x23d963){_0xa9545a['push'](_0xa9545a['shift']());}}}(a81_0x354f,0x4ace6));const util=require('util'),os=require('os'),path=require(a81_0x4d3328(0x1a0)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a81_0x4d3328(0x1b5)),logger=require(a81_0x4d3328(0x1c3))[a81_0x4d3328(0x163)],fileLogger=require(a81_0x4d3328(0x1c3))[a81_0x4d3328(0x1af)],{getLogDir}=require(a81_0x4d3328(0x1c3)),helper=require('./helper'),utilities=require(a81_0x4d3328(0x1c1)),percyHelper=require(a81_0x4d3328(0x118)),hubAllocator=require(a81_0x4d3328(0x1f4)),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a81_0x4d3328(0x1d2)),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require(a81_0x4d3328(0x14c)),timeoutPromise=require('./timeoutPromise'),BrowserstackCLI=require(a81_0x4d3328(0x15d));function a81_0x4b83(_0x486933,_0xe6afeb){const _0x354fa2=a81_0x354f();return a81_0x4b83=function(_0x4b8347,_0x411f6b){_0x4b8347=_0x4b8347-0x114;let _0x20f9cb=_0x354fa2[_0x4b8347];return _0x20f9cb;},a81_0x4b83(_0x486933,_0xe6afeb);}class BrowserStackSetup{constructor(_0x5a02e2,_0x2d964e){const _0x20dae6=a81_0x4d3328,_0x52c9b4={'dkWYC':'7|10|11|21|20|13|15|4|2|17|3|12|5|6|1|9|16|18|8|19|0|14','msPMt':_0x20dae6(0x16c),'IFjjD':function(_0x4b2ad1){return _0x4b2ad1();}},_0x149f3e=_0x52c9b4['dkWYC']['split']('|');let _0x4e33af=0x0;while(!![]){switch(_0x149f3e[_0x4e33af++]){case'0':helper[_0x20dae6(0x168)](this[_0x20dae6(0x1c8)],this[_0x20dae6(0x1e4)],this[_0x20dae6(0x171)]);continue;case'1':helper[_0x20dae6(0x134)](this[_0x20dae6(0x1c8)],this[_0x20dae6(0x1e4)]);continue;case'2':this['errorMessage']={};continue;case'3':this['framework']=_0x2d964e;continue;case'4':this[_0x20dae6(0x1c8)][_0x20dae6(0x149)]=this['config'][_0x20dae6(0x149)]||{};continue;case'5':if(helper['isUndefined'](this[_0x20dae6(0x1c8)]))throw new Error(_0x52c9b4[_0x20dae6(0x1d1)]);continue;case'6':if(this['config'][_0x20dae6(0x152)])throw new Error(this[_0x20dae6(0x1c8)]['error']);continue;case'7':this[_0x20dae6(0x1b9)]=[];continue;case'8':helper['getFinalCaps'](this[_0x20dae6(0x1c8)],this[_0x20dae6(0x1e4)],this[_0x20dae6(0x171)]);continue;case'9':helper[_0x20dae6(0x117)](this['config']);continue;case'10':this[_0x20dae6(0x1e4)]=helper['setCLICaps'](_0x5a02e2);continue;case'11':this[_0x20dae6(0x171)]=helper[_0x20dae6(0x121)]();continue;case'12':global[_0x20dae6(0x158)]=_0x2d964e;continue;case'13':this[_0x20dae6(0x1c8)]=helper['readConfig'](helper[_0x20dae6(0x1d0)](_0x5a02e2));continue;case'14':PerformanceTester[_0x20dae6(0x125)]();continue;case'15':this[_0x20dae6(0x1c8)][_0x20dae6(0x11a)]=this[_0x20dae6(0x1c8)][_0x20dae6(0x11a)]||[];continue;case'16':this[_0x20dae6(0x1c8)][_0x20dae6(0x149)][_0x20dae6(0x1f8)]=!helper[_0x20dae6(0x150)]()||helper[_0x20dae6(0x15f)](this[_0x20dae6(0x1c8)][_0x20dae6(0x149)][_0x20dae6(0x1f8)]);continue;case'17':this[_0x20dae6(0x1cb)]=_0x52c9b4[_0x20dae6(0x1ca)](uuidv4);continue;case'18':this['config'][_0x20dae6(0x149)][_0x20dae6(0x195)]=!helper['isBrowserstackInfra']()||helper[_0x20dae6(0x15f)](this[_0x20dae6(0x1c8)]['testContextOptions'][_0x20dae6(0x195)]);continue;case'19':helper['setLogDir'](this[_0x20dae6(0x1c8)]);continue;case'20':this[_0x20dae6(0x200)]=null;continue;case'21':this[_0x20dae6(0x1eb)]=null;continue;}break;}}[a81_0x4d3328(0x140)](_0x574a8b){const _0x57ca93=a81_0x4d3328,_0x50f4e3={'nNHbw':_0x57ca93(0x1fe),'mcGje':function(_0x1d3d35,_0x42b351){return _0x1d3d35===_0x42b351;},'QwwBU':function(_0x5fe6b7,_0x2aaa1b){return _0x5fe6b7===_0x2aaa1b;},'Tkijq':'integrations','auhhg':_0x57ca93(0x16e),'NjQdK':function(_0x406241,_0x343184){return _0x406241<_0x343184;},'EIVuP':function(_0x1636b7,_0x242891){return _0x1636b7(_0x242891);},'iVARY':'selenium-webdriver','xBVTO':_0x57ca93(0x1c7),'FUgmZ':_0x57ca93(0x1b2),'QMlXq':_0x57ca93(0x190),'nujKx':_0x57ca93(0x210),'AsBaI':'SIGINT','KkoXo':_0x57ca93(0x1bf),'XRIvg':function(_0x1f3aef,_0x273f4f){return _0x1f3aef!==_0x273f4f;},'uoNJM':_0x57ca93(0x1a4),'DOPCp':_0x57ca93(0x212),'stpqX':_0x57ca93(0x1d5),'JerHM':_0x57ca93(0x193),'ezlON':_0x57ca93(0x13d)},_0xb1a5c5=this[_0x57ca93(0x158)];global[_0x57ca93(0x1c8)]=this[_0x57ca93(0x1c8)],helper[_0x57ca93(0x169)](this['config']),this[_0x57ca93(0x19c)]=null,global[_0x57ca93(0x1cb)]=this[_0x57ca93(0x1cb)],logger[_0x57ca93(0x1f5)](_0x57ca93(0x16a)+this[_0x57ca93(0x1cb)]),!this[_0x57ca93(0x1c8)][_0x57ca93(0x1b4)]&&(this[_0x57ca93(0x1c8)][_0x57ca93(0x1b4)]=this['config']['localOptions']||{});if(helper[_0x57ca93(0x15a)](helper[_0x57ca93(0x1aa)](this[_0x57ca93(0x1c8)]))||helper[_0x57ca93(0x15a)](helper[_0x57ca93(0x207)](this[_0x57ca93(0x1c8)])))throw new Error(_0x50f4e3['nNHbw']);helper[_0x57ca93(0x20e)](this['config'])&&helper[_0x57ca93(0x15a)](helper[_0x57ca93(0x133)](this[_0x57ca93(0x1c8)]))&&(!helper[_0x57ca93(0x15a)](this[_0x57ca93(0x1c8)]['browserStackLocalOptions'])&&_0x50f4e3[_0x57ca93(0x1fb)](this[_0x57ca93(0x1c8)]['browserStackLocalOptions']['constructor'],Object)?!helper['isTrue'](this['config'][_0x57ca93(0x1b4)][_0x57ca93(0x1a2)])&&(this[_0x57ca93(0x1c8)]['browserStackLocalOptions'][_0x57ca93(0x15b)]=helper[_0x57ca93(0x1fa)]()):this[_0x57ca93(0x1c8)]['browserStackLocalOptions']={'localIdentifier':helper[_0x57ca93(0x1fa)]()});this[_0x57ca93(0x1c8)][_0x57ca93(0x1b4)][_0x57ca93(0x1a2)]=helper[_0x57ca93(0x15f)](this[_0x57ca93(0x1c8)][_0x57ca93(0x1b4)]['skipBinaryInitialisation']),helper['setHandlePWError'](this[_0x57ca93(0x1c8)]);if(_0x50f4e3[_0x57ca93(0x11f)](_0xb1a5c5,_0x50f4e3[_0x57ca93(0x129)]))return;this[_0x57ca93(0x176)]();process['env'][_0x57ca93(0x180)]&&(this[_0x57ca93(0x1c8)]['turboScale']=helper[_0x57ca93(0x15f)](process[_0x57ca93(0x151)][_0x57ca93(0x180)]),this[_0x57ca93(0x1c8)]['turboScaleOptions']=this[_0x57ca93(0x1c8)][_0x57ca93(0x1ef)]||{});helper[_0x57ca93(0x14d)](this[_0x57ca93(0x1c8)])&&(process['env'][_0x57ca93(0x180)]=!![]);if(!helper[_0x57ca93(0x150)]()){try{process['env'][_0x57ca93(0x122)]=_0xb1a5c5,utilities[_0x57ca93(0x1c5)](_0x50f4e3['auhhg'],{},this['config'],this[_0x57ca93(0x158)]);}catch(_0x1aaa62){logger[_0x57ca93(0x17d)](_0x57ca93(0x187)+_0x1aaa62);}return;}helper['requireSeleniumWebdriverCheck'](_0xb1a5c5)&&(_0x50f4e3[_0x57ca93(0x205)](_0x50f4e3['EIVuP'](parseInt,helper[_0x57ca93(0x1ed)](_0x50f4e3['iVARY'])),0x3)&&(this[_0x57ca93(0x1c8)][_0x57ca93(0x153)]=![]),_0x50f4e3[_0x57ca93(0x1fb)](helper['compareVersions'](helper[_0x57ca93(0x1ed)](_0x50f4e3['iVARY']),_0x50f4e3[_0x57ca93(0x19f)]),0x1)&&(this['config']['useW3C']=!![]));(helper[_0x57ca93(0x15a)](this['config'][_0x57ca93(0x11a)])||helper['isUndefined'](this[_0x57ca93(0x1c8)][_0x57ca93(0x11a)][_0x57ca93(0x181)]))&&(helper[_0x57ca93(0x15a)](this['config'][_0x57ca93(0x12e)])?logger['info'](_0x50f4e3['FUgmZ']):logger[_0x57ca93(0x196)](_0x50f4e3[_0x57ca93(0x20a)]),this[_0x57ca93(0x1c8)][_0x57ca93(0x11a)]=[]);!this[_0x57ca93(0x1c8)]['testContextOptions']&&(this['config']['testContextOptions']={});try{process['env']['FRAMEWORK']=_0x574a8b['_'][0x0],utilities[_0x57ca93(0x1c5)](_0x50f4e3[_0x57ca93(0x1f7)],{},this[_0x57ca93(0x1c8)],this['framework']);}catch(_0x2becf2){logger[_0x57ca93(0x17d)](_0x57ca93(0x187)+_0x2becf2);}!this[_0x57ca93(0x1c8)][_0x57ca93(0x135)]&&logger[_0x57ca93(0x1f5)](constants[_0x57ca93(0x1db)]),this[_0x57ca93(0x1cc)]=this['intExitHandler'][_0x57ca93(0x160)](this),process['on'](_0x50f4e3[_0x57ca93(0x155)],this[_0x57ca93(0x1cc)]),process['on'](_0x50f4e3[_0x57ca93(0x143)],this['intExitHandler']),process['on'](_0x50f4e3[_0x57ca93(0x18b)],this[_0x57ca93(0x1cc)]),_0x50f4e3[_0x57ca93(0x1e3)](process['platform'],_0x50f4e3[_0x57ca93(0x1e2)])?(process['on'](_0x50f4e3[_0x57ca93(0x115)],this['intExitHandler']),process['on'](_0x50f4e3[_0x57ca93(0x1f1)],this[_0x57ca93(0x1cc)])):process['on'](_0x50f4e3[_0x57ca93(0x1a5)],this[_0x57ca93(0x1cc)]),process['on'](_0x50f4e3[_0x57ca93(0x15e)],this['exitHandler']());}async['initialize'](_0x5ba5c8){const _0x784025=a81_0x4d3328,_0xc52f2f={'PlIti':_0x784025(0x12a),'HQtHs':_0x784025(0x1ba),'oXJxA':'true','GZqOh':function(_0x1cbc6e,_0x180106){return _0x1cbc6e===_0x180106;},'NuyTp':'playwright','jngLU':function(_0xce618f,_0x411801){return _0xce618f+_0x411801;},'ioUlX':'?caps=','YGFfM':function(_0x49ee59,_0x203add){return _0x49ee59(_0x203add);},'fXiTg':_0x784025(0x191)};this[_0x784025(0x140)](_0x5ba5c8);if(helper['isTurboScaleSession'](this[_0x784025(0x1c8)])){const _0x2fb7bf=await helper['getTurboScaleGridDetails'](this[_0x784025(0x1c8)]);this[_0x784025(0x1c8)][_0x784025(0x145)]=_0x2fb7bf,_0x2fb7bf[_0x784025(0x189)]&&helper[_0x784025(0x211)](this[_0x784025(0x1c8)]['browserstackLocal'])&&helper[_0x784025(0x15f)](this[_0x784025(0x1c8)][_0x784025(0x1eb)])&&(this[_0x784025(0x1c8)][_0x784025(0x1b4)][_0x784025(0x15b)]=_0xc52f2f['PlIti'],this[_0x784025(0x1c8)][_0x784025(0x1b4)][_0xc52f2f[_0x784025(0x157)]]=_0x2fb7bf[_0x784025(0x206)][_0x784025(0x128)](','),this['config'][_0x784025(0x1b4)][_0x784025(0x1de)]=_0xc52f2f[_0x784025(0x11e)]),this[_0x784025(0x1c8)][_0x784025(0x17f)]=_0x2fb7bf[_0x784025(0x16d)],this[_0x784025(0x158)]&&_0xc52f2f['GZqOh'](this[_0x784025(0x158)][_0x784025(0x204)](),_0xc52f2f[_0x784025(0x209)])&&(this[_0x784025(0x1c8)][_0x784025(0x17f)]=_0xc52f2f[_0x784025(0x123)](_0x2fb7bf[_0x784025(0x172)],_0xc52f2f[_0x784025(0x18c)])),constants[_0x784025(0x1a8)]=helper[_0x784025(0x1f2)](this[_0x784025(0x1c8)]),logger[_0x784025(0x17d)](_0x784025(0x1a1)+constants[_0x784025(0x1a8)]);}helper[_0x784025(0x1c6)](this['config']),this['setupKeepAlive'](),_0xc52f2f[_0x784025(0x178)](setPercyFlag,this),await this[_0x784025(0x161)](),![_0xc52f2f[_0x784025(0x213)],_0xc52f2f[_0x784025(0x209)]][_0x784025(0x197)](this['framework'])&&!helper['isTurboScaleSession'](this['config'])&&!helper[_0x784025(0x13b)]()[_0x784025(0x141)]&&await this['setUpHubUrl']();}async['setupPercy'](){const _0x15c89f=a81_0x4d3328,_0x56a22b={};_0x56a22b['oGhNK']=function(_0x1cf4f3,_0x5ea9d9){return _0x1cf4f3===_0x5ea9d9;},_0x56a22b[_0x15c89f(0x1ac)]=_0x15c89f(0x12d),_0x56a22b[_0x15c89f(0x142)]=_0x15c89f(0x1b6),_0x56a22b[_0x15c89f(0x126)]=_0x15c89f(0x186),_0x56a22b['vBKyn']=_0x15c89f(0x184),_0x56a22b[_0x15c89f(0x1bb)]=_0x15c89f(0x13d);const _0x316b37=_0x56a22b;if(helper['isTrue'](this[_0x15c89f(0x1c8)]['percy'])&&(!this['percy']||!this[_0x15c89f(0x200)][_0x15c89f(0x16f)]()))try{this[_0x15c89f(0x200)]=await percyHelper[_0x15c89f(0x132)](this['config']);if(!this['percy']){process[_0x15c89f(0x151)][_0x15c89f(0x1e8)]=_0x316b37[_0x15c89f(0x1ac)];throw new Error(_0x316b37['cGEia']);}logger['info'](_0x316b37[_0x15c89f(0x126)]),process[_0x15c89f(0x151)]['BROWSERSTACK_PERCY']=_0x316b37[_0x15c89f(0x1f0)];let _0x37cd68=0x0;const _0x3a65fe=async()=>{const _0x2b0569=_0x15c89f;_0x37cd68++,_0x316b37[_0x2b0569(0x1fc)](_0x37cd68,0x1)&&await this[_0x2b0569(0x1d6)]();};process['on'](_0x316b37[_0x15c89f(0x1bb)],_0x3a65fe);}catch(_0x55bdb6){process[_0x15c89f(0x151)]['BROWSERSTACK_PERCY']=_0x316b37[_0x15c89f(0x1ac)],logger[_0x15c89f(0x17d)]('Error\x20in\x20percy\x20setup\x20'+_0x55bdb6);throw new Error(_0x55bdb6['toString']());}}async[a81_0x4d3328(0x1d6)](){const _0x3a7472=a81_0x4d3328,_0x12ff10={};_0x12ff10[_0x3a7472(0x19d)]=_0x3a7472(0x199),_0x12ff10[_0x3a7472(0x183)]=_0x3a7472(0x1e6);const _0x501cd1=_0x12ff10;if(this['percy']&&this[_0x3a7472(0x200)][_0x3a7472(0x16f)]())try{await percyHelper[_0x3a7472(0x1d6)](this[_0x3a7472(0x200)]),logger[_0x3a7472(0x1f5)](_0x501cd1[_0x3a7472(0x19d)]);}catch(_0xa8a137){logger[_0x3a7472(0x152)](_0x501cd1[_0x3a7472(0x183)],_0xa8a137[_0x3a7472(0x119)]);}}async['setupBrowserstackLocal'](){const _0x175194=a81_0x4d3328,_0x214f96={};_0x214f96[_0x175194(0x174)]=_0x175194(0x17a),_0x214f96[_0x175194(0x167)]='Local\x20binary\x20started\x20successfully';const _0x363b96=_0x214f96;if(helper['isBrowserstackInfra']()&&helper['isTrue'](this[_0x175194(0x1c8)]['browserstackLocal'])&&(!this['browserstackLocal']||!this[_0x175194(0x1eb)][_0x175194(0x16f)]()))try{if(this[_0x175194(0x1c8)][_0x175194(0x1b4)]['skipBinaryInitialisation']){logger[_0x175194(0x17d)](_0x363b96[_0x175194(0x174)]);return;}this[_0x175194(0x1eb)]=await helper[_0x175194(0x1c2)](this['config']),logger[_0x175194(0x1f5)](_0x363b96[_0x175194(0x167)]);}catch(_0x350ee0){logger[_0x175194(0x17d)](_0x350ee0);throw new Error(_0x350ee0['toString']());}}async['stopBrowserstackLocal'](){const _0xa36a59=a81_0x4d3328,_0x10a9a0={};_0x10a9a0['sMpgJ']=_0xa36a59(0x179),_0x10a9a0[_0xa36a59(0x201)]=_0xa36a59(0x170);const _0x440c4f=_0x10a9a0;if(this[_0xa36a59(0x1eb)]&&this[_0xa36a59(0x1eb)][_0xa36a59(0x16f)]())try{await helper[_0xa36a59(0x1ea)](this[_0xa36a59(0x1eb)]),logger[_0xa36a59(0x1f5)](_0x440c4f[_0xa36a59(0x1a7)]);}catch(_0xa73526){logger[_0xa36a59(0x152)](_0x440c4f[_0xa36a59(0x201)],_0xa73526['message']);}}async[a81_0x4d3328(0x1cf)](){const _0x5e6d5f=a81_0x4d3328;return PerformanceTester[_0x5e6d5f(0x18d)](PerformanceAutEvents[_0x5e6d5f(0x18a)],async()=>{const _0x112eb9=_0x5e6d5f;await hubAllocator[_0x112eb9(0x12c)](this[_0x112eb9(0x1c8)]);})();}async[a81_0x4d3328(0x1b0)](){const _0x691276=a81_0x4d3328,_0x3881f1={'GtZhf':function(_0x2cc518,_0x38dc5d){return _0x2cc518(_0x38dc5d);},'jnhUH':'../ai-sdk-node/bundle','WwJWF':function(_0x5dea90,_0x4749d7,_0x332810,_0x19c302,_0x24f850,_0x245e55,_0x1f0f8f){return _0x5dea90(_0x4749d7,_0x332810,_0x19c302,_0x24f850,_0x245e55,_0x1f0f8f);},'dwTYP':_0x691276(0x1b7),'hZTar':'BrowserstackHealingInitFailed','NkYer':function(_0x52b151,_0x4fe364){return _0x52b151(_0x4fe364);},'wBPiu':'../../package.json','zDnCR':_0x691276(0x20b),'RRTgn':function(_0x598ed5,_0x53ba3e){return _0x598ed5(_0x53ba3e);},'AzEHJ':function(_0x4e7ead,_0x399149){return _0x4e7ead===_0x399149;},'bJbXS':_0x691276(0x184),'ORPBH':function(_0x526f34,_0x176499){return _0x526f34===_0x176499;},'ZKmpv':function(_0x1ebe7f,_0x4f2fac){return _0x1ebe7f===_0x4f2fac;},'qUCHG':_0x691276(0x137),'eNaEz':_0x691276(0x1ff),'BiwiM':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','ajAEz':function(_0x5471d8,_0x34b5ea){return _0x5471d8(_0x34b5ea);},'Coknw':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','JPlXp':function(_0x4c2086,_0x5a28af){return _0x4c2086>=_0x5a28af;},'TGAWY':function(_0x31ace6,_0x535913){return _0x31ace6<_0x535913;},'hdlrn':'tcg\x20config\x20setup\x20successful.','eKDXP':'aiHeal:tcgAuth','AxKSH':function(_0x90c5b1){return _0x90c5b1();}},_0x5bc3f5=PerformanceTester[_0x691276(0x18d)](_0x3881f1[_0x691276(0x19e)],async()=>{const _0x345b6b=_0x691276;try{const _0x1939a9=new Date(),_0x4735d9=helper[_0x345b6b(0x1f6)](this[_0x345b6b(0x1c8)]),_0x2715ca=_0x3881f1['GtZhf'](require,path[_0x345b6b(0x128)](__dirname,_0x3881f1[_0x345b6b(0x1c9)])),_0x291cfd=_0x3881f1[_0x345b6b(0x1d9)](timeoutPromise,constants[_0x345b6b(0x202)],_0x3881f1[_0x345b6b(0x1b8)],_0x3881f1[_0x345b6b(0x138)],_0x1939a9,this[_0x345b6b(0x1c8)],this[_0x345b6b(0x158)]),_0x18c963={'tcgUrl':constants[_0x345b6b(0x17e)],'sdkVersion':_0x3881f1[_0x345b6b(0x185)](require,_0x3881f1[_0x345b6b(0x1e0)])[_0x345b6b(0x20f)],'methodUsed':_0x3881f1['zDnCR'],'proxyConfig':_0x4735d9,'os':os[_0x345b6b(0x1bc)]()};if(_0x4735d9&&_0x4735d9['proxyUrl']){utilities[_0x345b6b(0x1c5)](constants[_0x345b6b(0x13c)],_0x18c963,this[_0x345b6b(0x1c8)],this['framework']);return;}const _0x120afa={};_0x120afa['proxy']=_0x4735d9;const _0x4468a2=await Promise[_0x345b6b(0x13a)]([_0x2715ca[_0x345b6b(0x1dc)](this[_0x345b6b(0x1c8)][_0x345b6b(0x1ce)],this[_0x345b6b(0x1c8)][_0x345b6b(0x1df)],constants[_0x345b6b(0x17e)],_0x3881f1[_0x345b6b(0x1ec)](require,_0x3881f1[_0x345b6b(0x1e0)])[_0x345b6b(0x20f)],_0x120afa)['then'](_0xf991ca=>{const _0x58ca6b=_0x345b6b;return _0x291cfd[_0x58ca6b(0x19a)](),_0xf991ca;}),_0x291cfd]);_0x4468a2[_0x345b6b(0x146)]=_0x3881f1[_0x345b6b(0x1e5)](_0x4468a2['isHealingEnabled'],_0x3881f1[_0x345b6b(0x194)])||_0x3881f1['ORPBH'](_0x4468a2['isHealingEnabled'],!![]);const _0x3e4181=_0x3881f1['ORPBH'](this[_0x345b6b(0x1c8)][_0x345b6b(0x165)],!![])||_0x3881f1['ZKmpv'](this['config'][_0x345b6b(0x165)],_0x3881f1['bJbXS']);if(_0x3881f1['AzEHJ'](_0x4468a2[_0x345b6b(0x119)],constants[_0x345b6b(0x136)])&&_0x3e4181)logger['info'](_0x3881f1[_0x345b6b(0x19b)]);else{if(!_0x4468a2[_0x345b6b(0x188)]&&_0x3881f1[_0x345b6b(0x18e)](_0x4468a2['status'],0x1f7)&&_0x3e4181)logger[_0x345b6b(0x1f5)](_0x3881f1[_0x345b6b(0x130)]),utilities[_0x345b6b(0x1c5)](constants[_0x345b6b(0x1be)],_0x18c963,this[_0x345b6b(0x1c8)],this[_0x345b6b(0x158)]);else{if(!_0x4468a2['isAuthenticated']&&_0x3e4181){logger['info'](_0x3881f1['BiwiM']);const _0x23595d={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x3881f1[_0x345b6b(0x1fd)](require,_0x3881f1[_0x345b6b(0x1e0)])['version'],'methodUsed':_0x3881f1['zDnCR'],'proxyConfig':_0x4735d9,'os':os[_0x345b6b(0x1bc)]()};utilities[_0x345b6b(0x1c5)](constants[_0x345b6b(0x1ad)],_0x23595d,this[_0x345b6b(0x1c8)],this[_0x345b6b(0x158)]);}else{if(_0x4468a2[_0x345b6b(0x188)]&&!_0x4468a2[_0x345b6b(0x146)]&&_0x3e4181)logger['info'](_0x3881f1[_0x345b6b(0x1e9)]);else{if(_0x3881f1[_0x345b6b(0x173)](_0x4468a2[_0x345b6b(0x1a6)],0xc8)&&_0x3881f1[_0x345b6b(0x1ab)](_0x4468a2[_0x345b6b(0x1a6)],0x12c))utilities['fireFunnelTestEvent'](constants['AI_INIT_SUCCESSFUL'],_0x18c963,this[_0x345b6b(0x1c8)],this[_0x345b6b(0x158)]);else{if(_0x3881f1['JPlXp'](_0x4468a2['status'],0x190))_0x18c963[_0x345b6b(0x1a6)]=_0x4468a2['status'],utilities[_0x345b6b(0x1c5)](constants['AI_INIT_FAILURE'],_0x18c963,this['config'],this[_0x345b6b(0x158)]);else!_0x4468a2[_0x345b6b(0x1a6)]&&utilities[_0x345b6b(0x1c5)](constants[_0x345b6b(0x1f3)],_0x18c963,this['config'],this[_0x345b6b(0x158)]);}}}}}if(_0x4468a2[_0x345b6b(0x188)]&&_0x4468a2[_0x345b6b(0x146)]){const _0x231f3a={};_0x231f3a[_0x345b6b(0x192)]=_0x4468a2;const _0xc4e9cb=_0x231f3a;_0x4735d9&&(_0xc4e9cb[_0x345b6b(0x148)]=_0x4735d9),_0xc4e9cb[_0x345b6b(0x158)]=this[_0x345b6b(0x158)],_0xc4e9cb[_0x345b6b(0x1a9)]=this[_0x345b6b(0x1c8)],helper[_0x345b6b(0x162)](_0xc4e9cb),logger[_0x345b6b(0x17d)](_0x3881f1['hdlrn']);}}catch(_0x5ba4f8){logger[_0x345b6b(0x17d)](_0x345b6b(0x1cd)+(_0x5ba4f8[_0x345b6b(0x119)]?_0x5ba4f8[_0x345b6b(0x119)]:''));}});await _0x3881f1[_0x691276(0x13f)](_0x5bc3f5);}['setupKeepAlive'](){const _0x249523=a81_0x4d3328,_0x25ec3c={'OCDJd':function(_0x5ce998,_0x2f5df9){return _0x5ce998(_0x2f5df9);},'zJoTe':_0x249523(0x164)};_0x25ec3c[_0x249523(0x1f9)](require,_0x25ec3c[_0x249523(0x17c)])();}[a81_0x4d3328(0x176)](){const _0x2f4cb7=a81_0x4d3328,_0x1fc2ea={};_0x1fc2ea['IdxQv']=_0x2f4cb7(0x127),_0x1fc2ea['AIKlg']='uncaughtException';const _0x431138=_0x1fc2ea,_0x43688e=_0x6137b3=>{const _0x156aa4=_0x2f4cb7;logger[_0x156aa4(0x152)](_0x6137b3['message']),logger[_0x156aa4(0x17d)](util[_0x156aa4(0x11d)](_0x6137b3)),this[_0x156aa4(0x1b9)][_0x156aa4(0x12b)](util[_0x156aa4(0x11d)]('%j',_0x6137b3)),PerformanceTester['captureError'](_0x6137b3);};process['on'](_0x431138[_0x2f4cb7(0x1d3)],_0x43688e),process['on'](_0x431138[_0x2f4cb7(0x1b1)],_0x43688e);}async['intExitHandler'](_0x1b05fc){const _0xf79dfe=a81_0x4d3328,_0x102677={};_0x102677[_0xf79dfe(0x11c)]=_0xf79dfe(0x1c0),_0x102677[_0xf79dfe(0x131)]=function(_0x45ef5c,_0xa2d0e8){return _0x45ef5c+_0xa2d0e8;},_0x102677[_0xf79dfe(0x20d)]='Shutdown\x20triggered\x20by\x20',_0x102677[_0xf79dfe(0x1b3)]=function(_0x905c9,_0x2351f1){return _0x905c9+_0x2351f1;},_0x102677[_0xf79dfe(0x1ee)]=_0xf79dfe(0x156),_0x102677[_0xf79dfe(0x1da)]=function(_0x1acfd0,_0x3eed6a){return _0x1acfd0+_0x3eed6a;};const _0x3c3ac2=_0x102677,_0x53f6d9=_0x3c3ac2[_0xf79dfe(0x11c)][_0xf79dfe(0x1ae)]('|');let _0x348f94=0x0;while(!![]){switch(_0x53f6d9[_0x348f94++]){case'0':await TestHubHandler['stop'](_0x1b05fc);continue;case'1':logger[_0xf79dfe(0x1f5)](_0x3c3ac2[_0xf79dfe(0x131)](_0x3c3ac2[_0xf79dfe(0x20d)],_0x1b05fc));continue;case'2':this[_0x3c3ac2[_0xf79dfe(0x1b3)](_0x3c3ac2['ijFkg'],_0x1b05fc)]=!![];continue;case'3':logger&&logger[_0xf79dfe(0x177)]();continue;case'4':if(this[_0x3c3ac2['JUTEq'](_0x3c3ac2[_0xf79dfe(0x1ee)],_0x1b05fc)])return;continue;case'5':fileLogger&&fileLogger[_0xf79dfe(0x177)]();continue;case'6':await BrowserstackCLI[_0xf79dfe(0x1d4)]()[_0xf79dfe(0x182)]();continue;case'7':this[_0xf79dfe(0x19c)]=_0x1b05fc;continue;}break;}}[a81_0x4d3328(0x12f)](){const _0x28a5c6=a81_0x4d3328,_0x16e89c={'sbxtN':function(_0xdcaf30,_0xe325f){return _0xdcaf30===_0xe325f;},'NsfyT':_0x28a5c6(0x159),'JshsB':function(_0x3c00a6,_0xdc32e3){return _0x3c00a6>_0xdc32e3;},'SrVHY':function(_0x462d5a,_0x308380){return _0x462d5a>_0x308380;},'qfyiw':function(_0x2a2962){return _0x2a2962();},'yTGNI':'events.json'};let _0x2dc5de=0x0;return async()=>{const _0x2fac87=_0x28a5c6;_0x2dc5de++;if(_0x16e89c[_0x2fac87(0x1e7)](_0x2dc5de,0x1)){helper['checkStopLocalBinaryOnExit'](this[_0x2fac87(0x158)])&&await this[_0x2fac87(0x208)]();try{logger[_0x2fac87(0x17d)](_0x16e89c[_0x2fac87(0x13e)]),await BrowserstackCLI[_0x2fac87(0x1d4)]()[_0x2fac87(0x182)]('1'),await TestHubHandler[_0x2fac87(0x182)](_0x2dc5de);}catch(_0x5c2f41){logger[_0x2fac87(0x17d)](_0x2fac87(0x114)+util[_0x2fac87(0x11d)](_0x5c2f41));}PerformanceTester['end'](PerformanceEvents[_0x2fac87(0x214)]);if(PerformanceTester[_0x2fac87(0x124)]()){const {measures:_0x5911f5,errors:_0x2b3cc5}=await PerformanceTester[_0x2fac87(0x198)](),_0x1e50a1={};if(_0x5911f5&&_0x16e89c['JshsB'](_0x5911f5[_0x2fac87(0x181)],0x0)||_0x2b3cc5&&_0x16e89c[_0x2fac87(0x203)](_0x2b3cc5[_0x2fac87(0x181)],0x0)){const _0x18bbb3={};_0x18bbb3['measures']=_0x5911f5,_0x18bbb3[_0x2fac87(0x1c4)]=_0x2b3cc5,Object[_0x2fac87(0x166)](_0x1e50a1,_0x18bbb3);}try{const _0x1cfafd=await helper[_0x2fac87(0x20c)](_0x1e50a1,this[_0x2fac87(0x1c8)]);logger[_0x2fac87(0x17d)](_0x2fac87(0x144)+constants[_0x2fac87(0x16b)]+_0x2fac87(0x1dd)+_0x1cfafd[_0x2fac87(0x1a3)]);}catch(_0x21f245){logger[_0x2fac87(0x17d)](_0x2fac87(0x15c)+constants[_0x2fac87(0x16b)]+_0x2fac87(0x17b)+util[_0x2fac87(0x11d)](_0x21f245));}try{fs[_0x2fac87(0x14e)](path['join'](_0x16e89c['qfyiw'](getLogDir),_0x16e89c['yTGNI']),JSON[_0x2fac87(0x1e1)](_0x1e50a1));}catch(_0x1c44c0){logger['debug'](_0x2fac87(0x14b)+_0x1c44c0);}}}};}}exports[a81_0x4d3328(0x14f)]=BrowserStackSetup;