#!/usr/bin/env node

const a46_0x45a9ac=a46_0x8f4f;(function(_0x17f47e,_0x5067ed){const _0x402c32=a46_0x8f4f,_0x205367=_0x17f47e();while(!![]){try{const _0x6dafd3=-parseInt(_0x402c32(0x18a))/0x1*(-parseInt(_0x402c32(0x18b))/0x2)+-parseInt(_0x402c32(0x197))/0x3+parseInt(_0x402c32(0x163))/0x4*(-parseInt(_0x402c32(0x16b))/0x5)+-parseInt(_0x402c32(0x17a))/0x6*(-parseInt(_0x402c32(0x153))/0x7)+-parseInt(_0x402c32(0x17b))/0x8*(parseInt(_0x402c32(0x174))/0x9)+parseInt(_0x402c32(0x158))/0xa*(parseInt(_0x402c32(0x190))/0xb)+parseInt(_0x402c32(0x1a0))/0xc*(-parseInt(_0x402c32(0x16d))/0xd);if(_0x6dafd3===_0x5067ed)break;else _0x205367['push'](_0x205367['shift']());}catch(_0x2e5b48){_0x205367['push'](_0x205367['shift']());}}}(a46_0x5160,0xc8674));const fs=require('fs'),helper=require(a46_0x45a9ac(0x152)),utilities=require(a46_0x45a9ac(0x177)),yaml=require(a46_0x45a9ac(0x193)),yargs=require(a46_0x45a9ac(0x169)),logger=require(a46_0x45a9ac(0x161))[a46_0x45a9ac(0x187)],configFileTemplate=__dirname+a46_0x45a9ac(0x189),configFileTemplatePW=__dirname+a46_0x45a9ac(0x176),configFile=process['cwd']()+a46_0x45a9ac(0x18f),packageFile=process[a46_0x45a9ac(0x19b)]()+a46_0x45a9ac(0x192),frameworks=[a46_0x45a9ac(0x18e),a46_0x45a9ac(0x179),'cucumber-js',a46_0x45a9ac(0x155),a46_0x45a9ac(0x180),a46_0x45a9ac(0x196),'playwright'];let config;logger[a46_0x45a9ac(0x183)](a46_0x45a9ac(0x18c)),createConfigurationFile(yargs['argv'][a46_0x45a9ac(0x157)],yargs[a46_0x45a9ac(0x194)]['key'],yargs[a46_0x45a9ac(0x194)][a46_0x45a9ac(0x173)]);try{sdkSetup();}catch(a46_0x3759fa){logger[a46_0x45a9ac(0x184)](a46_0x45a9ac(0x17f)+a46_0x3759fa);}addScriptInPackageJson();function createConfigurationFile(_0x2ecd80,_0x56a683,_0x67c843=![]){const _0x495c42=a46_0x45a9ac,_0x47cae2={};_0x47cae2[_0x495c42(0x170)]=_0x495c42(0x19d),_0x47cae2[_0x495c42(0x15b)]=_0x495c42(0x199),_0x47cae2[_0x495c42(0x164)]=_0x495c42(0x15f);const _0x1e39ed=_0x47cae2;try{let _0x480dc4=fs[_0x495c42(0x159)](_0x67c843?configFileTemplatePW:configFileTemplate,_0x1e39ed['JqAaz']);_0x2ecd80&&(_0x480dc4=_0x480dc4[_0x495c42(0x168)](_0x1e39ed[_0x495c42(0x15b)],_0x2ecd80)),_0x56a683&&(_0x480dc4=_0x480dc4[_0x495c42(0x168)](_0x1e39ed[_0x495c42(0x164)],_0x56a683)),config=yaml['load'](_0x480dc4),fs[_0x495c42(0x16f)](configFile,_0x480dc4,_0x1e594d=>{const _0x4195fb=_0x495c42;_0x1e594d&&logger[_0x4195fb(0x15e)](_0x1e594d);});}catch(_0x2ba803){logger[_0x495c42(0x15e)](_0x2ba803);}}function addPostInstallScript(_0x47cd88,_0x51dc63){const _0x2e1661=a46_0x45a9ac,_0x1cba5d={};_0x1cba5d[_0x2e1661(0x191)]=_0x2e1661(0x172),_0x1cba5d['dhjgs']=_0x2e1661(0x181),_0x1cba5d['UeEiO']=_0x2e1661(0x16e);const _0x23dcfb=_0x1cba5d;let _0x2cbc06=_0x47cd88[_0x23dcfb[_0x2e1661(0x191)]];if(_0x2cbc06&&_0x2cbc06[_0x2e1661(0x160)](_0x23dcfb[_0x2e1661(0x17c)]))return;!_0x2cbc06?_0x2cbc06=_0x23dcfb[_0x2e1661(0x17c)]:_0x2cbc06+=_0x23dcfb['UeEiO'],_0x51dc63['push']([_0x23dcfb[_0x2e1661(0x191)],_0x2cbc06]);}function addScriptInPackageJson(){const _0x4d55ca=a46_0x45a9ac,_0x2929e2={'gGJVf':_0x4d55ca(0x19d),'dnsVg':function(_0x56821e,_0x3a2141){return _0x56821e<_0x3a2141;},'Dypyz':function(_0x1c2e8f,_0x3dd308,_0x28b75c){return _0x1c2e8f(_0x3dd308,_0x28b75c);},'LAmsK':function(_0x5a8eb4,_0x11c89e){return _0x5a8eb4<_0x11c89e;},'sCzyY':function(_0x24effb,_0x8903a0){return _0x24effb!==_0x8903a0;},'kkHiw':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x43b419=JSON[_0x4d55ca(0x166)](fs[_0x4d55ca(0x159)](packageFile,_0x2929e2[_0x4d55ca(0x167)])),_0xd955ed=[];for(let _0x5f57e4=0x0;_0x2929e2[_0x4d55ca(0x19f)](_0x5f57e4,frameworks[_0x4d55ca(0x19a)]);_0x5f57e4+=0x1){const _0x2190a3=_0x2929e2['Dypyz'](findScriptsWithFramework,_0x43b419[_0x4d55ca(0x19c)],frameworks[_0x5f57e4]);for(let _0x28586d=0x0;_0x2929e2[_0x4d55ca(0x17d)](_0x28586d,_0x2190a3['length']);_0x28586d+=0x1){_0xd955ed[_0x4d55ca(0x182)](_0x2929e2['Dypyz'](getUpdatedCommand,_0x43b419[_0x4d55ca(0x19c)],_0x2190a3[_0x28586d]));}_0x2929e2[_0x4d55ca(0x16c)](addPostInstallScript,_0x43b419['scripts'],_0xd955ed);}const _0x102dff={..._0x43b419['scripts']},_0x182652=_0x102dff;for(let _0x4b40cb=0x0;_0x2929e2['LAmsK'](_0x4b40cb,_0xd955ed['length']);_0x4b40cb+=0x1){_0x182652[_0xd955ed[_0x4b40cb][0x0]]=_0xd955ed[_0x4b40cb][0x1];}_0x2929e2['sCzyY'](JSON[_0x4d55ca(0x195)](_0x43b419[_0x4d55ca(0x19c)]),JSON[_0x4d55ca(0x195)](_0x182652))&&(logger[_0x4d55ca(0x183)](_0x2929e2['kkHiw']),_0x43b419['scripts']=_0x182652,fs[_0x4d55ca(0x16f)](packageFile,JSON['stringify'](_0x43b419,null,0x2),_0x1314b0=>{const _0x509631=_0x4d55ca;_0x1314b0&&logger[_0x509631(0x15e)](_0x1314b0);}));};function a46_0x8f4f(_0x29b75c,_0x3c2823){const _0x5160a9=a46_0x5160();return a46_0x8f4f=function(_0x8f4f7b,_0x4885d6){_0x8f4f7b=_0x8f4f7b-0x152;let _0x13cac6=_0x5160a9[_0x8f4f7b];return _0x13cac6;},a46_0x8f4f(_0x29b75c,_0x3c2823);}function findScriptsWithFramework(_0x3bbd9e,_0x4d3e0d){const _0x202c49=a46_0x45a9ac,_0xab4b54={};_0xab4b54[_0x202c49(0x162)]=function(_0x364c8e,_0x5ca83e){return _0x364c8e<_0x5ca83e;},_0xab4b54[_0x202c49(0x18d)]=_0x202c49(0x185);const _0x3e0497=_0xab4b54,_0x1719de=[],_0x30a8be=Object['entries'](_0x3bbd9e);for(let _0x27dc0b=0x0;_0x3e0497['fOtHf'](_0x27dc0b,_0x30a8be[_0x202c49(0x19a)]);_0x27dc0b+=0x1){_0x30a8be[_0x27dc0b][0x1][_0x202c49(0x160)](_0x4d3e0d)&&!_0x30a8be[_0x27dc0b][0x1][_0x202c49(0x160)](_0x3e0497[_0x202c49(0x18d)])&&_0x1719de[_0x202c49(0x182)](_0x30a8be[_0x27dc0b][0x0]);}return _0x1719de;}function getUpdatedCommand(_0x560b09,_0x384ce4){const _0x279700=a46_0x45a9ac,_0x537d76={};_0x537d76[_0x279700(0x15d)]=function(_0x198f30,_0x3a9502){return _0x198f30!==_0x3a9502;},_0x537d76[_0x279700(0x188)]=_0x279700(0x185),_0x537d76[_0x279700(0x186)]=function(_0x340ea7,_0x47e99c){return _0x340ea7===_0x47e99c;};const _0x35a80c=_0x537d76,_0x43288d=_0x384ce4+'-browserstack',_0x55e2fa=_0x560b09[_0x384ce4],_0x2c6807=_0x55e2fa[_0x279700(0x175)]('\x20');for(const _0x922013 of frameworks){if(_0x35a80c[_0x279700(0x15d)](_0x2c6807[_0x279700(0x154)](_0x922013),-0x1)){_0x2c6807[_0x279700(0x16a)](_0x2c6807['indexOf'](_0x922013),0x0,_0x35a80c[_0x279700(0x188)]);break;}}let _0x59d6bd=_0x2c6807[_0x279700(0x17e)]('\x20');return _0x35a80c[_0x279700(0x186)](_0x59d6bd,_0x55e2fa)&&(_0x59d6bd=_0x279700(0x178)+_0x55e2fa),[_0x43288d,_0x59d6bd];}function a46_0x5160(){const _0x5b0895=['info','debug','browserstack-node-sdk','wdwMw','winstonLogger','bWzXC','/../../browserstack.yml.sample','527585aTuYhG','6mUsvpR','Creating\x20configuration\x20file...','Obdie','mocha','/browserstack.yml','960047rkZVZA','pkDfI','/package.json','js-yaml','argv','stringify','codeceptjs','684HtpsZP','AMQll','YOUR_USERNAME','length','cwd','scripts','utf8','source','dnsVg','42708ZnUBiy','../helpers/helper','14TEBoSD','indexOf','node','okACG','username','70dAPFhP','readFileSync','SDKSetup','sTxSU','Setup\x20completed','crtgB','error','YOUR_ACCESS_KEY','includes','../helpers/logger','fOtHf','38660qnhWlW','KjLgb','fireFunnelTestEvent','parse','gGJVf','replace','yargs','splice','510JXJHTe','Dypyz','4927mSOgFM','\x20&&\x20npm\x20update\x20browserstack-node-sdk','writeFileSync','JqAaz','node-setup','postinstall','playwright','93897ohfixN','split','/../../browserstack.pw.yml.sample','../helpers/utilities','browserstack-node-sdk\x20','jest','3042726lCTvRY','40zOmRVm','dhjgs','LAmsK','join','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','nightwatch','npm\x20update\x20browserstack-node-sdk','push'];a46_0x5160=function(){return _0x5b0895;};return a46_0x5160();}function sdkSetup(){const _0x4313fa=a46_0x45a9ac,_0x17af88={};_0x17af88[_0x4313fa(0x156)]=_0x4313fa(0x171),_0x17af88[_0x4313fa(0x198)]=_0x4313fa(0x15a);const _0x474c3a=_0x17af88;if(helper['isUndefined'](config))return;config[_0x4313fa(0x19e)]=_0x474c3a[_0x4313fa(0x156)];try{utilities[_0x4313fa(0x165)](_0x474c3a[_0x4313fa(0x198)],{},config,'');}catch(_0x5ca58e){logger[_0x4313fa(0x184)](_0x4313fa(0x17f)+_0x5ca58e);}}logger['info'](a46_0x45a9ac(0x15c));