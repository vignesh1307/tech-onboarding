#!/usr/bin/env node
'use strict';const a12_0x3b3d61=a12_0x28b5;(function(_0x42805d,_0x55b18c){const _0x17ecd7=a12_0x28b5,_0x35e836=_0x42805d();while(!![]){try{const _0x25a6a7=parseInt(_0x17ecd7(0x197))/0x1+-parseInt(_0x17ecd7(0x1c3))/0x2*(parseInt(_0x17ecd7(0x193))/0x3)+-parseInt(_0x17ecd7(0x1ab))/0x4+parseInt(_0x17ecd7(0x1a7))/0x5+-parseInt(_0x17ecd7(0x1b8))/0x6+-parseInt(_0x17ecd7(0x1bf))/0x7*(-parseInt(_0x17ecd7(0x1b5))/0x8)+parseInt(_0x17ecd7(0x1a0))/0x9;if(_0x25a6a7===_0x55b18c)break;else _0x35e836['push'](_0x35e836['shift']());}catch(_0x452afd){_0x35e836['push'](_0x35e836['shift']());}}}(a12_0x1abe,0xc196a));function a12_0x1abe(){const _0x458701=['invalid','https','help','4261827DXgZzQ','join','trim','browserStackLocalOptions','1464948HVoHhz','trmMt','bqbtf','bstackAccessKey','ZfsbG','options','setupBrowserstackLocal','RNBVN','root','10833372WMgZuv','missing','Connection\x20established\x20successfully.','only','Fxarm','setProxySettings','TFQUa','5527945QHRgsG','string','../../helpers/logger','port','4499752KzszKb','BnYEO','./constants','LomVy','../../helpers/helper','AODxK','command','mYTLr','exports','hJLcq','460912aYNVCe','replace','mrUjg','6762768QDttHz','config','EpwRC','split','error','describe','wGoOx','84vflzuq','usage','../../helpers/BrowserStackSetup','demandOption','2Ojhjfl','localIdentifier','bstackAccesskey','every','BrowserStack\x20access\x20key\x20missing.','Hosts\x20not\x20valid','accessKey','olzKb','protocol','hosts','integrations','integrations-repeater','connect','ktVoK'];a12_0x1abe=function(){return _0x458701;};return a12_0x1abe();}const {default:BrowserStackSetup}=require(a12_0x3b3d61(0x1c1)),logger=require(a12_0x3b3d61(0x1a9))['winstonLogger'],{URL}=require('url'),helper=require(a12_0x3b3d61(0x1af)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x3b3d61(0x1ad)),validHosts=function(_0x10ff0e){const _0x3bc827=a12_0x3b3d61;return _0x10ff0e[_0x3bc827(0x1bb)](',')[_0x3bc827(0x1c6)](_0x3520bf=>{const _0x4bd09f=_0x3bc827;try{new URL(_0x3520bf[_0x4bd09f(0x195)]());}catch(_0x1f5bf7){return![];}return!![];});},parseOnPremHosts=function(_0x4a8d45){const _0x3d3f44=a12_0x3b3d61,_0x3ea18d={};_0x3ea18d['mYTLr']=function(_0x3cfd10,_0x2bb403){return _0x3cfd10===_0x2bb403;},_0x3ea18d[_0x3d3f44(0x1b0)]='https:',_0x3ea18d['hJLcq']='443',_0x3ea18d[_0x3d3f44(0x19e)]=_0x3d3f44(0x191);const _0x215ef9=_0x3ea18d;return _0x4a8d45[_0x3d3f44(0x1bb)](',')['map'](_0x8e4f4c=>{const _0x16d289=_0x3d3f44,_0x4528c6=new URL(_0x8e4f4c[_0x16d289(0x195)]()),_0x2aabff=_0x4528c6['hostname'],_0x55f10f=_0x4528c6[_0x16d289(0x1aa)]||(_0x215ef9[_0x16d289(0x1b2)](_0x4528c6[_0x16d289(0x18a)],_0x215ef9[_0x16d289(0x1b0)])?_0x215ef9[_0x16d289(0x1b4)]:'80'),_0x5ed80e=_0x4528c6['protocol'][_0x16d289(0x1b6)](':',''),_0x27e982=_0x215ef9[_0x16d289(0x1b2)](_0x5ed80e,_0x215ef9[_0x16d289(0x19e)])?0x1:0x0;return _0x2aabff+','+_0x55f10f+','+_0x27e982;});},connectCommandBuilder=function(_0x298636){const _0x5c31e3=a12_0x3b3d61,_0x5027ef={};_0x5027ef[_0x5c31e3(0x19b)]=_0x5c31e3(0x1a8);const _0x1a1f20=_0x5027ef,_0x197942={};_0x197942[_0x5c31e3(0x1bd)]=HELP_MESSAGES['options'][_0x5c31e3(0x19a)],_0x197942['type']=_0x1a1f20[_0x5c31e3(0x19b)];const _0x4c24d0={};_0x4c24d0[_0x5c31e3(0x1bd)]=HELP_MESSAGES[_0x5c31e3(0x19c)][_0x5c31e3(0x18b)],_0x4c24d0['type']=_0x1a1f20[_0x5c31e3(0x19b)],_0x4c24d0[_0x5c31e3(0x1c2)]=!![];const _0x376101={};return _0x376101['bstack-accesskey']=_0x197942,_0x376101[_0x5c31e3(0x18b)]=_0x4c24d0,_0x298636[_0x5c31e3(0x19c)](_0x376101);},connectCommandHandler=async function(_0x3560dc){const _0x321006=a12_0x3b3d61,_0x2ab58d={'wGoOx':_0x321006(0x18c),'trmMt':function(_0x13e9bf,_0xd84a8e){return _0x13e9bf===_0xd84a8e;},'mrUjg':'undefined','TFQUa':_0x321006(0x1c7),'bqbtf':'Integration\x20hosts\x20missing.','EpwRC':function(_0x2a5c11,_0x311d3b){return _0x2a5c11(_0x311d3b);},'BnYEO':_0x321006(0x187),'Fxarm':_0x321006(0x18d),'PWWpg':_0x321006(0x1a2),'ktVoK':'Failed\x20to\x20establish\x20connection.'};try{const _0x437882=new BrowserStackSetup(_0x3560dc,_0x2ab58d[_0x321006(0x1be)]);_0x3560dc[_0x321006(0x1c5)]&&(_0x437882['config'][_0x321006(0x188)]=_0x3560dc['bstackAccesskey']);if(_0x2ab58d[_0x321006(0x198)](typeof _0x437882['config'][_0x321006(0x188)],_0x2ab58d[_0x321006(0x1b7)])){logger[_0x321006(0x1bc)](_0x2ab58d[_0x321006(0x1a6)]);throw new Error(ERROR_MESSAGES[_0x321006(0x19a)]['missing']);}const _0x18d38e=_0x3560dc[_0x321006(0x18b)];if(_0x2ab58d[_0x321006(0x198)](typeof _0x18d38e,_0x2ab58d['mrUjg'])){logger[_0x321006(0x1bc)](_0x2ab58d[_0x321006(0x199)]);throw new Error(ERROR_MESSAGES[_0x321006(0x18b)][_0x321006(0x1a1)]);}if(!_0x2ab58d[_0x321006(0x1ba)](validHosts,_0x18d38e)){logger[_0x321006(0x1bc)](_0x2ab58d[_0x321006(0x1ac)]);throw new Error(ERROR_MESSAGES[_0x321006(0x18b)][_0x321006(0x190)]);}const _0x2a7e64=_0x2ab58d[_0x321006(0x1ba)](parseOnPremHosts,_0x18d38e);_0x437882[_0x321006(0x1b9)]['browserstackLocal']=!![],_0x437882[_0x321006(0x1b9)][_0x321006(0x196)][_0x321006(0x1c4)]=_0x2ab58d[_0x321006(0x1a4)],_0x437882[_0x321006(0x1b9)][_0x321006(0x196)][_0x321006(0x1a3)]=_0x2a7e64[_0x321006(0x194)](','),helper[_0x321006(0x1a5)](_0x437882[_0x321006(0x1b9)]),await _0x437882[_0x321006(0x19d)](),logger['info'](_0x2ab58d['PWWpg']);}catch(_0x56dae8){logger['error'](_0x2ab58d[_0x321006(0x18f)]);throw new Error(_0x56dae8['toString']());}};function a12_0x28b5(_0x322c35,_0x4def11){const _0x1abef1=a12_0x1abe();return a12_0x28b5=function(_0x28b52e,_0x29715d){_0x28b52e=_0x28b52e-0x187;let _0x1f2b21=_0x1abef1[_0x28b52e];return _0x1f2b21;},a12_0x28b5(_0x322c35,_0x4def11);}function run(_0x399393){const _0x200cd0=a12_0x3b3d61,_0x4750a7={};_0x4750a7[_0x200cd0(0x1ae)]='connect',_0x4750a7[_0x200cd0(0x189)]=_0x200cd0(0x192);const _0x15c7d1=_0x4750a7;_0x399393[_0x200cd0(0x1c0)](HELP_MESSAGES[_0x200cd0(0x1b1)][_0x200cd0(0x19f)])[_0x200cd0(0x1b1)](_0x15c7d1[_0x200cd0(0x1ae)],HELP_MESSAGES[_0x200cd0(0x1b1)][_0x200cd0(0x18e)],connectCommandBuilder,connectCommandHandler)['demandCommand']()[_0x200cd0(0x192)](_0x15c7d1[_0x200cd0(0x189)])['epilogue'](HELP_MESSAGES[_0x200cd0(0x1b1)]['footer']);}module[a12_0x3b3d61(0x1b3)]=run;