const a47_0x41074f=a47_0x2180;(function(_0x509e82,_0x43eaa6){const _0x58ba57=a47_0x2180,_0x5f1ac1=_0x509e82();while(!![]){try{const _0x359a5c=parseInt(_0x58ba57(0x13b))/0x1+parseInt(_0x58ba57(0x122))/0x2+parseInt(_0x58ba57(0x139))/0x3+-parseInt(_0x58ba57(0x10f))/0x4+-parseInt(_0x58ba57(0x13c))/0x5+-parseInt(_0x58ba57(0x121))/0x6*(parseInt(_0x58ba57(0x13f))/0x7)+parseInt(_0x58ba57(0x11a))/0x8;if(_0x359a5c===_0x43eaa6)break;else _0x5f1ac1['push'](_0x5f1ac1['shift']());}catch(_0x15a869){_0x5f1ac1['push'](_0x5f1ac1['shift']());}}}(a47_0x5925,0xb29c9));function a47_0x5925(){const _0x5c1663=['\x20for','snSVa','TGgax','getWorkers','fzuOk','3169548ZXyCcy','worker_threads','BbNuy','_workerPool','VtzRH','Running\x20','log','lyYZa','platform-run-start','IQiaG','end','20596000FbofSV','json','exitCode','debug','_child','exit','Exception\x20in\x20sending\x20worker\x20message\x20','315762iZTpZF','1053552qWSADw','length','etmLL','NWgIL','pTOml','JbtBp','format','platforms','send','stderr','all','test-file-start','parallelTestRun','getStderr','kRBgO','emit','push','test-file-failure','configuration','stop','../../helpers/logger','platform-run-success','map','1779774UITKNI','worker','160810yVeKsN','5867850vLLsNf','qKGAQ','Chzbw','154DwpWZp','vLaXD','Azebq','SDK_SETUP','NfWcO','LdIhP','kWdwc','waitForExit','../../helpers/test-observability/utils','bqJyp','EVENTS','xmXFg','JtjdJ','PFaYE','jest-worker','../../helpers/performance/constants','resolve','winstonLogger','platformCaps','pipe','lteZZ','info','test-file-success','config','nWbkz','TpwUB','stdout','UNSTABLE_onCustomMessage','./testWorker.js','then','getStdout','Workers\x20failed\x20to\x20exit\x20gracefully','platform-run-failure','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','JBQNn','pXtLs','eXDSw','bGoCI','cucumberWorker','vanillaWorker','error','parallelVanillaRun','../../helpers/testhub/testhubHandler'];a47_0x5925=function(){return _0x5c1663;};return a47_0x5925();}const Worker=require(a47_0x41074f(0x14d))['Worker'],Emittery=require('emittery'),pLimit=require('p-limit'),{parentPort}=require(a47_0x41074f(0x110)),util=require('util'),logger=require(a47_0x41074f(0x136))[a47_0x41074f(0x150)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a47_0x41074f(0x14e))[a47_0x41074f(0x149)],{debug}=require(a47_0x41074f(0x147)),TestHubHandler=require(a47_0x41074f(0x109));function a47_0x2180(_0x3c2e6b,_0xcb077b){const _0x5925b4=a47_0x5925();return a47_0x2180=function(_0x2180c7,_0x923e43){_0x2180c7=_0x2180c7-0x102;let _0x4423ca=_0x5925b4[_0x2180c7];return _0x4423ca;},a47_0x2180(_0x3c2e6b,_0xcb077b);}exports[a47_0x41074f(0x12e)]=(_0x37e3e2,_0x3a4dfb,_0x41aa05)=>new Promise(async _0x2498cb=>{const _0x5601f1=a47_0x41074f,_0x2727b0={'TpwUB':'failureCount','ceYCq':function(_0xeef0f,_0x4c59b3){return _0xeef0f+_0x4c59b3;},'LdIhP':'results','tZqZJ':'Workers\x20failed\x20to\x20exit\x20gracefully','bqJyp':function(_0x35d596,_0x36b7e3){return _0x35d596(_0x36b7e3);},'TGgax':_0x5601f1(0x12d),'JtjdJ':_0x5601f1(0x15b),'CVHwF':_0x5601f1(0x13a),'NWgIL':_0x5601f1(0x11b),'kWdwc':_0x5601f1(0x152),'lyYZa':function(_0x240585,_0x5b2d3f){return _0x240585*_0x5b2d3f;},'Azebq':_0x5601f1(0x155),'Pkyxq':'test-file-failure','JBQNn':function(_0x5424d0,_0x1f58cd){return _0x5424d0(_0x1f58cd);},'VtzRH':function(_0x389f6a,_0x14b569){return _0x389f6a*_0x14b569;}},_0x2ddf39=_0x41aa05[_0x5601f1(0x156)],_0x350886={},_0xc87a58=new Worker(require[_0x5601f1(0x14f)](_0x2727b0[_0x5601f1(0x14b)]),{'exposedMethods':[_0x2727b0['CVHwF']],'forkOptions':{'serialization':_0x2727b0[_0x5601f1(0x125)],'stdio':_0x2727b0[_0x5601f1(0x145)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x2727b0[_0x5601f1(0x116)](_0x3a4dfb,0x1),'enableWorkerThreads':!![]}),_0x3e719f=new Emittery();_0x3e719f['on'](_0x2727b0[_0x5601f1(0x141)],_0x2bb9b6=>{const _0x5c6692=_0x5601f1;_0x350886[_0x2bb9b6[0x0]]?(_0x350886[_0x2bb9b6[0x0]][_0x2727b0[_0x5c6692(0x158)]]=_0x2727b0['ceYCq'](_0x350886[_0x2bb9b6[0x0]][_0x2727b0[_0x5c6692(0x158)]],_0x2bb9b6[0x1][_0x2727b0[_0x5c6692(0x158)]]),_0x350886[_0x2bb9b6[0x0]][_0x2727b0[_0x5c6692(0x144)]]=[..._0x350886[_0x2bb9b6[0x0]][_0x2727b0[_0x5c6692(0x144)]],..._0x2bb9b6[0x1][_0x2727b0['LdIhP']]]):_0x350886[_0x2bb9b6[0x0]]={'failureCount':_0x2bb9b6[0x1][_0x2727b0[_0x5c6692(0x158)]],'results':[..._0x2bb9b6[0x1][_0x2727b0[_0x5c6692(0x144)]]]};}),_0x3e719f['on'](_0x2727b0['Pkyxq'],_0x29ae63=>console[_0x5601f1(0x115)](_0x29ae63[0x1]));_0xc87a58['getStdout']()&&_0xc87a58[_0x5601f1(0x15d)]()[_0x5601f1(0x152)](process[_0x5601f1(0x159)]);_0xc87a58[_0x5601f1(0x12f)]()&&_0xc87a58[_0x5601f1(0x12f)]()[_0x5601f1(0x152)](process[_0x5601f1(0x12b)]);const _0x4e4049=async()=>{const _0x4e0843=_0x5601f1,{forceExited:_0x2caf08}=await _0xc87a58[_0x4e0843(0x119)]();_0x2caf08&&console[_0x4e0843(0x107)](_0x2727b0['tZqZJ']);try{await TestHubHandler[_0x4e0843(0x135)]();}catch(_0x3a1702){_0x2727b0[_0x4e0843(0x148)](debug,_0x4e0843(0x160)+_0x3a1702);}_0x2727b0[_0x4e0843(0x148)](_0x2498cb,_0x350886);},_0x5b2431=_0x2727b0[_0x5601f1(0x161)](pLimit,_0x2727b0[_0x5601f1(0x113)](_0x3a4dfb,0x1)),_0x72f20f=_0x911789=>_0x5b2431(async()=>{const _0x19748a=_0x5601f1;await _0x3e719f[_0x19748a(0x131)](_0x2727b0[_0x19748a(0x10c)],_0x911789);const _0x256650=_0xc87a58[_0x19748a(0x13a)](_0x911789,_0x2ddf39);try{parentPort&&_0x256650[_0x19748a(0x15a)](_0xc2c928=>{const _0x309fcd=_0x19748a;try{parentPort['postMessage'](_0xc2c928);}catch(_0x11a726){logger[_0x309fcd(0x11d)](_0x309fcd(0x120)+util['format'](_0x11a726));}});}catch(_0x155f94){logger[_0x19748a(0x11d)]('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x19748a(0x128)](_0x155f94));}return _0x256650;});PerformanceTester[_0x5601f1(0x119)](PerformanceEvents[_0x5601f1(0x142)]),Promise[_0x5601f1(0x12c)](_0x37e3e2['map'](_0xd16242=>_0x72f20f(_0xd16242)[_0x5601f1(0x15c)](_0x4127b7=>_0x3e719f[_0x5601f1(0x131)](_0x5601f1(0x155),[_0xd16242['configuration']['platform'],_0x4127b7]),_0x4baa52=>_0x3e719f[_0x5601f1(0x131)](_0x5601f1(0x133),[_0xd16242,_0x4baa52]))))['then'](_0x4e4049,_0x4e4049);}),exports['parallelCucumberRun']=(_0x3ce404,_0x4a5e4f,_0x282c36,_0x23cc8b,_0x5b20fa)=>{const _0x45c497=a47_0x41074f,_0x32b642={'FClZV':_0x45c497(0x15e),'Chzbw':function(_0x392df1,_0x383929){return _0x392df1(_0x383929);},'bGoCI':_0x45c497(0x117),'vLaXD':_0x45c497(0x15b),'nQbWI':_0x45c497(0x105),'etmLL':_0x45c497(0x11b),'FupFR':_0x45c497(0x152),'IQiaG':_0x45c497(0x137),'nWbkz':'platform-run-failure','dxijz':function(_0x445baa,_0x3f6b96){return _0x445baa(_0x3f6b96);}};return new Promise(_0x40deca=>{const _0x495bad=_0x45c497,_0x29e258={'CRYDW':_0x32b642['FClZV'],'PFaYE':function(_0x436cff,_0x3002d9){const _0x5998d9=a47_0x2180;return _0x32b642[_0x5998d9(0x13e)](_0x436cff,_0x3002d9);},'pXtLs':_0x32b642[_0x495bad(0x104)]},_0x21b7b5=[],_0x4ffc8c=new Worker(require[_0x495bad(0x14f)](_0x32b642[_0x495bad(0x140)]),{'exposedMethods':[_0x32b642['nQbWI']],'forkOptions':{'serialization':_0x32b642[_0x495bad(0x124)],'stdio':_0x32b642['FupFR']},'numWorkers':_0x3ce404['length']||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x148a50=new Emittery();_0x148a50['on'](_0x32b642[_0x495bad(0x118)],_0x1bfbc8=>{const _0x969555=_0x495bad;_0x21b7b5[_0x969555(0x132)]([_0x1bfbc8[0x0],_0x1bfbc8[0x1]]);}),_0x148a50['on'](_0x32b642[_0x495bad(0x157)],_0x766b1d=>console[_0x495bad(0x115)](_0x766b1d[0x1]));_0x4ffc8c[_0x495bad(0x15d)]()&&_0x4ffc8c['getStdout']()['pipe'](process[_0x495bad(0x159)]);_0x4ffc8c['getStderr']()&&_0x4ffc8c[_0x495bad(0x12f)]()[_0x495bad(0x152)](process[_0x495bad(0x12b)]);const _0xd4ad12=async()=>{const _0xb38926=_0x495bad,{forceExited:_0x20f74b}=await _0x4ffc8c[_0xb38926(0x119)]();_0x20f74b&&console[_0xb38926(0x107)](_0x29e258['CRYDW']),_0x29e258[_0xb38926(0x14c)](_0x40deca,_0x21b7b5);},_0x3c8691=_0x32b642['dxijz'](pLimit,_0x3ce404[_0x495bad(0x123)]||0x1),_0x2586b2=(_0x5861ca,_0x4d505d)=>_0x3c8691(async()=>{const _0x44c87b=_0x495bad;return await _0x148a50[_0x44c87b(0x131)](_0x29e258[_0x44c87b(0x102)],_0x5861ca),_0x4a5e4f[_0x44c87b(0x151)]=_0x282c36[_0x44c87b(0x129)][_0x4d505d],_0x4ffc8c[_0x44c87b(0x105)](_0x5861ca,_0x4a5e4f,_0x282c36,_0x23cc8b,_0x5b20fa);});Promise[_0x495bad(0x12c)](_0x3ce404[_0x495bad(0x138)]((_0x31ccd,_0x399d2c)=>_0x2586b2(_0x31ccd,_0x399d2c)['then'](_0x2a3cbe=>_0x148a50[_0x495bad(0x131)](_0x495bad(0x137),[_0x31ccd,_0x2a3cbe]),_0x577bcb=>_0x148a50[_0x495bad(0x131)](_0x495bad(0x15f),[_0x31ccd,_0x577bcb]))))[_0x495bad(0x15c)](_0xd4ad12,_0xd4ad12);});},exports[a47_0x41074f(0x108)]=(_0xa7fde1,_0x4e1a83)=>new Promise(_0x3f693f=>{const _0x11a078=a47_0x41074f,_0x55867d={'qKGAQ':_0x11a078(0x11f),'fzuOk':function(_0x1012bc,_0x2b4ffa){return _0x1012bc===_0x2b4ffa;},'JbtBp':function(_0x413c4d,_0x1377c9){return _0x413c4d!==_0x1377c9;},'snSVa':_0x11a078(0x15e),'SdTdm':function(_0x3f0f27,_0x3969c0){return _0x3f0f27(_0x3969c0);},'SUFPN':_0x11a078(0x15b),'eXDSw':_0x11a078(0x106),'VZflX':_0x11a078(0x11b),'BbNuy':'pipe','pTOml':_0x11a078(0x155),'NfWcO':_0x11a078(0x133),'kRBgO':function(_0x42e3ac,_0xca9be4){return _0x42e3ac(_0xca9be4);}},_0x27f612={},_0xe0220c=new Worker(require[_0x11a078(0x14f)](_0x55867d['SUFPN']),{'exposedMethods':[_0x55867d[_0x11a078(0x103)]],'forkOptions':{'serialization':_0x55867d['VZflX'],'stdio':_0x55867d[_0x11a078(0x111)]},'numWorkers':_0x4e1a83,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x437c1c=new Emittery();_0x437c1c['on'](_0x55867d[_0x11a078(0x126)],_0x2211ae=>{const _0x1902bf=_0x11a078;_0x2211ae[0x0]&&logger[_0x1902bf(0x154)](_0x1902bf(0x114)+_0x2211ae[0x1]+_0x1902bf(0x10a),_0x2211ae[0x0]);}),_0x437c1c['on'](_0x55867d[_0x11a078(0x143)],_0x9e2cca=>{const _0x2705a9=_0x11a078;process[_0x2705a9(0x11c)]=0x1;});_0xe0220c[_0x11a078(0x15d)]()&&_0xe0220c['getStdout']()[_0x11a078(0x152)](process[_0x11a078(0x159)]);_0xe0220c['getStderr']()&&_0xe0220c[_0x11a078(0x12f)]()[_0x11a078(0x152)](process[_0x11a078(0x12b)]);const _0x174ffb=async()=>{const _0x129650=_0x11a078,_0x1ce3af={'lteZZ':function(_0x8e79c3,_0x3ba697){const _0x50d832=a47_0x2180;return _0x55867d[_0x50d832(0x10e)](_0x8e79c3,_0x3ba697);},'xmXFg':function(_0x35c6ec,_0x8b20d){const _0x510a0f=a47_0x2180;return _0x55867d[_0x510a0f(0x127)](_0x35c6ec,_0x8b20d);}};let _0x2ea563=0x0;const _0x511cb4=_0xe0220c[_0x129650(0x112)][_0x129650(0x10d)](),_0x578f81=()=>{},_0x3cad9d=_0x511cb4['map'](async _0x5636cc=>{const _0x16f91a=_0x129650;_0x5636cc[_0x16f91a(0x12a)]([0x2,![]],_0x578f81,_0x578f81,_0x578f81),_0x5636cc[_0x16f91a(0x11e)]['on'](_0x55867d[_0x16f91a(0x13d)],_0x20e07f=>{const _0x433724=_0x16f91a;_0x1ce3af[_0x433724(0x153)](_0x2ea563,0x0)&&_0x1ce3af[_0x433724(0x14a)](_0x20e07f,0x0)&&(_0x2ea563=_0x20e07f);}),await _0x5636cc[_0x16f91a(0x146)]();});await Promise[_0x129650(0x12c)](_0x3cad9d),process['exitCode']=_0x2ea563;const {forceExited:_0x3ce726}=await _0xe0220c['end']();_0x3ce726&&console[_0x129650(0x107)](_0x55867d[_0x129650(0x10b)]),_0x55867d['SdTdm'](_0x3f693f,_0x27f612);},_0x26116a=_0x55867d[_0x11a078(0x130)](pLimit,_0x4e1a83),_0x3b4c23=_0x3428c0=>_0x26116a(async()=>{const _0x16b74d=_0x11a078;return _0xe0220c[_0x16b74d(0x106)](_0x3428c0);});Promise[_0x11a078(0x12c)](_0xa7fde1['map'](_0xff4dc=>_0x3b4c23(_0xff4dc)[_0x11a078(0x15c)](_0x5ba5bc=>_0x437c1c[_0x11a078(0x131)](_0x11a078(0x155),[_0xff4dc['configuration']['platform'],_0xff4dc[_0x11a078(0x134)]['file']]),_0x2ac73e=>_0x437c1c[_0x11a078(0x131)](_0x11a078(0x133),[_0xff4dc,_0x2ac73e]))))[_0x11a078(0x15c)](_0x174ffb,_0x174ffb);});