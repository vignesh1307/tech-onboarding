const a6_0x1bcfdf=a6_0x29e9;(function(_0x4d35bb,_0x170217){const _0x5457dd=a6_0x29e9,_0x36a8a3=_0x4d35bb();while(!![]){try{const _0x41b70e=parseInt(_0x5457dd(0x1b4))/0x1*(parseInt(_0x5457dd(0x212))/0x2)+parseInt(_0x5457dd(0x20c))/0x3+-parseInt(_0x5457dd(0x208))/0x4*(parseInt(_0x5457dd(0x23f))/0x5)+parseInt(_0x5457dd(0x1b5))/0x6*(-parseInt(_0x5457dd(0x238))/0x7)+parseInt(_0x5457dd(0x209))/0x8+-parseInt(_0x5457dd(0x1d2))/0x9+parseInt(_0x5457dd(0x235))/0xa;if(_0x41b70e===_0x170217)break;else _0x36a8a3['push'](_0x36a8a3['shift']());}catch(_0x25b730){_0x36a8a3['push'](_0x36a8a3['shift']());}}}(a6_0xb9a6,0xa2f59));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require('../../../helpers/helper'),util=require('util'),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a6_0x1bcfdf(0x1f4)),{shouldProcessEventForTesthub}=require(a6_0x1bcfdf(0x1ff)),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')[a6_0x1bcfdf(0x1c4)],_tests={},_testCasesData={};function a6_0x29e9(_0x4c6027,_0xcee20b){const _0xb9a67b=a6_0xb9a6();return a6_0x29e9=function(_0x29e9e7,_0x3a1d0f){_0x29e9e7=_0x29e9e7-0x1b1;let _0x158211=_0xb9a67b[_0x29e9e7];return _0x158211;},a6_0x29e9(_0x4c6027,_0xcee20b);}class BrowserstackFormatter extends Formatter{constructor(_0x349e16){const _0x48a5b2=a6_0x1bcfdf,_0x194bd8={};_0x194bd8['CeRIE']=_0x48a5b2(0x1d5);const _0x12e550=_0x194bd8;super(_0x349e16),this[_0x48a5b2(0x1ed)]={},_0x349e16[_0x48a5b2(0x229)]['on'](_0x12e550['CeRIE'],async _0x2b9075=>{const _0x3b8454=_0x48a5b2;switch(!![]){case!!_0x2b9075[_0x3b8454(0x232)]:this[_0x3b8454(0x1e7)](_0x2b9075['testRunStarted']);break;case!!_0x2b9075[_0x3b8454(0x1d9)]:this[_0x3b8454(0x1b8)](_0x2b9075['testRunFinished']);break;case!!_0x2b9075['testCaseStarted']:this['onTestCaseStarted'](_0x2b9075[_0x3b8454(0x203)],_0x349e16,_0x2b9075);break;case!!_0x2b9075['testCaseFinished']:this[_0x3b8454(0x1ee)](_0x2b9075[_0x3b8454(0x218)],_0x349e16,_0x2b9075);break;case!!_0x2b9075[_0x3b8454(0x240)]:this[_0x3b8454(0x1f8)](_0x2b9075[_0x3b8454(0x240)],_0x349e16);break;case!!_0x2b9075['testStepFinished']:this[_0x3b8454(0x22d)](_0x2b9075['testStepFinished'],_0x349e16);break;case!!_0x2b9075['hook']:this[_0x3b8454(0x1db)](_0x2b9075[_0x3b8454(0x231)]);break;case!!_0x2b9075[_0x3b8454(0x21b)]:this[_0x3b8454(0x1dc)](_0x2b9075['testCase']);break;case!!_0x2b9075[_0x3b8454(0x1c6)]:this[_0x3b8454(0x1da)](_0x2b9075[_0x3b8454(0x1c6)]);break;case!!_0x2b9075[_0x3b8454(0x215)]:this[_0x3b8454(0x211)](_0x2b9075['gherkinDocument']);break;}});}['onHook'](_0x22f3ee){const _0x459b76=a6_0x1bcfdf;this[_0x459b76(0x1ed)][_0x459b76(0x1be)]=Object[_0x459b76(0x1d1)]([],this[_0x459b76(0x1ed)]['hooks']||[]),this[_0x459b76(0x1ed)][_0x459b76(0x1be)][_0x459b76(0x1de)](_0x22f3ee);}[a6_0x1bcfdf(0x1da)](_0x276fc6){const _0x1acc7a=a6_0x1bcfdf;this[_0x1acc7a(0x1ed)][_0x1acc7a(0x1c6)]=Object['assign']([],this[_0x1acc7a(0x1ed)][_0x1acc7a(0x1c6)]||[],[_0x276fc6]),this[_0x1acc7a(0x1ed)][_0x1acc7a(0x1c6)][_0x1acc7a(0x1de)](_0x276fc6);}[a6_0x1bcfdf(0x211)](_0x5660c5){const _0x18d1ac=a6_0x1bcfdf;this['report'][_0x18d1ac(0x215)]=Object['assign']([],this['report'][_0x18d1ac(0x215)]||[],[_0x5660c5]),this[_0x18d1ac(0x1ed)][_0x18d1ac(0x215)][_0x18d1ac(0x1de)](_0x5660c5);}[a6_0x1bcfdf(0x202)](_0x5e2460){const _0x4e794f=a6_0x1bcfdf;this[_0x4e794f(0x1ed)]['source']=_0x5e2460;}[a6_0x1bcfdf(0x1d6)](_0x30d035){const _0x1f6c45=a6_0x1bcfdf;this[_0x1f6c45(0x1ed)][_0x1f6c45(0x24d)]=Object[_0x1f6c45(0x1d1)]([],this[_0x1f6c45(0x1ed)][_0x1f6c45(0x24d)]||[],[_0x30d035]),this[_0x1f6c45(0x1ed)][_0x1f6c45(0x24d)][_0x1f6c45(0x1de)](_0x30d035);}[a6_0x1bcfdf(0x1dc)](_0x50c30b){const _0x5b1e88=a6_0x1bcfdf;this[_0x5b1e88(0x1ed)][_0x5b1e88(0x1e9)]=Object['assign']([],this[_0x5b1e88(0x1ed)][_0x5b1e88(0x1e9)]||[],[_0x50c30b]),this[_0x5b1e88(0x1ed)]['testCases'][_0x5b1e88(0x1de)](_0x50c30b);}[a6_0x1bcfdf(0x251)](_0x501793){const _0x1708d8=a6_0x1bcfdf,_0x3261eb={'vZeRM':function(_0x309606,_0x33a354){return _0x309606!==_0x33a354;},'Igjoz':_0x1708d8(0x237),'BHLiM':function(_0x33990c,_0x2732d4){return _0x33990c+_0x2732d4;},'mOCoa':function(_0x1de3e2,_0x1ecb1c){return _0x1de3e2+_0x1ecb1c;},'QdoVo':function(_0x29ff1a,_0x277d13){return _0x29ff1a+_0x277d13;},'GXThg':function(_0x564845,_0x1bc6f9){return _0x564845+_0x1bc6f9;},'jbsTS':_0x1708d8(0x1d3),'ugcLY':_0x1708d8(0x22b),'BfldC':function(_0x58b32e,_0x5d97bb){return _0x58b32e===_0x5d97bb;},'CQuVC':_0x1708d8(0x24a),'vNckA':function(_0x13c002,_0xce70b5,_0x1a53c7){return _0x13c002(_0xce70b5,_0x1a53c7);},'lcRzg':_0x1708d8(0x234),'zccLe':_0x1708d8(0x1d7),'iDRux':function(_0x4a5ac0,_0x23e263){return _0x4a5ac0+_0x23e263;},'lomQL':function(_0x586c9d,_0x37887a){return _0x586c9d+_0x37887a;},'vjhYb':function(_0x159d31,_0x57413e){return _0x159d31+_0x57413e;},'DOxdQ':function(_0x125616,_0x250b16){return _0x125616+_0x250b16;}};_0x3261eb[_0x1708d8(0x1c0)](global[_0x1708d8(0x1b2)],undefined)&&this[_0x1708d8(0x227)](_0x3261eb[_0x1708d8(0x1bc)](_0x3261eb[_0x1708d8(0x1f1)]('\x0a',global[_0x1708d8(0x1b2)]),'\x0a'));const _0x5e85cf=this[_0x1708d8(0x226)]['getTestCaseAttempt'](_0x501793['testCaseStartedId']);this['log'](_0x3261eb['vjhYb'](_0x3261eb[_0x1708d8(0x1f1)](_0x3261eb['DOxdQ'](_0x3261eb[_0x1708d8(0x1ef)]('\x20\x20',_0x5e85cf['gherkinDocument']['feature'][_0x1708d8(0x241)]),_0x3261eb[_0x1708d8(0x21f)]),_0x5e85cf[_0x1708d8(0x1c6)][_0x1708d8(0x241)]),'\x0a'));const _0x282ddb={};_0x282ddb['cwd']=this[_0x1708d8(0x244)],_0x282ddb[_0x1708d8(0x1ba)]=this[_0x1708d8(0x1ba)],_0x282ddb[_0x1708d8(0x245)]=this[_0x1708d8(0x245)],_0x282ddb['testCaseAttempt']=_0x5e85cf;const _0x5aae23=formatterHelpers[_0x1708d8(0x220)](_0x282ddb);let _0x570d15=![];_0x5aae23[_0x1708d8(0x20f)][_0x1708d8(0x1ca)](_0x43a6a1=>{const _0x45b12c=_0x1708d8;if(_0x3261eb[_0x45b12c(0x1c0)](_0x43a6a1[_0x45b12c(0x241)],_0x3261eb['Igjoz'])&&!this[_0x45b12c(0x1eb)](_0x43a6a1)){totalTests+=0x1,this['log'](_0x3261eb[_0x45b12c(0x1f1)](_0x3261eb[_0x45b12c(0x206)](_0x3261eb[_0x45b12c(0x1ef)](_0x3261eb['GXThg'](_0x3261eb[_0x45b12c(0x1ef)](_0x3261eb[_0x45b12c(0x247)],_0x43a6a1[_0x45b12c(0x20d)]),_0x43a6a1[_0x45b12c(0x1e5)]||''),_0x3261eb[_0x45b12c(0x21f)]),Status[_0x43a6a1['result']['status']]),'\x0a')),this[_0x45b12c(0x1ce)](Status[_0x43a6a1['result'][_0x45b12c(0x1cf)]]);if(_0x3261eb[_0x45b12c(0x222)](Status[_0x43a6a1[_0x45b12c(0x234)][_0x45b12c(0x1cf)]],_0x3261eb[_0x45b12c(0x224)])){_0x570d15=!![];const _0x292fdc=_0x3261eb[_0x45b12c(0x201)](nestedKeyValue,_0x43a6a1,[_0x3261eb[_0x45b12c(0x23c)],_0x3261eb['zccLe']]);_0x292fdc&&(testsErrorMessage[_0x3261eb[_0x45b12c(0x1e2)](_0x3261eb['mOCoa'](_0x5e85cf[_0x45b12c(0x215)][_0x45b12c(0x1e0)]['name'],_0x3261eb['ugcLY']),_0x5e85cf[_0x45b12c(0x1c6)][_0x45b12c(0x241)])]=_0x292fdc,this['log'](_0x3261eb[_0x45b12c(0x204)](_0x292fdc,'\x0a')));}}}),_0x570d15&&(testSuitesFailed+=0x1),this[_0x1708d8(0x227)]('\x0a');}['logTestRunFinished'](_0x21bc68){}[a6_0x1bcfdf(0x1eb)](_0x2a933c){const _0x26ff03=a6_0x1bcfdf,_0x5e5213={};_0x5e5213[_0x26ff03(0x21c)]=function(_0x3acceb,_0x3e2833){return _0x3acceb!==_0x3e2833;},_0x5e5213['XboXq']=_0x26ff03(0x243);const _0x2f3d83=_0x5e5213;if(_0x2f3d83['ZMcaT'](_0x2a933c['sourceLocation'],undefined))return![];if(_0x2a933c[_0x26ff03(0x1b6)]&&_0x2a933c['actionLocation'][_0x26ff03(0x24c)]['includes'](_0x2f3d83[_0x26ff03(0x1bf)]))return!![];return![];}['incrementCounter'](_0x2c90e5){const _0x157324=a6_0x1bcfdf,_0x37f441={};_0x37f441['mRGwS']=_0x157324(0x24a),_0x37f441['sTHiu']=_0x157324(0x1e3),_0x37f441['bLzCR']=_0x157324(0x24f),_0x37f441[_0x157324(0x1fe)]=_0x157324(0x1fd),_0x37f441[_0x157324(0x214)]=_0x157324(0x21e),_0x37f441[_0x157324(0x23d)]=_0x157324(0x228),_0x37f441[_0x157324(0x1f2)]=_0x157324(0x233);const _0x5e3129=_0x37f441;switch(_0x2c90e5){case _0x5e3129[_0x157324(0x24e)]:testsFailed+=0x1;break;case _0x5e3129[_0x157324(0x23e)]:testsPassed+=0x1;break;case _0x5e3129[_0x157324(0x250)]:testsSkipped+=0x1;break;case _0x5e3129['HasmO']:testsPending+=0x1;break;case _0x5e3129[_0x157324(0x214)]:testsUndefined+=0x1;break;case _0x5e3129[_0x157324(0x23d)]:testsUnknown+=0x1;break;case _0x5e3129[_0x157324(0x1f2)]:testsAmbiguous+=0x1;break;default:break;}}[a6_0x1bcfdf(0x1e7)](_0x40971a){const _0x530e34=a6_0x1bcfdf,_0x28748c={'prQXu':function(_0x4743a4,_0x4be89a){return _0x4743a4!==_0x4be89a;},'nfUre':function(_0x5a7175,_0x503906){return _0x5a7175!==_0x503906;},'pMrly':function(_0x5337f2){return _0x5337f2();},'lOKsB':function(_0x4e9fca,_0x2146c8){return _0x4e9fca(_0x2146c8);},'bswkK':function(_0xef09f9,_0x166002){return _0xef09f9+_0x166002;}};let _0x2995ab;if(_0x28748c['prQXu'](process['env'][_0x530e34(0x1b9)],undefined)){const _0x24ad13=JSON[_0x530e34(0x252)](process[_0x530e34(0x1ea)]['CONFIG']);_0x2995ab=_0x24ad13[_0x530e34(0x1f7)];}_0x28748c['nfUre'](_0x2995ab,undefined)&&_0x28748c[_0x530e34(0x1dd)](isBrowserstackInfra)&&(global[_0x530e34(0x1b2)]=_0x28748c['lOKsB'](getPlatformName,_0x2995ab),this[_0x530e34(0x227)](_0x28748c[_0x530e34(0x20e)](_0x530e34(0x1c8)+global[_0x530e34(0x1b2)],'\x0a'))),_0x28748c[_0x530e34(0x1dd)](shouldProcessEventForTesthub)&&(TestDetails[_0x530e34(0x225)](),this[_0x530e34(0x1ed)][_0x530e34(0x232)]=_0x40971a);}[a6_0x1bcfdf(0x1b8)](_0x504ba7){const _0x36139e=a6_0x1bcfdf;this['report'][_0x36139e(0x1d9)]=_0x504ba7,this[_0x36139e(0x210)](_0x504ba7);}async[a6_0x1bcfdf(0x216)](_0x334978,_0x1b115e,_0x56ae76){const _0x34f7f1=a6_0x1bcfdf,_0x56c0f0={'WnUWb':function(_0xe6e2ac,_0x2797ed){return _0xe6e2ac(_0x2797ed);},'AASeZ':_0x34f7f1(0x207),'rqkdF':function(_0x411aa4,_0x250f4a){return _0x411aa4&&_0x250f4a;}};testSuites+=0x1;if(_0x56c0f0['WnUWb'](shouldProcessEventForTesthub,_0x56c0f0[_0x34f7f1(0x22a)]))try{this['report'][_0x34f7f1(0x203)]=this[_0x34f7f1(0x1ed)][_0x34f7f1(0x203)]||{},this[_0x34f7f1(0x1ed)][_0x34f7f1(0x203)][_0x334978['id']]=_0x334978;const _0x34f0f9=TestDetails[_0x34f7f1(0x23a)](_0x334978['id']);_testCasesData[_0x334978['id']]=Object[_0x34f7f1(0x1d1)]({},_0x56ae76);const _0x58f780=this[_0x34f7f1(0x1ed)],_0x1425d4=_0x334978['testCaseId'],_0x34444b=_0x58f780[_0x34f7f1(0x1e9)][_0x34f7f1(0x1fa)](_0x83572a=>_0x83572a['id']===_0x1425d4)[_0x34f7f1(0x1bb)],_0x5bf90a=_0x58f780[_0x34f7f1(0x1c6)][_0x34f7f1(0x1fa)](_0x24394a=>_0x24394a['id']===_0x34444b),_0x5b6704=_0x58f780[_0x34f7f1(0x215)]['find'](_0x5a3895=>_0x5a3895['uri']===_0x5bf90a['uri']),_0x44c561=_0x5b6704[_0x34f7f1(0x1e0)],_0x36b853={'uuid':_0x34f0f9,'startedAt':new Date()['toISOString']()};if(_0x5bf90a){const _0xf36048={};_0xf36048['name']=_0x5bf90a[_0x34f7f1(0x241)],_0x36b853[_0x34f7f1(0x21d)]=_0xf36048;}if(_0x56c0f0['rqkdF'](_0x5b6704,_0x44c561)){const _0x1fac3a={};_0x1fac3a[_0x34f7f1(0x1f6)]=_0x5b6704[_0x34f7f1(0x24c)],_0x1fac3a[_0x34f7f1(0x241)]=_0x44c561[_0x34f7f1(0x241)],_0x1fac3a[_0x34f7f1(0x246)]=_0x44c561[_0x34f7f1(0x246)],_0x36b853[_0x34f7f1(0x1e0)]=_0x1fac3a;}_tests[_0x1425d4]=_0x36b853,await testObservabilityReporter[_0x34f7f1(0x205)](_0x56ae76,_0x5b6704,_0x5bf90a,_0x56c0f0[_0x34f7f1(0x22a)],_0x36b853);}catch(_0x5ccceb){logger['debug'](_0x34f7f1(0x239)+util[_0x34f7f1(0x1c5)](_0x5ccceb)+'\x20');}}async[a6_0x1bcfdf(0x1ee)](_0x2da282,_0x300837,_0x3a6239){const _0x52f673=a6_0x1bcfdf,_0x5b144e={'pLfWz':function(_0x1379c6,_0x1a85dd){return _0x1379c6(_0x1a85dd);},'keeda':_0x52f673(0x1b1)};this[_0x52f673(0x251)](_0x2da282);if(_0x5b144e['pLfWz'](shouldProcessEventForTesthub,_0x5b144e['keeda']))try{this[_0x52f673(0x1ed)][_0x52f673(0x218)]=this[_0x52f673(0x1ed)]['testCaseFinished']||{},this[_0x52f673(0x1ed)][_0x52f673(0x218)][_0x2da282[_0x52f673(0x242)]]=_0x2da282,_testCasesData[_0x3a6239['id']]=Object['assign']({},_0x3a6239);const _0x21b6a0=_0x2da282['testCaseStartedId'],_0x4b9388=_0x300837[_0x52f673(0x226)]['testCaseAttemptDataMap'][_0x21b6a0][_0x52f673(0x1b7)],_0x2cc1c1=_0x300837['eventDataCollector']['testCaseMap'][_0x4b9388],_0x308800=_0x2cc1c1[_0x52f673(0x1bb)],_0x95b950=_0x300837[_0x52f673(0x226)]['pickleMap'][_0x308800],_0x416e69=this[_0x52f673(0x20a)](_0x300837,_0x95b950),_0x19ca76=_tests[_0x4b9388];_0x19ca76&&(delete _tests[_0x4b9388],_0x19ca76[_0x52f673(0x1f3)]=new Date()[_0x52f673(0x1bd)]()),await testObservabilityReporter['sendTestRunEventForCucumber'](_0x3a6239,_0x416e69,_0x95b950,_0x5b144e[_0x52f673(0x1d4)],_0x19ca76);}catch(_0x31cfaa){logger[_0x52f673(0x1ec)](_0x52f673(0x1d8)+util[_0x52f673(0x1c5)](_0x31cfaa));}}async[a6_0x1bcfdf(0x1f8)](_0x2de549,_0x2a0a07){const _0x55921d=a6_0x1bcfdf,_0x247535={'MmWvZ':function(_0x31d9f6,_0x22cee7){return _0x31d9f6(_0x22cee7);},'orvHo':_0x55921d(0x22c),'YHakj':function(_0x810a2f,_0x5a1457){return _0x810a2f!==_0x5a1457;},'trixU':_0x55921d(0x248)};if(_0x247535[_0x55921d(0x1f0)](shouldProcessEventForTesthub,_0x247535[_0x55921d(0x1e4)]))try{this[_0x55921d(0x1ed)][_0x55921d(0x240)]=this[_0x55921d(0x1ed)][_0x55921d(0x240)]||{},this[_0x55921d(0x1ed)][_0x55921d(0x240)][_0x2de549[_0x55921d(0x242)]]=_0x2de549;const _0x22d804=_0x2de549[_0x55921d(0x242)],_0x41abd6=_0x2a0a07['eventDataCollector'][_0x55921d(0x213)][_0x22d804][_0x55921d(0x1b7)],_0x272d58=this[_0x55921d(0x1ed)][_0x55921d(0x1e9)]['find'](_0x4ad19a=>_0x4ad19a['id']===_0x41abd6)[_0x55921d(0x1bb)],_0x36f8b9=this[_0x55921d(0x1ed)]['pickle'][_0x55921d(0x1fa)](_0x4d91dd=>_0x4d91dd['id']===_0x272d58),_0x1a1e97=this[_0x55921d(0x1ed)][_0x55921d(0x1e9)]['find'](_0x10f19e=>_0x10f19e['id']===_0x41abd6)[_0x55921d(0x20f)],_0x32121e=this[_0x55921d(0x1ed)][_0x55921d(0x240)][_0x22d804][_0x55921d(0x248)],_0xdd6866=_0x1a1e97['find'](_0x1483ce=>_0x1483ce['id']===_0x32121e)['pickleStepId'],_0xc226fd=_0x36f8b9[_0x55921d(0x221)][_0x55921d(0x1fa)](_0x43eb31=>_0x43eb31['id']===_0xdd6866);if(_0xdd6866&&_tests[_0x41abd6]&&_0x247535['YHakj'](_tests[_0x41abd6][_0x247535[_0x55921d(0x236)]],_0x32121e)){_tests[_0x41abd6][_0x247535['trixU']]=_0x32121e;const _0x16f1a9={};_0x16f1a9[_0x55921d(0x221)]=[];const _0x542476=_tests[_0x41abd6]||_0x16f1a9;_0x542476&&!_0x542476[_0x55921d(0x221)]&&(_0x542476[_0x55921d(0x221)]=[]),_0x542476['steps']['push']({'id':_0xc226fd['id'],'text':_0xc226fd['text'],'started_at':new Date()[_0x55921d(0x1bd)]()}),_tests[_0x41abd6]=_0x542476;}await testObservabilityReporter[_0x55921d(0x1c1)](this[_0x55921d(0x1ed)],_0x22d804,_0x247535[_0x55921d(0x1e4)],_0x1a1e97,_0x32121e,_tests[_0x41abd6]);}catch(_0x215bd4){logger[_0x55921d(0x1ec)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util[_0x55921d(0x1c5)](_0x215bd4));}}async['onTestStepFinished'](_0x41a52f,_0x4ecaa8){const _0x240e6d=a6_0x1bcfdf,_0x4906b5={'LTZxr':function(_0x13e659,_0x5428f3){return _0x13e659===_0x5428f3;},'gStNd':_0x240e6d(0x1d0),'fHhNl':function(_0x48efc8,_0xa1f049){return _0x48efc8(_0xa1f049);},'oEXps':_0x240e6d(0x1e8),'WTgFd':function(_0x36def2,_0x3c2d13){return _0x36def2===_0x3c2d13;},'Vadgs':_0x240e6d(0x23b),'BzXrR':function(_0x3f33bc,_0x44f0cb){return _0x3f33bc===_0x44f0cb;},'RJmUW':'UnhandledError','WQALv':_0x240e6d(0x248)};this[_0x240e6d(0x1ed)][_0x240e6d(0x20b)]=this[_0x240e6d(0x1ed)][_0x240e6d(0x20b)]||{},this[_0x240e6d(0x1ed)][_0x240e6d(0x20b)][_0x41a52f[_0x240e6d(0x242)]]=_0x41a52f;if(_0x4906b5[_0x240e6d(0x24b)](shouldProcessEventForTesthub,_0x4906b5[_0x240e6d(0x22e)]))try{const _0x272be8=_0x41a52f[_0x240e6d(0x242)],_0x48cce3=_0x4ecaa8[_0x240e6d(0x226)][_0x240e6d(0x213)][_0x272be8]['testCaseId'],_0x503993=_0x4ecaa8[_0x240e6d(0x226)]['testCaseMap'][_0x48cce3],_0x51a27e=_0x503993[_0x240e6d(0x1bb)],_0x445d3f=_0x4ecaa8[_0x240e6d(0x226)][_0x240e6d(0x1c9)][_0x51a27e],_0x1379d5=_0x41a52f[_0x240e6d(0x248)],_0x84d23b=_0x503993[_0x240e6d(0x20f)],_0x304ddb=this[_0x240e6d(0x226)]['getTestCaseAttempt'](_0x272be8),_0x307fce=_0x84d23b[_0x240e6d(0x1fa)](_0x4b0750=>_0x4b0750['id']===_0x1379d5)[_0x240e6d(0x200)];let _0x2ee480,_0x4fd11e;_0x41a52f[_0x240e6d(0x1b3)]&&_0x4906b5[_0x240e6d(0x1e6)](_0x41a52f['testStepResult'][_0x240e6d(0x1cf)][_0x240e6d(0x1f5)]()['toLowerCase'](),_0x4906b5['Vadgs'])&&(_0x2ee480=_0x4906b5['BzXrR'](_0x41a52f['testStepResult'][_0x240e6d(0x21a)],undefined)?_0x41a52f['testStepResult']['message']:_0x41a52f[_0x240e6d(0x1b3)][_0x240e6d(0x21a)][_0x240e6d(0x1d7)],_0x4fd11e=_0x4906b5[_0x240e6d(0x1e6)](_0x41a52f[_0x240e6d(0x1b3)][_0x240e6d(0x21a)],undefined)?_0x4906b5[_0x240e6d(0x1df)]:_0x41a52f[_0x240e6d(0x1b3)][_0x240e6d(0x1d7)]);await testObservabilityReporter[_0x240e6d(0x1c1)](this[_0x240e6d(0x1ed)],_0x272be8,_0x4906b5['oEXps'],_0x84d23b,_0x1379d5,_tests[_0x48cce3]);if(_0x307fce&&_tests[_0x48cce3][_0x4906b5['WQALv']]){const _0x47ff0e=_0x445d3f[_0x240e6d(0x221)]['find'](_0x593c28=>_0x593c28['id']===_0x307fce),_0x8ed72f={};_0x8ed72f[_0x240e6d(0x221)]=[];const _0x1e5259=_tests[_0x48cce3]||_0x8ed72f;!_0x1e5259[_0x240e6d(0x221)]?_0x1e5259[_0x240e6d(0x221)]=[{'id':_0x47ff0e['id'],'text':_0x47ff0e[_0x240e6d(0x1e5)],'finished_at':new Date()[_0x240e6d(0x1bd)](),'result':_0x41a52f[_0x240e6d(0x1b3)][_0x240e6d(0x1cf)],'duration':_0x41a52f[_0x240e6d(0x1b3)][_0x240e6d(0x249)][_0x240e6d(0x253)],'failure':_0x2ee480,'failureType':_0x4fd11e}]:_0x1e5259[_0x240e6d(0x221)][_0x240e6d(0x1ca)](_0x1107b9=>{const _0x3cad0=_0x240e6d;if(_0x4906b5[_0x3cad0(0x1fb)](_0x1107b9['id'],_0x47ff0e['id'])){const _0x43221c=_0x4906b5['gStNd'][_0x3cad0(0x223)]('|');let _0x119f8c=0x0;while(!![]){switch(_0x43221c[_0x119f8c++]){case'0':_0x1107b9['result']=_0x41a52f[_0x3cad0(0x1b3)]['status'];continue;case'1':_0x1107b9['failure']=_0x2ee480;continue;case'2':_0x1107b9[_0x3cad0(0x249)]=_0x41a52f['testStepResult'][_0x3cad0(0x249)][_0x3cad0(0x253)];continue;case'3':_0x1107b9[_0x3cad0(0x1cd)]=_0x4fd11e;continue;case'4':_0x1107b9[_0x3cad0(0x217)]=new Date()[_0x3cad0(0x1bd)]();continue;}break;}}}),_tests[_0x48cce3]=_0x1e5259,delete _tests[_0x48cce3][_0x4906b5['WQALv']];}}catch(_0x39d02a){logger[_0x240e6d(0x1ec)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x240e6d(0x1c5)](_0x39d02a));}}[a6_0x1bcfdf(0x230)](_0x17c64e){const _0x5db648=a6_0x1bcfdf,_0x4369c9={};return _0x17c64e['feature'][_0x5db648(0x1fc)][_0x5db648(0x1e1)](this[_0x5db648(0x1c2)])[_0x5db648(0x1cc)]()['forEach'](_0x1292a9=>_0x1292a9[_0x5db648(0x221)]['forEach'](_0x3835e6=>_0x4369c9[_0x3835e6['id']]=_0x3835e6)),_0x4369c9;}[a6_0x1bcfdf(0x1c2)](_0x56f5fb){const _0x233aec=a6_0x1bcfdf,_0x9feb6e={'hadib':function(_0x29b048,_0x6e66fa){return _0x29b048(_0x6e66fa);}};if(!_0x9feb6e[_0x233aec(0x1f9)](isUndefined,_0x56f5fb[_0x233aec(0x1cb)]))return[_0x56f5fb['background']];else{if(!_0x9feb6e[_0x233aec(0x1f9)](isUndefined,_0x56f5fb[_0x233aec(0x1c7)]))return _0x56f5fb[_0x233aec(0x1c7)][_0x233aec(0x1fc)][_0x233aec(0x1e1)](_0x564413=>!isUndefined(_0x564413['background'])?_0x564413[_0x233aec(0x1cb)]:_0x564413['scenario']);};return[_0x56f5fb[_0x233aec(0x21d)]];}['getGherkinDocument'](_0x180710,_0x1b0149){const _0x29d457=a6_0x1bcfdf;return Object[_0x29d457(0x219)](_0x180710[_0x29d457(0x226)][_0x29d457(0x22f)])[_0x29d457(0x1fa)](_0x56bcfe=>_0x56bcfe['uri']===_0x1b0149['uri']);}}module[a6_0x1bcfdf(0x1c3)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x1bcfdf(0x216),a6_0x1bcfdf(0x1ee),a6_0x1bcfdf(0x1f8),'onTestStepFinished',a6_0x1bcfdf(0x1e7),a6_0x1bcfdf(0x1b8),'extractStepContainers',a6_0x1bcfdf(0x20a),a6_0x1bcfdf(0x230)]);function a6_0xb9a6(){const _0x1a2365=['values','exception','testCase','ZMcaT','scenario','UNDEFINED','ugcLY','parseTestCaseAttempt','steps','BfldC','split','CQuVC','setup','eventDataCollector','log','UNKNOWN','eventBroadcaster','AASeZ','\x20-\x20','HookRunStarted','onTestStepFinished','oEXps','gherkinDocumentMap','getGherkinStepMap','hook','testRunStarted','AMBIGUOUS','result','2304150RvpkMe','trixU','bstack','3581830rBUMmu','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','getTestUUID','failed','lcRzg','FLzAL','sTHiu','996690rpfBzy','testStepStarted','name','testCaseStartedId','cucumber-js/test.setup.js','cwd','supportCodeLibrary','description','jbsTS','testStepId','duration','FAILED','fHhNl','uri','stepDefinition','mRGwS','SKIPPED','bLzCR','logTestCaseFinished','parse','seconds','TestRunFinished','__platform','testStepResult','1CDEaiU','12DQkNgK','actionLocation','testCaseId','onTestRunFinished','CONFIG','snippetBuilder','pickleId','lomQL','toISOString','hooks','XboXq','vZeRM','sendHook','extractStepContainers','exports','winstonLogger','format','pickle','rule','Executing\x20tests\x20for\x20','pickleMap','forEach','background','flat','failureType','incrementCounter','status','4|0|2|1|3','assign','3317256cpFYnw','\x20\x20\x20\x20','keeda','envelope','onStepDefinition','message','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','testRunFinished','onPickle','onHook','onTestCase','pMrly','push','RJmUW','feature','map','GXThg','PASSED','orvHo','text','WTgFd','onTestRunStarted','HookRunFinished','testCases','env','isBstackHook','debug','report','onTestCaseFinished','QdoVo','MmWvZ','BHLiM','kNBKZ','finishedAt','../../../helpers/test-observability/error-handler','toString','path','capability','onTestStepStarted','hadib','find','LTZxr','children','PENDING','HasmO','../../../helpers/testhub/utils.js','pickleStepId','vNckA','onSource','testCaseStarted','iDRux','sendTestRunEventForCucumber','mOCoa','TestRunStarted','8GlYoVv','7560208REXkpP','getGherkinDocument','testStepFinished','3720786zyZmYh','keyword','bswkK','testSteps','logTestRunFinished','onGherkinDocument','84836uGokbd','testCaseAttemptDataMap','VhbIY','gherkinDocument','onTestCaseStarted','finished_at','testCaseFinished'];a6_0xb9a6=function(){return _0x1a2365;};return a6_0xb9a6();}