const a65_0x4f0d55=a65_0x89c1;(function(_0x355250,_0x1f64a4){const _0x2acb0=a65_0x89c1,_0x3c89d1=_0x355250();while(!![]){try{const _0x1f75af=parseInt(_0x2acb0(0x17c))/0x1*(-parseInt(_0x2acb0(0x1cb))/0x2)+parseInt(_0x2acb0(0x1f4))/0x3*(parseInt(_0x2acb0(0x218))/0x4)+parseInt(_0x2acb0(0x176))/0x5*(-parseInt(_0x2acb0(0x20f))/0x6)+parseInt(_0x2acb0(0x1ae))/0x7+parseInt(_0x2acb0(0x224))/0x8*(parseInt(_0x2acb0(0x1f0))/0x9)+-parseInt(_0x2acb0(0x187))/0xa+parseInt(_0x2acb0(0x217))/0xb;if(_0x1f75af===_0x1f64a4)break;else _0x3c89d1['push'](_0x3c89d1['shift']());}catch(_0x5bb61a){_0x3c89d1['push'](_0x3c89d1['shift']());}}}(a65_0x4654,0x5f271));function a65_0x89c1(_0x147b0e,_0x12a3c9){const _0x465466=a65_0x4654();return a65_0x89c1=function(_0x89c1b6,_0x3f15b9){_0x89c1b6=_0x89c1b6-0x167;let _0x2d76a2=_0x465466[_0x89c1b6];return _0x2d76a2;},a65_0x89c1(_0x147b0e,_0x12a3c9);}const util=require(a65_0x4f0d55(0x170)),logger=require(a65_0x4f0d55(0x21b))[a65_0x4f0d55(0x1fc)],grpc=require(a65_0x4f0d55(0x1dd)),services=require(a65_0x4f0d55(0x19a)),messages=require(a65_0x4f0d55(0x17e)),path=require('path'),CLIUtils=require(a65_0x4f0d55(0x1c4)),{createClassLogger}=require(a65_0x4f0d55(0x1f9)),PerformanceTester=require(a65_0x4f0d55(0x1fa)),{EVENTS:PerformanceEvents}=require(a65_0x4f0d55(0x22e)),{PLAYWRIGHT_TRACE_LOGS}=require('../utils/constants');function a65_0x4654(){const _0x2b4200=['setHubUrl','3247160ZLBJzv','xQjIG','zuIGs','setEndedAt','setCliArgsList','setExitReason','setFileSize','listenAddress','name','QJuGk','ConnectBinSession\x20successful','from','ConnectBinSession\x20error:\x20','Sending\x20TestSessionEvent','CnDKf','getPlaywrightConfig','argv','utf-8','addAutomationSessions','../../../generated/sdk_grpc_pb','gRqIZ','setLevel','SDK_AUTOMATION_FRAMEWORK_INIT','Sending\x20LogCreatedEvent','setStartedAt','getSdkLanguage','provider','addFrameworks','AccessibilityConfig\x20request\x20successful','setSdkVersion','No\x20gRPC\x20client\x20not\x20initialized.','setSdkLanguage','testFrameworkName','env','ExecutionContext','BROWSERSTACK_CLI_BIN_SESSION_ID','info','stringify','Getting\x20Accessibility\x20config','4840416qQLRxH','DriverInitRequest','iCdlJ','Sending\x20DriverInit','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','setTestHookState','SDK_START_BIN_SESSION','TestSessionEvent\x20error:\x20','uuid','setExitCode','PlaywrightConfig\x20request\x20successful','ItOSx','connectBinSession','setTestFramework','StopBinSessionRequest','GrpcClient','channel','LWoKF','driverInit','Sending\x20TestFrameworkEvent','wvxGp','nywvT','./cliUtils.js','forEach','Missing\x20binSessionId','uHvpE','SDK_CONNECT_BIN_SESSION','setUuid','TestSessionEventRequest','2yIDXDp','accessibilityConfig','attachment_type','setFileName','end','Error\x20in\x20TestSessionEvent:\x20','SDK_CLI_ON_STOP','CQmad','getInstance','client','setExecutionContext','AccessibilityConfigRequest','logCreatedEvent','hubUrl','StartBinSession\x20successful','AccessibilityConfig\x20error:\x20','JnFYC','EVUdg','@grpc/grpc-js','KdQhT','format','setTestFrameworkVersion','Error\x20in\x20connectBinSession:\x20','exports','setBinSessionId','LogCreatedEvent\x20error:\x20','cjDrE','uCsPY','wPApZ','getAutomationFrameworkDetail','\x20listenAddr:\x20','testFrameworkEvent','\x20and\x20listen\x20address:\x20','TestSessionEvent\x20request\x20successful','PlaywrightConfig\x20error:\x20','Error\x20in\x20getAccessibilityConfig:\x20','Error\x20in\x20getPlaywrightConfig:\x20','1303056BbbARj','connect','logger','testFrameworkState','328701LBnMPn','xkAbB','setCapabilities','lGzgH','setTestFrameworkState','../../helpers/classLogger.js','../../helpers/performance/performance-tester.js','eGEhs','winstonLogger','user_killed','Stopping\x20signal\x20','DriverInit\x20request\x20successful','setConfig','StopBinSession\x20error:\x20','error','nXGjD','setCustomMetadata','ePOYx','init','connect-bin-session\x20response:\x20','setProcessId','AwBOV','nFtiY','stopBinSession','setTestFrameworkName','browserstack.yml','test_run_uuid','126486RWEfMq','setPlatformIndex','debug','resolve','setHash','getFrameworkVersionsMap','TestFrameworkEvent\x20error:\x20','BROWSERSTACK_CONFIG_FILE_PATH','3395348obTFvV','4Gmrayi','Connecting\x20bin\x20session','StartBinSessionRequest','../../helpers/logger.js','Channel','testFrameworkVersion','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','LogCreatedEvent\x20request\x20successful','LogCreatedEventRequest','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','ConnectBinSessionRequest','binSessionId','8MIosWf','DriverInit\x20error:\x20','startBinSession:\x20Calling\x20startBinSession','xfOzu','getAccessibilityConfig','frameworkName','stop-bin-session\x20response:\x20','Connected\x20to\x20gRPC\x20server\x20at\x20','kjfRp','startBinSession','../../helpers/performance/constants','cwd','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','kdFVr','DfMJm','encode','Error\x20in\x20TestFrameworkEvent:\x20','version','timestamp','FJjpb','Error\x20in\x20DriverInit:\x20','fileSize','xcSIu','setTestUuid','threadId','setFrameworksList','KbJLv','util','setAttachmentType','setMessage','Stopping\x20bin\x20session','setRef','testSessionEvent','105QypFqu','vIUnO','setLanguage','setFrameworkName','message','ffUMh','97345aMeVfM','setTimestamp','../../../generated/sdk-messages_pb','start','Error\x20in\x20LogCreatedEvent:\x20','AutomationSession','Poihd','PlaywrightConfigRequest','astHR','getChannel'];a65_0x4654=function(){return _0x2b4200;};return a65_0x4654();}class GrpcClient{static #instance=null;['binSessionId']=null;[a65_0x4f0d55(0x18e)]=null;['channel']=null;[a65_0x4f0d55(0x1d4)]=null;[a65_0x4f0d55(0x1f2)]=createClassLogger(a65_0x4f0d55(0x1bd));constructor(){}static[a65_0x4f0d55(0x1d3)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a65_0x4f0d55(0x206)](_0x1db1d4){const _0x58d40b=a65_0x4f0d55,_0x2f8305={};_0x2f8305[_0x58d40b(0x1d2)]=function(_0x16d748,_0x4a9eda){return _0x16d748||_0x4a9eda;};const _0x3ca61e=_0x2f8305,{id:_0x47ee5e,listen:_0x36be97}=_0x1db1d4;if(_0x3ca61e[_0x58d40b(0x1d2)](!_0x47ee5e,!_0x36be97))throw new Error(_0x58d40b(0x221)+_0x47ee5e+_0x58d40b(0x1e9)+_0x36be97);this[_0x58d40b(0x223)]=_0x47ee5e,this['listenAddress']=_0x36be97,process[_0x58d40b(0x1a8)][_0x58d40b(0x1aa)]=this['binSessionId'],process['env']['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']=this[_0x58d40b(0x18e)],this[_0x58d40b(0x1f1)](),this[_0x58d40b(0x1f2)][_0x58d40b(0x1ab)](_0x58d40b(0x230)+this['binSessionId']+_0x58d40b(0x1eb)+this[_0x58d40b(0x18e)]);}['connect'](){const _0x40a881=a65_0x4f0d55,_0x7c8416={};_0x7c8416[_0x40a881(0x1e7)]=_0x40a881(0x21e);const _0x13e5ab=_0x7c8416;let _0x58747d=this[_0x40a881(0x18e)];!_0x58747d&&(_0x58747d=process[_0x40a881(0x1a8)][_0x40a881(0x1b2)]);!this[_0x40a881(0x223)]&&(this['binSessionId']=this['binSessionId']||process[_0x40a881(0x1a8)][_0x40a881(0x1aa)]);if(!_0x58747d)throw new Error(_0x13e5ab[_0x40a881(0x1e7)]);const _0xfb63bb={};_0xfb63bb['grpc.keepalive_time_ms']=0x2710,this[_0x40a881(0x1be)]=new grpc[(_0x40a881(0x21c))](_0x58747d,grpc['credentials']['createInsecure'](),_0xfb63bb),this['client']=new services['SDKClient'](_0x58747d,grpc['credentials']['createInsecure']()),this['logger']['info'](_0x40a881(0x22b)+_0x58747d);}async['startBinSession'](){const _0x4c1ebc=a65_0x4f0d55,_0x5c1d10={'KbJLv':function(_0x1394a7,_0x1bbc1a){return _0x1394a7!==_0x1bbc1a;},'nFtiY':function(_0x4b3e66,_0x12f244){return _0x4b3e66(_0x12f244);},'vIUnO':_0x4c1ebc(0x1d9),'uCsPY':_0x4c1ebc(0x226),'GAvPb':_0x4c1ebc(0x1a5),'xfOzu':_0x4c1ebc(0x20d),'WOjxj':function(_0x20117a,_0x12e191){return _0x20117a||_0x12e191;}};PerformanceTester['start'](PerformanceEvents[_0x4c1ebc(0x1b4)]),this[_0x4c1ebc(0x1f2)][_0x4c1ebc(0x1ab)](_0x5c1d10[_0x4c1ebc(0x1e6)]);try{!this[_0x4c1ebc(0x1d4)]&&this[_0x4c1ebc(0x1f2)][_0x4c1ebc(0x1ab)](_0x5c1d10['GAvPb']);const _0x5d7bb7=CLIUtils['getSdkVersion'](),_0x1f1ea8=CLIUtils[_0x4c1ebc(0x1e8)](),_0x2e0e87=_0x1f1ea8[_0x4c1ebc(0x18f)],_0x1d1128=_0x1f1ea8[_0x4c1ebc(0x235)],_0x1400af=new messages[(_0x4c1ebc(0x21a))]();_0x1400af[_0x4c1ebc(0x1e3)](this[_0x4c1ebc(0x223)]),_0x1400af[_0x4c1ebc(0x1a6)](CLIUtils['getSdkLanguage']()),_0x1400af[_0x4c1ebc(0x1a4)](_0x5d7bb7),_0x1400af['setPathProject'](process[_0x4c1ebc(0x22f)]()),_0x1400af['setPathConfig'](process[_0x4c1ebc(0x1a8)][_0x4c1ebc(0x216)]?process['env'][_0x4c1ebc(0x216)]:path[_0x4c1ebc(0x212)](process['cwd'](),_0x5c1d10[_0x4c1ebc(0x227)]));const _0x409e29=_0x1400af['getEnvVarsMap']();Object['entries'](process[_0x4c1ebc(0x1a8)])['forEach'](([_0xa5286,_0x5da434])=>{const _0x1dcc0b=_0x4c1ebc;_0x5c1d10['KbJLv'](_0x5da434,undefined)&&_0x5c1d10[_0x1dcc0b(0x16f)](_0x5da434,null)&&_0x409e29['set'](_0xa5286,_0x5da434);}),_0x1400af[_0x4c1ebc(0x18b)](process[_0x4c1ebc(0x197)]['slice'](0x2)),_0x1400af[_0x4c1ebc(0x178)](CLIUtils[_0x4c1ebc(0x1a0)]()),_0x1400af[_0x4c1ebc(0x1bb)](_0x2e0e87);const _0x62e969=_0x1400af[_0x4c1ebc(0x214)]();return _0x62e969['set'](_0x2e0e87,_0x5c1d10['WOjxj'](_0x1d1128,'')),_0x1400af[_0x4c1ebc(0x1a2)](_0x2e0e87,_0x1d1128),_0x1400af[_0x4c1ebc(0x16e)]([_0x2e0e87]),new Promise((_0x4dcfb4,_0x4d71f7)=>{const _0x8fda4e=_0x4c1ebc,_0x18200d={'JNfjV':function(_0x4b2969,_0x169dce){const _0x3eed00=a65_0x89c1;return _0x5c1d10[_0x3eed00(0x20a)](_0x4b2969,_0x169dce);},'KdQhT':_0x5c1d10[_0x8fda4e(0x177)],'kjfRp':function(_0x31a78d,_0x1c098c){return _0x5c1d10['nFtiY'](_0x31a78d,_0x1c098c);}};this[_0x8fda4e(0x1d4)][_0x8fda4e(0x22d)](_0x1400af,(_0x3e2bea,_0x24f2a8)=>{const _0x26e6da=_0x8fda4e;if(_0x3e2bea){this[_0x26e6da(0x1f2)][_0x26e6da(0x202)]('StartBinSession\x20error:\x20'+_0x3e2bea[_0x26e6da(0x17a)]),_0x18200d['JNfjV'](_0x4d71f7,_0x3e2bea),PerformanceTester['end'](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x26e6da(0x1df)](_0x3e2bea));return;}this['logger'][_0x26e6da(0x1ab)](_0x18200d[_0x26e6da(0x1de)]),PerformanceTester[_0x26e6da(0x1cf)](PerformanceEvents[_0x26e6da(0x1b4)]),_0x18200d[_0x26e6da(0x22c)](_0x4dcfb4,_0x24f2a8);});});}catch(_0x4ec538){this[_0x4c1ebc(0x1f2)][_0x4c1ebc(0x202)]('Error\x20in\x20startBinSession:\x20'+util[_0x4c1ebc(0x1df)](_0x4ec538)),PerformanceTester[_0x4c1ebc(0x1cf)](PerformanceEvents['SDK_START_BIN_SESSION'],![],util['format'](_0x4ec538));throw _0x4ec538;}}async[a65_0x4f0d55(0x1ba)](){const _0x797f5c=a65_0x4f0d55,_0x2a98ec={'Poihd':function(_0x31ca39,_0x2cc949){return _0x31ca39(_0x2cc949);},'uHvpE':_0x797f5c(0x191),'pYyGE':_0x797f5c(0x219),'WMtHa':_0x797f5c(0x1a5)};PerformanceTester['start'](PerformanceEvents[_0x797f5c(0x1c8)]),this[_0x797f5c(0x1f2)][_0x797f5c(0x1ab)](_0x2a98ec['pYyGE']);try{!this[_0x797f5c(0x1d4)]&&this[_0x797f5c(0x1f2)]['info'](_0x2a98ec['WMtHa']);const _0x470805=new messages[(_0x797f5c(0x222))]();_0x470805[_0x797f5c(0x1e3)](this['binSessionId']);const _0x2599f6=await new Promise((_0x1081b6,_0x3e7819)=>{const _0x4010f6=_0x797f5c,_0x4ae65c={'astHR':function(_0x2cacec,_0x30ac81){return _0x2a98ec['Poihd'](_0x2cacec,_0x30ac81);},'HUfGB':_0x2a98ec[_0x4010f6(0x1c7)],'wvxGp':function(_0xfcfb38,_0x23e449){const _0x484552=_0x4010f6;return _0x2a98ec[_0x484552(0x182)](_0xfcfb38,_0x23e449);}};this[_0x4010f6(0x1d4)][_0x4010f6(0x1ba)](_0x470805,(_0x230e18,_0x1b1c89)=>{const _0x354f8a=_0x4010f6;if(_0x230e18){this[_0x354f8a(0x1f2)][_0x354f8a(0x202)](_0x354f8a(0x193)+_0x230e18['message']),_0x4ae65c[_0x354f8a(0x184)](_0x3e7819,_0x230e18),PerformanceTester['end'](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util['format'](_0x230e18));return;}this[_0x354f8a(0x1f2)][_0x354f8a(0x1ab)](_0x4ae65c['HUfGB']),PerformanceTester['end'](PerformanceEvents[_0x354f8a(0x1c8)]),_0x4ae65c[_0x354f8a(0x1c2)](_0x1081b6,_0x1b1c89);});});return this[_0x797f5c(0x1f2)][_0x797f5c(0x211)](_0x797f5c(0x207)+util[_0x797f5c(0x1df)](_0x2599f6)),_0x2599f6;}catch(_0x5ac938){PerformanceTester[_0x797f5c(0x1cf)](PerformanceEvents[_0x797f5c(0x1c8)],![],util[_0x797f5c(0x1df)](_0x5ac938)),this[_0x797f5c(0x1f2)][_0x797f5c(0x202)](_0x797f5c(0x1e1)+util[_0x797f5c(0x1df)](_0x5ac938));throw _0x5ac938;}}async[a65_0x4f0d55(0x20b)](_0x466492={},_0x4777aa=null){const _0x15b26b=a65_0x4f0d55,_0x29ef0e={'iCdlJ':function(_0x2ceff3,_0x2f2538){return _0x2ceff3(_0x2f2538);},'lGzgH':'StopBinSession\x20successful','eGEhs':_0x15b26b(0x173),'CnDKf':_0x15b26b(0x1c6),'JnFYC':_0x15b26b(0x1a5),'USmJr':_0x15b26b(0x1fd)};PerformanceTester[_0x15b26b(0x17f)](PerformanceEvents[_0x15b26b(0x1d1)]),this[_0x15b26b(0x1f2)][_0x15b26b(0x1ab)](_0x29ef0e[_0x15b26b(0x1fb)]);try{if(!this['binSessionId'])throw new Error(_0x29ef0e[_0x15b26b(0x195)]);!this[_0x15b26b(0x1d4)]&&this[_0x15b26b(0x1f2)][_0x15b26b(0x1ab)](_0x29ef0e[_0x15b26b(0x1db)]);const _0x349137=new messages[(_0x15b26b(0x1bc))]();this['logger']['debug'](_0x15b26b(0x1fe)+JSON[_0x15b26b(0x1ac)](_0x4777aa)),_0x349137[_0x15b26b(0x1e3)](this[_0x15b26b(0x223)]),_0x349137[_0x15b26b(0x204)](_0x466492),_0x349137['setExitSignal'](_0x4777aa?_0x4777aa:null),_0x349137[_0x15b26b(0x18c)](_0x4777aa?_0x29ef0e['USmJr']:null),_0x349137[_0x15b26b(0x1b7)](_0x4777aa?0x1:0x0);const _0x1fd9c0=await new Promise((_0x206fea,_0x32e686)=>{const _0x1a1a2e=_0x15b26b;this['client'][_0x1a1a2e(0x20b)](_0x349137,(_0x138a06,_0x171031)=>{const _0x356625=_0x1a1a2e;if(_0x138a06){this[_0x356625(0x1f2)]['error'](_0x356625(0x201)+_0x138a06[_0x356625(0x17a)]),_0x29ef0e[_0x356625(0x1b0)](_0x32e686,_0x138a06),PerformanceTester[_0x356625(0x1cf)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util['format'](_0x138a06));return;}this[_0x356625(0x1f2)][_0x356625(0x1ab)](_0x29ef0e[_0x356625(0x1f7)]),PerformanceTester[_0x356625(0x1cf)](PerformanceEvents['SDK_CLI_ON_STOP']),_0x29ef0e[_0x356625(0x1b0)](_0x206fea,_0x171031);});});return this[_0x15b26b(0x1f2)][_0x15b26b(0x211)](_0x15b26b(0x22a)+util[_0x15b26b(0x1df)](_0x1fd9c0)),_0x1fd9c0;}catch(_0x461254){PerformanceTester[_0x15b26b(0x1cf)](PerformanceEvents[_0x15b26b(0x1d1)],![],util[_0x15b26b(0x1df)](_0x461254)),this[_0x15b26b(0x1f2)]['error']('Error\x20in\x20stopBinSession:\x20'+util[_0x15b26b(0x1df)](_0x461254));}}async[a65_0x4f0d55(0x196)](_0x45ce98){const _0x46fb0b=a65_0x4f0d55,_0x4cf2cf={'EVUdg':function(_0x19f03e,_0x4f8344){return _0x19f03e(_0x4f8344);},'xcSIu':_0x46fb0b(0x1b8),'Wwvxz':'Getting\x20Playwright\x20config','FJjpb':_0x46fb0b(0x1a5)};PerformanceTester['start'](PerformanceEvents[_0x46fb0b(0x19d)]),this[_0x46fb0b(0x1f2)][_0x46fb0b(0x1ab)](_0x4cf2cf['Wwvxz']);try{!this[_0x46fb0b(0x1d4)]&&this[_0x46fb0b(0x1f2)][_0x46fb0b(0x1ab)](_0x4cf2cf[_0x46fb0b(0x168)]);const _0xbf828d=new messages[(_0x46fb0b(0x183))]();return _0xbf828d[_0x46fb0b(0x1e3)](this['binSessionId']),_0xbf828d[_0x46fb0b(0x200)](JSON['stringify'](_0x45ce98)),new Promise((_0xffb763,_0x57c465)=>{const _0x3fab0f=_0x46fb0b;this[_0x3fab0f(0x1d4)]['playwrightConfig'](_0xbf828d,(_0x323161,_0x5ebc14)=>{const _0x5935ee=_0x3fab0f;if(_0x323161){this[_0x5935ee(0x1f2)][_0x5935ee(0x202)](_0x5935ee(0x1ed)+_0x323161[_0x5935ee(0x17a)]),_0x4cf2cf[_0x5935ee(0x1dc)](_0x57c465,_0x323161),PerformanceTester[_0x5935ee(0x1cf)](PerformanceEvents[_0x5935ee(0x19d)],![],util[_0x5935ee(0x1df)](_0x323161));return;}this[_0x5935ee(0x1f2)][_0x5935ee(0x1ab)](_0x4cf2cf[_0x5935ee(0x16b)]),PerformanceTester[_0x5935ee(0x1cf)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT']),_0x4cf2cf[_0x5935ee(0x1dc)](_0xffb763,_0x5ebc14);});});}catch(_0xb32a36){PerformanceTester[_0x46fb0b(0x1cf)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util[_0x46fb0b(0x1df)](_0xb32a36)),this[_0x46fb0b(0x1f2)][_0x46fb0b(0x202)](_0x46fb0b(0x1ef)+util[_0x46fb0b(0x1df)](_0xb32a36));throw _0xb32a36;}}async[a65_0x4f0d55(0x228)](_0x28dfdd){const _0x3a279a=a65_0x4f0d55,_0x553ca3={'kdFVr':function(_0x2accb4,_0x512a5a){return _0x2accb4(_0x512a5a);},'xQjIG':_0x3a279a(0x1a3),'nywvT':_0x3a279a(0x1ad),'cjDrE':_0x3a279a(0x198)};this[_0x3a279a(0x1f2)]['info'](_0x553ca3[_0x3a279a(0x1c3)]);try{const _0x461d67=Buffer[_0x3a279a(0x192)](JSON[_0x3a279a(0x1ac)](_0x28dfdd['launchcaps']),_0x553ca3[_0x3a279a(0x1e5)]),_0x2f7204=new messages[(_0x3a279a(0x1d6))](),_0x3ef1a0=CLIUtils['getAutomationFrameworkDetail'](),_0x21419d=_0x3ef1a0[_0x3a279a(0x18f)],_0x376722=_0x3ef1a0['version'];return _0x2f7204[_0x3a279a(0x1e3)](this['binSessionId']),_0x2f7204[_0x3a279a(0x210)](0x0),_0x2f7204['setFrameworkName'](_0x21419d),_0x2f7204['setFrameworkVersion'](_0x376722),_0x2f7204[_0x3a279a(0x186)](_0x28dfdd[_0x3a279a(0x1d8)]),_0x2f7204[_0x3a279a(0x1f6)](_0x461d67),new Promise((_0xa0357e,_0xd81e6)=>{const _0x54ead5=_0x3a279a;this[_0x54ead5(0x1d4)][_0x54ead5(0x1cc)](_0x2f7204,(_0x1d50c2,_0x12eb1a)=>{const _0x384b65=_0x54ead5;if(_0x1d50c2){this[_0x384b65(0x1f2)][_0x384b65(0x202)](_0x384b65(0x1da)+_0x1d50c2['message']),_0x553ca3[_0x384b65(0x231)](_0xd81e6,_0x1d50c2);return;}this[_0x384b65(0x1f2)]['info'](_0x553ca3[_0x384b65(0x188)]),_0x553ca3[_0x384b65(0x231)](_0xa0357e,_0x12eb1a);});});}catch(_0x1bb64e){this['logger'][_0x3a279a(0x202)](_0x3a279a(0x1ee)+util[_0x3a279a(0x1df)](_0x1bb64e));}}async[a65_0x4f0d55(0x175)](_0x52b8f4){const _0x2fd214=a65_0x4f0d55,_0x8efe59={'zuIGs':function(_0x898d68,_0x5cd061){return _0x898d68(_0x5cd061);},'eEFDa':_0x2fd214(0x1ec),'LWoKF':_0x2fd214(0x194),'gRqIZ':_0x2fd214(0x1a5)};this[_0x2fd214(0x1f2)][_0x2fd214(0x1ab)](_0x8efe59[_0x2fd214(0x1bf)]);try{!this[_0x2fd214(0x1d4)]&&this[_0x2fd214(0x1f2)]['info'](_0x8efe59[_0x2fd214(0x19b)]);const {platformIndex:_0x1de953,testFrameworkName:_0x97aea9,testFrameworkVersion:_0x281836,testFrameworkState:_0x59f007,testHookState:_0x27dd78,testUuid:_0x2c89c9,automationSession:_0x1efff8,capabilities:_0x15fc88,executionContext:_0x1a43f4}=_0x52b8f4,_0x429822=new messages[(_0x2fd214(0x1ca))]();_0x429822['setBinSessionId'](this[_0x2fd214(0x223)]),_0x429822[_0x2fd214(0x210)](_0x1de953),_0x429822[_0x2fd214(0x20c)](_0x97aea9),_0x429822['setTestFrameworkVersion'](_0x281836),_0x429822[_0x2fd214(0x1f8)](_0x59f007),_0x429822['setTestHookState'](_0x27dd78),_0x429822[_0x2fd214(0x16c)](_0x2c89c9);const _0x4e0690=new messages[(_0x2fd214(0x1ca))][(_0x2fd214(0x181))]();_0x4e0690['setProvider'](_0x1efff8[_0x2fd214(0x1a1)]),_0x4e0690[_0x2fd214(0x179)](_0x1efff8[_0x2fd214(0x229)]),_0x4e0690['setFrameworkVersion'](_0x1efff8['frameworkVersion']),_0x4e0690['setFrameworkSessionId'](_0x1efff8['frameworkSessionId']),_0x4e0690[_0x2fd214(0x174)](_0x1efff8['ref']),_0x4e0690[_0x2fd214(0x186)](_0x1efff8[_0x2fd214(0x1d8)]),_0x429822[_0x2fd214(0x199)](_0x4e0690),_0x429822[_0x2fd214(0x1f6)](_0x15fc88);const _0x477b27=new messages[(_0x2fd214(0x1a9))]();return _0x477b27[_0x2fd214(0x208)](_0x1a43f4['processId']),_0x477b27['setThreadId'](_0x1a43f4[_0x2fd214(0x16d)]),_0x477b27[_0x2fd214(0x213)](_0x1a43f4['hash']),_0x429822[_0x2fd214(0x1d5)](_0x477b27),new Promise((_0x1624dd,_0x124175)=>{this['client']['testSessionEvent'](_0x429822,(_0x2f22fe,_0x12c696)=>{const _0x1fc06c=a65_0x89c1;if(_0x2f22fe){this[_0x1fc06c(0x1f2)][_0x1fc06c(0x202)](_0x1fc06c(0x1b5)+_0x2f22fe['message']),_0x8efe59['zuIGs'](_0x124175,_0x2f22fe);return;}this[_0x1fc06c(0x1f2)]['info'](_0x8efe59['eEFDa']),_0x8efe59[_0x1fc06c(0x189)](_0x1624dd,_0x12c696);});});}catch(_0x32c7a2){this['logger']['error'](_0x2fd214(0x1d0)+util[_0x2fd214(0x1df)](_0x32c7a2));throw _0x32c7a2;}}async[a65_0x4f0d55(0x1ea)](_0x58cdbe){const _0x26db05=a65_0x4f0d55,_0x11beeb={'wHyPQ':function(_0x2e4598,_0x3f2cc6){return _0x2e4598(_0x3f2cc6);},'nXGjD':'TestFrameworkEvent\x20request\x20successful','AwBOV':function(_0x38ba1b,_0x385cca){return _0x38ba1b(_0x385cca);},'DfMJm':_0x26db05(0x1c1),'JgCJz':_0x26db05(0x1a5)};this[_0x26db05(0x1f2)]['info'](_0x11beeb[_0x26db05(0x232)]);try{!this['client']&&this[_0x26db05(0x1f2)][_0x26db05(0x1ab)](_0x11beeb['JgCJz']);const {platfromIndex:_0x4bf1ae,testFrameworkName:_0x8cbdfa,testFrameworkVersion:_0x3f734e,testFrameworkState:_0x28e07e,hookState:_0x262f23,startedAt:_0xbd5b03,endedAt:_0x5e8a04,uuid:_0x41104f,eventJson:_0x412374,executionContext:_0x387292}=_0x58cdbe,_0x46a7f6=new messages['TestFrameworkEventRequest']();_0x46a7f6[_0x26db05(0x1e3)](this['binSessionId']),_0x46a7f6['setPlatformIndex'](_0x4bf1ae),_0x46a7f6[_0x26db05(0x20c)](_0x8cbdfa),_0x46a7f6[_0x26db05(0x1e0)](_0x3f734e),_0x46a7f6[_0x26db05(0x1f8)](_0x28e07e),_0x46a7f6[_0x26db05(0x1b3)](_0x262f23),_0x46a7f6[_0x26db05(0x19f)](_0xbd5b03),_0x46a7f6[_0x26db05(0x18a)](_0x5e8a04),_0x46a7f6[_0x26db05(0x1c9)](_0x41104f),_0x46a7f6['setEventJson'](_0x412374);const _0x192bb4=new messages['ExecutionContext']();return _0x192bb4['setProcessId'](_0x387292['processId']),_0x192bb4['setThreadId'](_0x387292[_0x26db05(0x16d)]),_0x192bb4[_0x26db05(0x213)](_0x387292['hash']),_0x46a7f6['setExecutionContext'](_0x192bb4),new Promise((_0x263ab9,_0x4c0bd7)=>{const _0x256c0f=_0x26db05;this[_0x256c0f(0x1d4)][_0x256c0f(0x1ea)](_0x46a7f6,(_0x538e48,_0x1aab27)=>{const _0x70e88=_0x256c0f;if(_0x538e48){this[_0x70e88(0x1f2)]['error'](_0x70e88(0x215)+_0x538e48[_0x70e88(0x17a)]),_0x11beeb['wHyPQ'](_0x4c0bd7,_0x538e48);return;}this[_0x70e88(0x1f2)][_0x70e88(0x1ab)](_0x11beeb[_0x70e88(0x203)]),_0x11beeb[_0x70e88(0x209)](_0x263ab9,_0x1aab27);});});}catch(_0xcef698){this[_0x26db05(0x1f2)][_0x26db05(0x202)](_0x26db05(0x234)+util[_0x26db05(0x1df)](_0xcef698));throw _0xcef698;}}async[a65_0x4f0d55(0x1c0)](_0x3f4ea6){const _0x5a2c1c=a65_0x4f0d55,_0x234c9d={'HdEns':function(_0x1dd013,_0x36ab27){return _0x1dd013(_0x36ab27);},'ffUMh':_0x5a2c1c(0x1ff),'iGWxm':function(_0x255616,_0x87b31f){return _0x255616(_0x87b31f);},'GaxFF':_0x5a2c1c(0x1b1),'mDgcC':_0x5a2c1c(0x1a5)};this[_0x5a2c1c(0x1f2)]['info'](_0x234c9d['GaxFF']);try{!this[_0x5a2c1c(0x1d4)]&&this['logger'][_0x5a2c1c(0x1ab)](_0x234c9d['mDgcC']);const {platformIndex:_0x30f567,ref:_0x510313,userInputParams:_0x40b115}=_0x3f4ea6,_0x3b4388=new messages[(_0x5a2c1c(0x1af))]();return _0x3b4388[_0x5a2c1c(0x1e3)](this[_0x5a2c1c(0x223)]),_0x3b4388[_0x5a2c1c(0x210)](_0x30f567),_0x3b4388['setRef'](_0x510313),_0x3b4388['setUserInputParams'](_0x40b115),new Promise((_0x1aa01d,_0x334326)=>{const _0x45f261=_0x5a2c1c;this[_0x45f261(0x1d4)][_0x45f261(0x1c0)](_0x3b4388,(_0x3cfd79,_0x5f50d)=>{const _0x412e9a=_0x45f261;if(_0x3cfd79){this[_0x412e9a(0x1f2)][_0x412e9a(0x202)](_0x412e9a(0x225)+_0x3cfd79[_0x412e9a(0x17a)]),_0x234c9d['HdEns'](_0x334326,_0x3cfd79);return;}this['logger'][_0x412e9a(0x1ab)](_0x234c9d[_0x412e9a(0x17b)]),_0x234c9d['iGWxm'](_0x1aa01d,_0x5f50d);});});}catch(_0x396b30){this[_0x5a2c1c(0x1f2)][_0x5a2c1c(0x202)](_0x5a2c1c(0x169)+util[_0x5a2c1c(0x1df)](_0x396b30));throw _0x396b30;}}async[a65_0x4f0d55(0x1d7)](_0x41d2dc){const _0x42f3f3=a65_0x4f0d55,_0x522edc={'oVKIp':function(_0x5e7ccd,_0x2d3945){return _0x5e7ccd===_0x2d3945;},'syVmZ':function(_0x5e14b4,_0x2a3321){return _0x5e14b4(_0x2a3321);},'ItOSx':_0x42f3f3(0x21f),'xkAbB':function(_0x470b2e,_0x1cf376){return _0x470b2e(_0x1cf376);},'QJuGk':_0x42f3f3(0x19e),'ePOYx':'No\x20gRPC\x20client\x20not\x20initialized.'};this[_0x42f3f3(0x1f2)][_0x42f3f3(0x1ab)](_0x522edc[_0x42f3f3(0x190)]);try{!this[_0x42f3f3(0x1d4)]&&this['logger'][_0x42f3f3(0x1ab)](_0x522edc[_0x42f3f3(0x205)]);const {platformIndex:_0x35454c,logs:_0x12330e}=_0x41d2dc,_0x39c63b=new messages[(_0x42f3f3(0x220))]();_0x39c63b[_0x42f3f3(0x1e3)](this['binSessionId']),_0x39c63b[_0x42f3f3(0x210)](_0x35454c);const _0x381100=_0x41d2dc[_0x42f3f3(0x1a7)],_0x2feb51=_0x41d2dc[_0x42f3f3(0x21d)],_0x49b2e2=_0x41d2dc[_0x42f3f3(0x1f3)];return _0x12330e[_0x42f3f3(0x1c5)](_0xb7a3de=>{const _0x93ea4=_0x42f3f3,_0x106886=new messages[(_0x93ea4(0x220))]['LogEntry']();_0x106886['setTestFrameworkName'](_0x381100),_0x106886[_0x93ea4(0x1e0)](_0x2feb51),_0x106886[_0x93ea4(0x1f8)](_0x49b2e2),_0x106886[_0x93ea4(0x17d)](_0xb7a3de[_0x93ea4(0x167)]),_0x106886[_0x93ea4(0x1c9)](_0xb7a3de[_0x93ea4(0x1b6)]),_0x106886['setKind'](_0xb7a3de['kind']),_0x522edc['oVKIp'](_0xb7a3de[_0x93ea4(0x1cd)],PLAYWRIGHT_TRACE_LOGS)?(_0x106886['setUuid'](_0xb7a3de[_0x93ea4(0x20e)]),_0x106886[_0x93ea4(0x172)](new TextEncoder()[_0x93ea4(0x233)](JSON[_0x93ea4(0x1ac)](_0xb7a3de)))):_0x106886[_0x93ea4(0x172)](new TextEncoder()[_0x93ea4(0x233)](_0xb7a3de['message'])),_0x106886[_0x93ea4(0x19c)](_0xb7a3de['level']),_0x106886[_0x93ea4(0x1ce)](_0xb7a3de?.['fileName']||''),_0x106886['setFilePath'](_0xb7a3de?.['filePath']||''),_0x106886[_0x93ea4(0x18d)](_0xb7a3de?.[_0x93ea4(0x16a)]||0x0),_0x106886[_0x93ea4(0x171)](_0xb7a3de?.['attachment_type']||''),_0x39c63b['addLogs'](_0x106886);}),new Promise((_0x241b7e,_0x370afa)=>{const _0x4797df=_0x42f3f3;this[_0x4797df(0x1d4)][_0x4797df(0x1d7)](_0x39c63b,(_0x302242,_0x1ff739)=>{const _0x55f8ef=_0x4797df;if(_0x302242){this['logger'][_0x55f8ef(0x202)](_0x55f8ef(0x1e4)+_0x302242[_0x55f8ef(0x17a)]),_0x522edc['syVmZ'](_0x370afa,_0x302242);return;}this[_0x55f8ef(0x1f2)]['info'](_0x522edc[_0x55f8ef(0x1b9)]),_0x522edc[_0x55f8ef(0x1f5)](_0x241b7e,_0x1ff739);});});}catch(_0x27a759){this[_0x42f3f3(0x1f2)][_0x42f3f3(0x202)](_0x42f3f3(0x180)+util['format'](_0x27a759));throw _0x27a759;}}['getClient'](){return this['client'];}[a65_0x4f0d55(0x185)](){return this['channel'];}}module[a65_0x4f0d55(0x1e2)]=GrpcClient;